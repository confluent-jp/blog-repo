<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Kafka Core | Confluent Japan Community</title><link>https://confluent-jp.github.io/community/category/kafka-core/</link><atom:link href="https://confluent-jp.github.io/community/category/kafka-core/index.xml" rel="self" type="application/rss+xml"/><description>Kafka Core</description><generator>Wowchemy (https://wowchemy.com)</generator><language>ja-jp</language><lastBuildDate>Thu, 12 Oct 2023 00:00:00 +0000</lastBuildDate><image><url>https://confluent-jp.github.io/community/media/icon_hubade5daff97c80353b10ab16b141ee15_5385_512x512_fill_lanczos_center_3.png</url><title>Kafka Core</title><link>https://confluent-jp.github.io/community/category/kafka-core/</link></image><item><title>Apache Kafka 3.6 „Ç¢„ÉÉ„Éó„Éá„Éº„Éà</title><link>https://confluent-jp.github.io/community/blog/apache-kafka-3.6/</link><pubDate>Thu, 12 Oct 2023 00:00:00 +0000</pubDate><guid>https://confluent-jp.github.io/community/blog/apache-kafka-3.6/</guid><description>&lt;p>Apache Kafka„ÅÆÊñ∞„Éê„Éº„Ç∏„Éß„É≥3.6„ÅåÂÖ¨Èñã„Åï„Çå„Åæ„Åó„Åü„ÄÇ
Zookeeper„É¢„Éº„Éâ„Åã„ÇâKRaft„É¢„Éº„Éâ„Å∏„ÅÆÁßªË°å„Åß„ÅØ„ÅÇ„Çä„Åæ„Åô„Åå„ÄÅKRaft„ÅÆÂº∑Âåñ„Å†„Åë„Åß„Å™„ÅèÊñ∞„Åü„Å™Ê©üËÉΩ„ÇÇÂ§ö„ÅèËøΩÂä†„Åï„Çå„Å¶„Åä„Çä„Åæ„Åô„ÄÇË©≥Á¥∞„ÅØ&lt;a href="https://www.confluent.io/blog/introducing-apache-kafka-3-6/" target="_blank" rel="noopener">Confluent„ÅÆ„Ç¢„Éä„Ç¶„É≥„Çπ„É°„É≥„Éà&lt;/a>„Å®&lt;a href="https://www.youtube.com/watch?v=GW3625sEJyc" target="_blank" rel="noopener">YouTube&lt;/a>„ÅßË™¨Êòé„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Çà„ÇäË©≥Á¥∞„Å´„ÅØ&lt;a href="https://kafka.apache.org/blog#apache_kafka_360_release_announcement" target="_blank" rel="noopener">Êú¨ÂÆ∂„ÅÆ„É™„É™„Éº„Çπ„Éé„Éº„Éà&lt;/a>„Å´„ÅØÂÖ®„Å¶„ÅÆÈñ¢ÈÄ£kIP„ÅÆ„É™„Çπ„Éà„ÅåÂÖ¨Èñã„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>Êú¨„Ç®„É≥„Éà„É™„Åß„ÅØ„ÄÅ‰∏≠„Åß„ÇÇÈáçË¶Å„Å™KIP„Å´„Å§„ÅÑ„Å¶„ÅîÁ¥π‰ªã„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="kip-405-kafka-tiered-storage-early-accesshttpscwikiapacheorgconfluencedisplaykafkakip-4053akafkatieredstorage">&lt;a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-405%3A&amp;#43;Kafka&amp;#43;Tiered&amp;#43;Storage" target="_blank" rel="noopener">KIP-405: Kafka Tiered Storage (Early Access)&lt;/a>&lt;/h3>
&lt;p>&lt;a href="../kip405-why-tiered-storage-important/">„Åì„Å°„Çâ„ÅÆ„Éñ„É≠„Ç∞„Ç®„É≥„Éà„É™&lt;/a>„Åß„ÇÇ„ÅîÁ¥π‰ªã„Åó„Å¶„ÅÑ„ÅüTiered Storage„Åå„Ç¢„Éº„É™„Éº„Ç¢„ÇØ„Çª„Çπ„Å®„Åó„Å¶Âà©Áî®ÂèØËÉΩ„Å®„Å™„Çä„Åæ„Åó„Åü„ÄÇÂçòÁ¥î„Å´Âè§„ÅÑ„Çª„Ç∞„É°„É≥„Éà„Åå„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çπ„Éà„É¨„Éº„Ç∏„Å´ÈÄÄÈÅø„Åï„Çå„Çã„Å†„Åë„Åß„Å™„Åè„ÄÅÊó¢Â≠ò„ÅÆKafka„ÅÆË®≠Ë®à„ÇÑ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„Å∏„ÅÆÂΩ±Èüø„Çí‰∏é„Åà„Åö„Å´„ÄÅKafkaËá™Ë∫´„Åå„Çà„Çä„ÇØ„É©„Ç¶„Éâ„Éç„Ç§„ÉÜ„Ç£„Éñ„Å™Âßø„Å∏„Å®Â§â„Çè„Çã‰∏ä„ÅßÈáçË¶Å„Å™Ê©üËÉΩ„Åß„Åô„ÄÇ&lt;/p>
&lt;p>‰ªäÂõû3.6„Å´ÁôªÂ†¥„Åó„Åü„Éê„Éº„Ç∏„Éß„É≥„ÅØ„Åæ„Å†Êú¨Áï™Áí∞Â¢É„Å´„Åä„Åë„ÇãÂà©Áî®„ÇíÊÉ≥ÂÆö„Åó„Å¶„ÅÑ„Å™„ÅÑÊó®„Å´„ÅîÁïôÊÑè„Åè„Å†„Åï„ÅÑ„ÄÇÊ©üËÉΩ„ÅÆÂÆâÂÆöÊÄß„Å†„Åë„Åß„Å™„Åè„ÄÅJBOD„ÇÑCompacted TopicÁ≠âÊ©üËÉΩÂà∂Èôê„ÇÇ„ÅÇ„Çä„Åæ„Åô„ÄÇÊó¢Â≠òTopic„ÇÇ„Éê„Éº„Ç∏„Éß„É≥„Çí3.6„Å´„Ç¢„ÉÉ„Éó„Ç∞„É¨„Éº„Éâ„Åô„Çå„Å∞Tiered Storage„Å´Â§âÊõ¥Âá∫Êù•„Åæ„Åô„Åå„ÄÅ2.8.0„Çà„ÇäÂâç„Å´‰ΩúÊàê„Åï„Çå„ÅüTopic„Å´„ÅØÈÅ©Áî®Âá∫Êù•„Å™„ÅÑÁÇπ„ÇÇ„ÅîÊ≥®ÊÑè‰∏ã„Åï„ÅÑ„ÄÇ„Ç¢„Éº„É™„Éº„Ç¢„ÇØ„Çª„ÇπÁâà„ÅÆÂà∂Èôê„ÅØ„Åì„Å°„Çâ„ÅÆ&lt;a href="https://cwiki.apache.org/confluence/display/KAFKA/Kafka&amp;#43;Tiered&amp;#43;Storage&amp;#43;Early&amp;#43;Access&amp;#43;Release&amp;#43;Notes" target="_blank" rel="noopener">Tiered Storage „Ç¢„Éº„É™„Éº„Ç¢„ÇØ„Çª„Çπ„É™„É™„Éº„Çπ„Éé„Éº„Éà&lt;/a>„Å´Ë®òËºâ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="kip-868-metadata-transactionshttpscwikiapacheorgconfluencedisplaykafkakip-868metadatatransactions">&lt;a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-868&amp;#43;Metadata&amp;#43;Transactions" target="_blank" rel="noopener">KIP-868 Metadata Transactions&lt;/a>&lt;/h3>
&lt;p>&lt;a href="https://developer.confluent.io/learn/kraft/" target="_blank" rel="noopener">KRaft&lt;/a>„ÅÆÂÜÖÈÉ®Âá¶ÁêÜ„Å´Èñ¢„Åô„ÇãÊîπÂñÑ„Åß„Åô„ÄÇKRaft„Åß„ÅØ„É°„Çø„Éá„Éº„Çø„ÅÆÊõ¥Êñ∞ÊôÇ„Å´Èñ¢ÈÄ£„É¨„Ç≥„Éº„Éâ (‰æãÔºöTopicÁôªÈå≤ÊôÇ„ÅÆÂÖ®Partition„ÅÆ„É¨„Ç≥„Éº„Éâ) „Çí„Ç¢„Éà„Éü„ÉÉ„ÇØ„Å´Êõ¥Êñ∞„Åô„Çã‰ªïÊßò„Å®„Å™„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åì„ÅÆÁÇ∫Controller„ÅåÂá¶ÁêÜ‰∏≠„Å´ÈöúÂÆ≥„Å´Èô•„Å£„ÅüÂ†¥Âêà„Åß„ÇÇÈÉ®ÂàÜÁöÑ„Å™„É°„Çø„Éá„Éº„Çø„ÅÆÊõ¥Êñ∞„Åå„Å™„Åï„Çå„Å™„ÅÑ„Çà„ÅÜ„Å´„Å™„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>‰∏ÄÊñπ„Åì„ÅÆ„Éê„ÉÉ„ÉÅ„Çµ„Ç§„Ç∫„ÅØKRaft„ÅÆ„Éï„Çß„ÉÉ„ÉÅ„Çµ„Ç§„Ç∫„Åå‰∏äÈôê„Å®„Å™„Å£„Å¶„Åä„Çä„ÄÅ„Ç¢„ÉÉ„Éó„Éá„Éº„ÉàÂâç„Åß„ÅØ„Åì„ÅÆ„Çµ„Ç§„Ç∫„ÅØ8kb„Å®„Å™„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åì„ÅÆÁÇ∫ÈùûÂ∏∏„Å´Â§ß„Åç„Å™„É°„Çø„Éá„Éº„Çø„ÅÆÊõ¥Êñ∞ÊôÇ„Å´„ÅØ„Éï„Çß„ÉÉ„ÉÅ‰∏äÈôê„ÇíË∂Ö„Åà„Çã„Éê„ÉÉ„ÉÅ„ÅåÁîüÊàê„Åï„Çå„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åó„Åü„ÄÇ&lt;/p>
&lt;p>„Åì„ÅÆÊîπÂñÑ„ÅßÊñ∞„Åü„Å´„É°„Çø„Éá„Éº„Çø„Å´„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„ÅÆÊ¶ÇÂøµ„ÅåÂ∞éÂÖ•„Åï„Çå„ÄÅ„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„ÅÆÈñãÂßã/ÁµÇ‰∫ÜÁ≠â„ÅÆ„Éû„Éº„Ç´„Éº„É¨„Ç≥„Éº„Éâ„ÇíÊåøÂÖ•„Åô„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åô„ÄÇ„Åì„Çå„Å´„Çà„ÇäKRaft„ÅÆ„Éï„Çß„ÉÉ„ÉÅ„Çµ„Ç§„Ç∫„ÇíË∂Ö„Åà„ÇãÊõ¥Êñ∞„Éê„ÉÉ„ÉÅ„Çµ„Ç§„Ç∫„Å´„Å™„Å£„ÅüÂ†¥Âêà„Åß„ÇÇÂá¶ÁêÜ„ÅåÂèØËÉΩ„Å®„Å™„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="kip-941-range-queries-to-accept-null-lower-and-upper-boundshttpscwikiapacheorgconfluencedisplaykafkakip-9413arangequeriestoacceptnulllowerandupperbounds">&lt;a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-941%3A&amp;#43;Range&amp;#43;queries&amp;#43;to&amp;#43;accept&amp;#43;null&amp;#43;lower&amp;#43;and&amp;#43;upper&amp;#43;bounds" target="_blank" rel="noopener">KIP-941: Range queries to accept null lower and upper bounds&lt;/a>&lt;/h3>
&lt;p>Kafka Streams„Å´„Å¶„Éû„ÉÜ„É™„Ç¢„É©„Ç§„Ç∫„Åó„ÅüState Store„Å´ÂØæ„Åó„Å¶„Ç¢„ÇØ„Çª„Çπ„Åô„Çã„Å´„ÅØ&lt;a href="https://docs.confluent.io/platform/current/streams/developer-guide/interactive-queries.html" target="_blank" rel="noopener">Interactive Query&lt;/a>„ÇíÂà©Áî®„Åó„Åæ„Åô„ÄÇ„Åì„Çå„Å´„Çà„Çä„ÄÅ„Ç¢„ÇØ„Çª„Çπ„Åô„Çã„Éá„Éº„Çø„ÅåÂàÜÊï£ÈÖçÁΩÆ„Åï„Çå„Å¶„ÅÑ„ÇãKafka Streams„ÅÆ„Å©„ÅÆ„Ç§„É≥„Çπ„Çø„É≥„Çπ„Å´„Å¶‰øùÂ≠ò„Åï„Çå„Å¶„ÅÑ„Çã„ÅÆ„Åã„ÇíÊÑèË≠ò„Åõ„Åö„Å®„ÇÇÈÅ©Âàá„Å™„Éá„Éº„Çø„ÇíÂèñÂæó„Åô„Çã‰∫ã„ÅåÂá∫Êù•„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>‰∏ÄÊñπÂÜÖÈÉ®„Åß„ÅØ„Åù„Çå„Åû„Çå„ÅÆ„Éá„Éº„Çø„ÅØKafka Streams„Ç§„É≥„Çπ„Çø„É≥„Çπ„Å´ÈÉ®ÂàÜÁöÑ„Å´‰øùÂ≠ò„Åï„Çå„Å¶„ÅÑ„ÇãÁÇ∫„ÄÅ„É¨„É≥„Ç∏ÊåáÂÆö„Çí„Åó„Å¶ÂèñÂæó„Åô„ÇãÂ†¥Âêà„Å´„ÅØÂá¶ÁêÜ„Å´Â§ß„Åç„Å™Ë≤†Ëç∑„Åå„Åã„Åã„Çä„Åæ„Åô„ÄÇ„Åì„ÅÆÁÇ∫„É¨„É≥„Ç∏ÊåáÂÆö„ÅÆ„ÇØ„Ç®„É™„ÅØÂà∂Èôê„ÅåÂ§ö„Åè„ÄÅ„Ç¢„ÉÉ„Éó„Éá„Éº„ÉàÂâç„Åß„ÅØnull„ÇíÊåáÂÆö„Åó„ÅüÂèñÂæó„ÅåÂá∫Êù•„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ„Åì„ÅÆÁÇ∫Ôºö&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RangeQuery&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ValueAndTimestamp&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">StockTransactionAggregation&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">createRangeQuery&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lower&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">upper&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">isBlank&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lower&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">isBlank&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">upper&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RangeQuery&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withNoBounds&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">isBlank&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lower&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">isBlank&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">upper&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RangeQuery&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withLowerBound&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lower&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">isBlank&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lower&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">isBlank&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">upper&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RangeQuery&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withUpperBound&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">upper&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RangeQuery&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withRange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lower&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">upper&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>„Åì„ÅÆ„Çà„ÅÜ„Å™ÂõûÈÅøÁöÑ„Å™„Ç≥„Éº„Éá„Ç£„É≥„Ç∞„ÅåÂøÖË¶Å„Åß„Åó„Åü„ÄÇ&lt;/p>
&lt;p>‰ªäÂõû„É¨„É≥„Ç∏„ÇØ„Ç®„É™„Å´nullÊåáÂÆö„ÅåÂá∫Êù•„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü‰∫ã„Å´„Çà„ÇäÔºö&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">RangeQuery&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">withRange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lower&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">upper&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>„Åì„Çå„Å†„Åë„Åßnull„ÇíÂõûÈÅø„Åó„ÅüÂÆüË£Ö„ÅåÂèØËÉΩ„Å®„Å™„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="kip-875-first-class-offsets-support-in-kafka-connecthttpscwikiapacheorgconfluencedisplaykafkakip-8753afirst-classoffsetssupportinkafkaconnect">&lt;a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-875%3A&amp;#43;First-class&amp;#43;offsets&amp;#43;support&amp;#43;in&amp;#43;Kafka&amp;#43;Connect" target="_blank" rel="noopener">KIP-875: First-class offsets support in Kafka Connect&lt;/a>&lt;/h3>
&lt;p>Kafka Connect„ÅØ„Åù„ÅÆÂá¶ÁêÜÁä∂Ê≥Å„ÇíKafka„Éç„Ç§„ÉÜ„Ç£„Éñ„Å´„Ç™„Éï„Çª„ÉÉ„Éà„ÇíÁÆ°ÁêÜ„Åô„Çã‰∫ã„Å´„Çà„ÇäÊääÊè°/ÁÆ°ÁêÜ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇConnector„Çø„Çπ„ÇØ„ÅåÁï∞Â∏∏ÁµÇ‰∫Ü„Åó„ÅüÂ†¥Âêà„Åß„ÇÇ„ÄÅ„Ç≥„Éü„ÉÉ„Éà„Åï„Çå„Åü„Ç™„Éï„Çª„ÉÉ„Éà„ÇíÂÖÉ„Å´Á∂ôÁ∂öÂá¶ÁêÜ„Åß„Åç„Çã„ÅÆ„Åß„ÄÅConnectorËá™Ë∫´„Å´„ÅØÁã¨Ëá™„ÅÆ„Çπ„ÉÜ„Éº„ÉàÁÆ°ÁêÜ„ÅÆ„Çπ„Éà„É¨„Éº„Ç∏Á≠â„ÅåÁÑ°„Åè„Å®„ÇÇÈöúÂÆ≥ËÄêÊÄß„ÇíÁ¢∫‰øù„Åô„Çã‰∫ã„ÅåÂá∫Êù•„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>‰∏ÄÊñπ„Åì„ÅÆ„Ç™„Éï„Çª„ÉÉ„Éà„ÅØKafka‰∏ä„Åß„ÅØÂèÇÁÖß„Åß„Åç„Çã„ÇÇ„ÅÆ„ÅÆKafka Connect„Å®„Åó„Å¶„ÅØÂ§ñÈÉ®„Åã„Çâ„Ç¢„ÇØ„Çª„ÇπÂá∫Êù•„Çã„Çà„ÅÜ„Å´„ÅØ„Å™„Å£„Å¶„ÅÑ„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ‰Ωï„Åã„Åó„Çâ„ÅÆÁêÜÁî±„Åß„Ç™„Éï„Çª„ÉÉ„Éà„ÇíÂà∂Âæ°„Åó„Åü„ÅÑÔºàÁâπÂÆö„É¨„Ç≥„Éº„Éâ„É¨„É≥„Ç∏„ÇíÈ£õ„Å∞„Åó„Åü„ÅÑ„ÄÅ„ÅÇ„Çã„Ç™„Éï„Çª„ÉÉ„Éà„Åã„ÇâÂÜçË™≠„ÅøËæº„Åø„Åó„Åü„ÅÑ„ÄÅetcÔºâÂ†¥Âêà„Å´„ÅØ„Éè„ÉÉ„ÇØÁöÑ„Å´Kafka‰∏ä„ÅÆ„Ç™„Éï„Çª„ÉÉ„ÉàÁî®Topic„Çí„ÅÑ„Åò„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åó„Åü„ÄÇ&lt;/p>
&lt;p>„Åì„ÅÆÊîπÂñÑ„Å´„Çà„Å£„Å¶Kafka Connect APIÁµåÁî±„Åß„Ç™„Éï„Çª„ÉÉ„Éà„ÅÆÂèñÂæó„ÄÅÊõ¥Êñ∞„ÄÅÂâäÈô§„ÅåÂèØËÉΩ„Å®„Å™„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="„Åä„Çè„Çä„Å´">„Åä„Çè„Çä„Å´&lt;/h3>
&lt;p>Apache Kafka 3.6„Å´„ÅØ„Åù„ÅÆ‰ªñÂ§ö„Åè„ÅÆÊîπÂñÑ„ÅåÂê´„Åæ„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ‰ªäÂõû„ÅÆ„Ç®„É≥„Éà„É™„Åß„ÅØ„Åù„ÅÆ‰∏ÄÈÉ®„Åó„ÅãËß¶„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„Åå„ÄÅÊòØÈùûÊú¨ÂÆ∂„ÅÆ&lt;a href="https://kafka.apache.org/blog#apache_kafka_360_release_announcement" target="_blank" rel="noopener">„É™„É™„Éº„Çπ„Éé„Éº„Éà&lt;/a>„ÇÇ‰Ωµ„Åõ„Å¶„ÅîÂèÇÁÖß„Åè„Å†„Åï„ÅÑ„ÄÇ&lt;/p></description></item><item><title>Kafka„Å®„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„Å®Exactly Once</title><link>https://confluent-jp.github.io/community/blog/kafka-transaction-how-it-works/</link><pubDate>Sat, 09 Sep 2023 00:00:00 +0000</pubDate><guid>https://confluent-jp.github.io/community/blog/kafka-transaction-how-it-works/</guid><description>&lt;h2 id="„ÅØ„Åò„ÇÅ„Å´">„ÅØ„Åò„ÇÅ„Å´&lt;/h2>
&lt;p>Kafka„ÅÆÂà©Áî®„ÅØ&lt;a href="https://www.youtube.com/watch?v=9uCP3qHNbWw" target="_blank" rel="noopener">ÁµêÊûúÊï¥ÂêàÊÄß&lt;/a>„ÅÆÊ¶ÇÂøµ„ÅÆÊµ∏ÈÄè„Å®„Åù„ÅÆÂÆüË∑µÁöÑ„Å™Ê¥ªÁî®„É¶„Éº„Çπ„Ç±„Éº„Çπ„ÅÆÁôªÂ†¥„Å´„Çà„Å£„Å¶È£õË∫çÁöÑ„Å´Â∫É„Åå„Çä„Åæ„Åó„Åü„ÄÇ„Åù„Çå„Åæ„Åß„ÅÆ„É™„É¨„Éº„Ç∑„Éß„Éä„É´„É¢„Éá„É´„Å´Ë¶ã„Çâ„Çå„Çã&lt;a href="https://ja.wikipedia.org/wiki/ACID_%28%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF%E7%A7%91%E5%AD%A6%29" target="_blank" rel="noopener">ACIDÁâπÊÄß&lt;/a>„ÇíÂâçÊèê„Å®„Åó„ÅüÊï¥ÂêàÊÄß„ÅÆÁÆ°ÁêÜ„Åß„ÅØ„Å™„Åè„ÄÅ&lt;a href="https://martin.kleppmann.com/2015/06/02/change-capture-at-berlin-buzzwords.html" target="_blank" rel="noopener">Change Data Capture&lt;/a>„Å´„Çà„Å£„Å¶Êï¥ÂêàÊÄß„ÇíÊï¥ÁêÜ„Åô„Çã„Å®„ÅÑ„ÅÜÂ§ß„Åç„ÅèÁï∞„Å™„Çã„Ç¢„Éó„É≠„Éº„ÉÅ„Åß„ÅÇ„Çä„ÄÅÊó¢Â≠ò„ÅÆÊ¶ÇÂøµ„Å´ÊåëÊà¶„Åô„Çã„ÇÇ„ÅÆ„Åß„Åó„Åü„ÄÇ&lt;/p>
&lt;p>„É™„É¨„Éº„Ç∑„Éß„Éä„É´„É¢„Éá„É´„Å´„Åä„Åë„Çã„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„Åß„ÅØ„Å™„ÅÑ„Äå‰ªä„Åß„ÅØ„Å™„ÅÑËøë„ÅÑÂ∞ÜÊù•„Å´„ÅØ„Éá„Éº„Çø„ÅØÊï¥ÂêàÊÄß„Çí‰øù„Å£„ÅüÁä∂ÊÖã„ÅßÈÄ£Êê∫ÂÖà„Å´Â±ä„Åè„Äç„Å®„ÅÑ„ÅÜ„Ç¢„Éó„É≠„Éº„ÉÅ„Åß„ÅÇ„ÇãÁÇ∫„ÄÅChange Data Capture„ÇíÊ¥ªÁî®„Åó„Åü„ÇΩ„É™„É•„Éº„Ç∑„Éß„É≥„Å´„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„ÅÆÊ¶ÇÂøµ„ÅåÁôªÂ†¥„Åô„Çã„Å®Ê∑∑‰π±„ÇíÊãõ„Åè‰∫ã„ÇÇÂ§ö„Åè„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>Kafka„ÇÇ„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„Çí„Çµ„Éù„Éº„Éà„Åó„Å¶„Åä„Çä„ÄÅ„Éá„Éº„Çø„ÇíÊï¥ÂêàÊÄß„Çí‰øù„Å£„Åü„Åæ„Åæ„É™„Ç¢„É´„Çø„Ç§„É†„Å´Êâ±„ÅÜ‰∏ä„ÅßÈùûÂ∏∏„Å´ÈáçË¶Å„Å™Ê¶ÇÂøµ„Åß„Åô„ÄÇ„Åó„Åã„Åó„Å™„Åå„Çâ„ÄÅKafka„ÅÆ„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„ÅÆÁõÆÁöÑ„ÅØ„É™„É¨„Éº„Ç∑„Éß„Éä„É´„É¢„Éá„É´„ÅÆ„Åù„Çå„Å®„ÅØÂ§ß„Åç„ÅèÁï∞„Å™„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Åì„ÅÆ„Ç®„É≥„Éà„É™„ÅØ„ÄÅKafka„Å´„Åä„Åë„Çã„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„Åå„Å©„ÅÜ„ÅÑ„ÅÜ„ÇÇ„ÅÆ„Åß„ÅÇ„Çã„Åã„ÅÆË™¨Êòé„Å®„ÄÅ„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„Å´„Åæ„Å§„Çè„ÇãÊßò„ÄÖ„Å™Ë™§Ëß£„ÇíËß£„Åè‰∫ã„ÇíÁõÆÁöÑ„Å®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;h2 id="„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„Å®exactly-once">„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„Å®Exactly Once&lt;/h2>
&lt;p>„É°„ÉÉ„Çª„Éº„Ç∏„É≥„Ç∞„ÅÆ‰∏ñÁïå„Åß„ÅØ„ÄåÁ¢∫ÂÆü„Å´1Â∫¶„Å†„Åë„É°„ÉÉ„Çª„Éº„Ç∏„Çí„Éá„É™„Éê„É™„Éº„Åô„Çã„Äç„Å®„ÅÑ„ÅÜ‰∫ã„ÅåÊ•µ„ÇÅ„Å¶Èõ£„Åó„ÅÑ„Å®„Åï„Çå„Å¶„Åç„Åæ„Åó„Åü„ÄÇ&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup> ‰∏ÄÊñπ„ÄÅ„É°„ÉÉ„Çª„Éº„Ç∏„Çí (ÊúÄ‰Ωé1Âõû‰ª•‰∏ä) Á¢∫ÂÆü„Å´„Éá„É™„Éê„É™„Éº„Åô„ÇãÊâãÊ≥ï„ÅØË´ñÁêÜÁöÑ„Å´„ÇÇÂÆüË£ÖÁöÑ„Å´„ÇÇÊØîËºÉÁöÑÂÆπÊòì„Åß„ÅÇ„ÇãÁÇ∫„ÄÅ„Åª„Å®„Çì„Å©„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„É≥„Ç∞Âü∫Áõ§„ÅØ„Åì„ÅÆÊâãÊ≥ï„Çí‰∏ª„Å´Êé°Áî®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇOSS„Å®„Åó„Å¶ÂÖ¨Èñã„Åï„Çå„ÅüÂΩìÊôÇ„ÅÆKafka„ÇÇ„Åù„ÅÆ‰∏Ä„Å§„Åß„Åó„Åü„ÄÇ„Éá„Éº„Çø„ÇíÈÄÅ„ÇãÂÅ¥ (Producer) „Åß1Âõû„Å†„ÅëÈÄÅ„Çã„Å®„ÅÑ„ÅÜ„ÅÆ„ÅåÈõ£„Åó„ÅÑÁÇ∫„ÄÅÂèó„ÅëÂèñ„ÇäÂÅ¥ (Consumer) ÂÅ¥„ÅßÈáçË§á„É°„ÉÉ„Çª„Éº„Ç∏„ÅÆÂá¶ÁêÜ„ÇíË°å„ÅÜÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ &lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;/p>
&lt;p>Kafka„Åå&lt;a href="https://www.confluent.io/ja-jp/blog/exactly-once-semantics-are-possible-heres-how-apache-kafka-does-it/" target="_blank" rel="noopener">Exactly Once Delivery&lt;/a>Ê©üËÉΩ„Çí„Çµ„Éù„Éº„Éà„Åó„Åü„ÅÆ„ÅØ„Éê„Éº„Ç∏„Éß„É≥0.11„Åß„Åô„ÄÇ„Åì„ÅÆÈ†É„Çà„Çä„ÄÅÁµêÊûúÊï¥ÂêàÊÄß„ÇíÂâçÊèê„Å®„Åó„Åü„ÇΩ„É™„É•„Éº„Ç∑„Éß„É≥„ÅÆÂúüÂè∞„Å®„Å™„ÇäÂæó„ÇãKafka„ÅÆÂà©Áî®„ÅåÈ£õË∫çÁöÑ„Å´Â∫É„Åå„Çä„Åæ„Åó„Åü„ÄÇ&lt;/p>
&lt;p>Exactly Once Delivery„Å´Èñ¢„Åô„ÇãKIP„ÅÆÊ≠£ÂºèÂêç„ÅØ&lt;a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-98&amp;#43;-&amp;#43;Exactly&amp;#43;Once&amp;#43;Delivery&amp;#43;and&amp;#43;Transactional&amp;#43;Messaging" target="_blank" rel="noopener">Exactly Once Delivery and Transactional Messaging&lt;/a>„Åß„ÅÇ„Çä„ÄÅIdempotent Producer„Å®„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„ÅÆÂèåÊñπ„ÇíÁ∫è„ÇÅ„Å¶1„Å§„ÅÆKIP„ÅßÂÆöÁæ©„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åì„ÅÆÁÇ∫„ÄÅExactly Once Delivery„ÇíÈÅîÊàê„Åô„ÇãÁÇ∫„Å´„ÅØÂøÖ„Åö„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„ÅÆÂ∞éÂÖ•„ÅåÂøÖË¶Å„Å™„Çà„ÅÜË™§Ëß£„Åï„Çå„Å¶„ÅÑ„Çã‰∫ã„ÇÇÂ§ö„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇÂΩìÁÑ∂„Åì„Çå„Çâ2„Å§„Å´„ÅØÂº∑„ÅÑÈñ¢ÈÄ£ÊÄß„Åå„ÅÇ„ÇãÁÇ∫Âêå„ÅòKIPÂÜÖ„ÅßË™¨Êòé„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„Åå„ÄÅ„Åù„Çå„Åû„ÇåÁï∞„Å™„ÇãÊ©üËÉΩ„Åß„ÅÇ„Çä„ÄÅÂàÜËß£„Åó„Å¶ÁêÜËß£„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>Idempotent Producer„Å´„Å§„ÅÑ„Å¶„ÅØ&lt;a href="../idempotent-producer-and-max-inflight/">„Åì„Å°„Çâ„ÅÆ„Éñ„É≠„Ç∞„Ç®„É≥„Éà„É™&lt;/a>„Åß„ÅîÁ¥π‰ªã„Åó„Å¶„ÅÑ„Åæ„Åô„Åå„ÄÅÂÖ∑‰ΩìÁöÑ„Å´„ÅØProducer„ÅåKafka„Å´ÂØæ„Åó„Å¶Exactly Once„Åß„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÈÄÅ„ÇãÁÇ∫„Å´ÂøÖË¶Å„Å™Ê©üËÉΩ„Åß„ÅÇ„Çä„ÄÅKafka„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥Ê©üËÉΩ„Å®„ÅØÁï∞„Å™„Çä„Åæ„Åô„ÄÇ„Å§„Åæ„ÇäÊòéÁ§∫ÁöÑ„Å´„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„Çí‰ΩøÁî®„Åó„Å™„Åè„Å¶„ÇÇ„ÄÅProducer„Åã„ÇâKafka„Å∏„ÅÆÊõ∏„ÅçËæº„Åø„ÅØExactly Once„Å´ÊåáÂÆö„Åß„Åç„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="kafka-transaction">Kafka Transaction&lt;/h3>
&lt;p>Kafka„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥Ëá™‰Ωì„ÅØ„É™„É¨„Éº„Ç∑„Éß„Éä„É´DB„Å´„Åä„Åë„Çã„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„Å®Ëøë„ÅÑÊÄùÊÉ≥„ÇíÊåÅ„Å§„ÇÇ„ÅÆ„Åß„ÄÅÁï∞„Å™„Çã„Ç®„É≥„ÉÜ„Ç£„ÉÜ„Ç£„Å∏„ÅÆÊõ∏„ÅçËæº„ÅøÂá¶ÁêÜ„Çí„Ç¢„Éà„Éü„ÉÉ„ÇØ„Å´Êâ±„Åà„ÇãÊ©üËÉΩ„Åß„Åô„Åå„ÄÅKafka„ÅÆ‰∏ñÁïå„Åß„ÅØÂØæË±°„ÅåTopic„Å®„Å™„Çä„Åæ„Åô„ÄÇ„Å§„Åæ„Çä„ÄÅÁï∞„Å™„ÇãTopic„Å∏„ÅÆÊõ∏„ÅçËæº„Åø„ÇíCommit/Abort„Åô„Çã‰∫ã„Åå„Åß„Åç„ÇãÊ©üËÉΩ„Åß„Åô„ÄÇÂà©Áî®ÊñπÊ≥ï„ÇÇ„É™„É¨„Éº„Ç∑„Éß„Éä„É´DB API„Å∏„ÅÆ„Éó„É≠„Ç∞„É©„É†„Ç¢„ÇØ„Çª„Çπ„Å®‰ºº„Å¶„Åä„ÇäÔºö&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">initTransactions&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IllegalStateException&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">beginTransaction&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ProducerFencedException&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">commitTransaction&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ProducerFencedException&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">abortTransaction&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ProducerFencedException&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">sendOffsetsToTransaction&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">TopicPartition&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">OffsetAndMetadata&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">offsets&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">consumerGroupId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ProducerFencedException&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>„Åì„Çå„Çâ„É°„ÇΩ„ÉÉ„Éâ„ÇíÊâ±„ÅÑ„Éó„É≠„Ç∞„É©„É†„Ç≥„Éº„ÉâÂÜÖ„Åß„Ç¢„Éà„Éü„ÉÉ„ÇØÂá¶ÁêÜ„ÅÆÂà∂Âæ°„ÇíË°å„ÅÜ‰∫ã„ÅåÂá∫Êù•„Åæ„Åô„ÄÇÂΩìÁÑ∂„ÄÅ&lt;code>Topic A&lt;/code>„Å®&lt;code>Topic B&lt;/code>„Å∏„ÅÆÊõ∏„ÅçËæº„Åø„Çí„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„ÅßÊã¨„Çã„Åì„Å®„ÇÇÂá∫Êù•„Åæ„Åô„ÄÇ„Åó„Åã„Åó„Å™„Åå„Çâ„ÄÅ„É™„É¨„Éº„Ç∑„Éß„Éä„É´„É¢„Éá„É´ÂêåÊßò„ÅÆ„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„ÅÆ‰Ωø„ÅÑÊñπ„Åß„ÅØ„ÄÅKafka„Å∏„ÅÆ„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥Âá¶ÁêÜ„ÅÆÂ∞éÂÖ•„ÅåÈ´ò„ÅÑÂÑ™ÂÖàÂ∫¶„ÅßÊâ±„Çè„Çå„Åü„ÅÆ„ÇÇ„ÄÅ„Åì„ÅÆÊ©üËÉΩ„ÅåExactly Once Delivery„Å®Èñ¢ÈÄ£„Å•„Åë„Çâ„ÇåÂêå‰∏Ä„ÅÆKIPÂÜÖ„ÅßË®≠Ë®à„Åï„Çå„Å¶„ÅÑ„Çã„Åì„Å®„ÇÇË™¨Êòé„Åß„Åç„Åæ„Åõ„Çì„ÄÇ&lt;/p>
&lt;p>‰∏äË®ò„Å´„ÅØ‰∏ÄËà¨ÁöÑ„Å™„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥Âá¶ÁêÜ„Åß„ÅØË¶ã„Çâ„Çå„Å™„ÅÑ„É°„ÇΩ„ÉÉ„Éâ„ÇÇÂê´„Åæ„Çå„Å¶„ÅÑ„Åæ„Åô„Åå&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">sendOffsetsToTransaction&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">TopicPartition&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">OffsetAndMetadata&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">offsets&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">consumerGroupId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ProducerFencedException&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>„Åì„ÅÆ„É°„ÇΩ„ÉÉ„Éâ„ÅåExactly Once Delivery„Å®„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„ÇíÈñ¢ÈÄ£‰ªò„Åë„ÇãÈáçË¶Å„Å™ÂΩπÂâ≤„ÇíÊãÖ„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="sendoffsetstotransaction">sendOffsetsToTransaction&lt;/h3>
&lt;p>„Åì„ÅÆ„É°„ÇΩ„ÉÉ„Éâ„Åå‰Ωï„Çí„Åô„Çã„Åã„ÅØÂêçÂâç„Åã„Çâ„ÇÇ„ÅÇ„ÇãÁ®ãÂ∫¶Êé®Ê∏¨„Åß„Åç„Åæ„Åô„Åå„ÄÅ„ÄåÂá¶ÁêÜ„Åó„Åü‰∏ÄÈÄ£„ÅÆConsumer Offset„ÇíConsumer Group Coordinator„Å´ÈÄÅ„Çä„Å§„Å§„ÄÅ &lt;strong>ÁèæÂú®„ÅÆ„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„Å´Èñ¢ÈÄ£‰ªò„Åë„Çã&lt;/strong> „Äç„É°„ÇΩ„ÉÉ„Éâ„Åß„Åô„ÄÇÂ∞ë„ÄÖ„Ç¢„ÇØ„É≠„Éê„ÉÜ„Ç£„ÉÉ„ÇØ„Å™Âá¶ÁêÜ„Åß„Åô„Åå„ÄÅ„Åì„ÅÆÂá¶ÁêÜ„Çí„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥API„Å´ÂÆöÁæ©„Åô„Çã„Å´„ÅØÂøÖË¶ÅÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Åì„ÅÆ„É°„ÇΩ„ÉÉ„Éâ„ÅØ„ÄÅÂÖ®„ÅèÁï∞„Å™„Çã2„Å§„ÅÆÂá¶ÁêÜ„Çí1„É°„ÇΩ„ÉÉ„Éâ„Å´Á∫è„ÇÅ„Çã„Å®„ÅÑ„ÅÜ„Çø„Éñ„Éº„Å´Ëøë„ÅÑ„É°„ÇΩ„ÉÉ„Éâ„Åß„Åô„ÄÇ„Åï„Çâ„Å´Ê≥®ÊÑè„Åô„Åπ„Åç„Å™„ÅÆ„ÅØ„ÄÅ„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„ÅØProducer„Å´Èñ¢„Çè„ÇãÊ©üËÉΩ„Åß„ÅÇ„Çä„ÄÅConsumer Offset„ÅØConsumer„Å´Èñ¢„Çè„ÇãÊ©üËÉΩ„Åß„Åô„ÄÇ„Å§„Åæ„Çä„Åì„ÅÆ„É°„ÇΩ„ÉÉ„Éâ„ÅØProducer„Åß„ÇÇ„ÅÇ„ÇäConsumer„Åß„ÇÇ„ÅÇ„ÇãÂá¶ÁêÜ„Åß„Åó„ÅãÂ≠òÂú®ÊÑèÁæ©„ÅåÁÑ°„ÅÑ„É°„ÇΩ„ÉÉ„Éâ„Åß„Åô„ÄÇ&lt;/p>
&lt;p>‰∏ÄËà¨ÁöÑ„Å™„É°„ÉÉ„Çª„Éº„Ç∏„É≥„Ç∞„É¢„Éá„É´„Åß„ÅØ„ÅÇ„Åæ„ÇäÊ§úË®é„Åó„Å™„ÅÑ„Åì„ÅÆÂá¶ÁêÜ„Åß„Åô„Åå„ÄÅKafka„ÅÆ„Ç®„Ç≥„Ç∑„Çπ„ÉÜ„É†„Åß„ÅØ&lt;a href="https://www.confluent.io/ja-jp/online-talks/benefits-of-stream-processing-and-apache-kafka-use-cases-on-demand/" target="_blank" rel="noopener">„Çπ„Éà„É™„Éº„É†Âá¶ÁêÜ&lt;/a>„Å´„Åä„Åë„ÇãÊ†πÊú¨ÁöÑ„Åã„Å§ÈáçË¶Å„Å™Ë¶Å‰ª∂„Å®„Å™„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;h2 id="„Çπ„Éà„É™„Éº„É†Âá¶ÁêÜ„Å®exactly-once">„Çπ„Éà„É™„Éº„É†Âá¶ÁêÜ„Å®Exactly Once&lt;/h2>
&lt;h3 id="„Çπ„Éà„É™„Éº„É†Âá¶ÁêÜ">„Çπ„Éà„É™„Éº„É†Âá¶ÁêÜ&lt;/h3>
&lt;p>„Çπ„Éà„É™„Éº„É†Âá¶ÁêÜ„Å®„ÅØ„ÄÅ‰∏ÄËà¨ÁöÑ„Å™„Éê„ÉÉ„ÉÅÂá¶ÁêÜÂêåÊßò„Å´Input„Å®Output„ÇíÊåÅ„Å§„Éá„Éº„ÇøÂá¶ÁêÜ„Çí„ÄÅ‰∏≠ÈñìÁöÑ„Å™„Çπ„Éà„É¨„Éº„Ç∏„ÇíÁµåÁî±„Åô„Çã‰∫ã„Å´„Çà„Çä‰∏ÄÈÄ£„ÅÆ„Éá„Éº„Çø„Éï„É≠„Éº„Å®„Åó„Å¶ÂΩ¢Êàê„Åô„Çã„Ç¢„Éó„É≠„Éº„ÉÅ„Åß„Åô„ÄÇ„Éê„ÉÉ„ÉÅ„Å®„ÅÆÈÅï„ÅÑ„ÅØ„ÄÅ„Åù„ÅÆ‰∏≠ÈñìÁöÑ„Å™„Çπ„Éà„É¨„Éº„Ç∏„Ååcsv„Éï„Ç°„Ç§„É´„ÇÑDB„ÅÆ‰∏≠Èñì„ÉÜ„Éº„Éñ„É´„Åß„ÅØ„Å™„ÅèKafka Topic„ÇíÂà©Áî®„Åô„Çã‰∫ã„Åß„ÅÇ„Çä„ÄÅ„Åì„Çå„Å´„Çà„Çä„Éê„ÉÉ„ÉÅÂêåÊßò„ÅÆ„Éá„Éº„Çø„Éï„É≠„Éº„Çí„É™„Ç¢„É´„Çø„Ç§„É†&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>„Å´ÂÆüË°å„Åô„Çã‰∫ã„ÅåÂá∫Êù•„ÇãÁÇπ„Åß„Åô„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="„Çπ„Éà„É™„Éº„É†Âá¶ÁêÜ - Ë´ñÁêÜ„Éï„É≠„Éº" srcset="
/community/media/blogs/kafka-transaction-how-it-works/stream-processing-logical-view_hu7ad9a819e248931517be742776eecf4e_31936_5a33e9959c337d50f76925b46d5cd296.webp 400w,
/community/media/blogs/kafka-transaction-how-it-works/stream-processing-logical-view_hu7ad9a819e248931517be742776eecf4e_31936_d1371efabf84eae9e2b715826d01647c.webp 760w,
/community/media/blogs/kafka-transaction-how-it-works/stream-processing-logical-view_hu7ad9a819e248931517be742776eecf4e_31936_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-transaction-how-it-works/stream-processing-logical-view_hu7ad9a819e248931517be742776eecf4e_31936_5a33e9959c337d50f76925b46d5cd296.webp"
width="760"
height="261"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;p>„Åì„ÅÆ‰æã„Åß„ÅØSource„Åã„ÇâÁô∫Ë°å„Åï„Çå„Åü„Ç§„Éô„É≥„Éà„Çí„ÄÅ„Ç®„É≥„É™„ÉÉ„ÉÅ„Åó„Å¶„Ç¢„Éó„É™„ÇÑDB„Å´Ê†ºÁ¥ç„Åô„Çã„Éï„É≠„Éº„Å®„ÄÅÈõÜÁ¥Ñ„Åó„ÅüÂæå„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„Å´Ëª¢ÈÄÅ„Åô„Çã„Éï„É≠„Éº„ÇíË°®Áèæ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Ç§„Éô„É≥„Éà„ÅØKafka„Å´Áô∫Ë°å„Åï„Çå„Å¶„Åã„Çâ„ÄÅKafkaÂÜÖ„ÅßÂ§âÊõ¥/Âä†Â∑•„Åï„Çå„ÅüÂæå„Å´Sink„Å∏„Å®„É™„Ç¢„É´„Çø„Ç§„É†„Å´Áπã„Åí„Çã„Éá„Éº„Çø„Éï„É≠„Éº„Å®„Å™„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Åì„Çå„ÅØ„ÅÇ„Åè„Åæ„ÅßË´ñÁêÜÁöÑ„Å™„Éï„É≠„Éº„Åß„Åô„Åå„ÄÅÂÆüÈöõ„Å´„ÅØ„Éá„Éº„Çø„Éï„É≠„ÉºÂÜÖ„ÅÆÂá¶ÁêÜ„ÅØÂÖ®„Å¶Kafka„Å®„ÅÆÈÄö‰ø°„ÅßÊàê„ÇäÁ´ã„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="„Çπ„Éà„É™„Éº„É†Âá¶ÁêÜ - „Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥„Éï„É≠„Éº" srcset="
/community/media/blogs/kafka-transaction-how-it-works/stream-processing-communication-view_hu031934ae688d3286237b88f738ac776f_51202_00f4cd7a6318d7c24cfe9323baff398c.webp 400w,
/community/media/blogs/kafka-transaction-how-it-works/stream-processing-communication-view_hu031934ae688d3286237b88f738ac776f_51202_6af0e3f468c88ba8a5049d51beed7777.webp 760w,
/community/media/blogs/kafka-transaction-how-it-works/stream-processing-communication-view_hu031934ae688d3286237b88f738ac776f_51202_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-transaction-how-it-works/stream-processing-communication-view_hu031934ae688d3286237b88f738ac776f_51202_00f4cd7a6318d7c24cfe9323baff398c.webp"
width="724"
height="418"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;p>Source„ÅØProducer„Å®„Åó„Å¶Ê©üËÉΩ„Åó„ÄÅDB„ÇÑ„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„Å∏„ÅÆËª¢ÈÄÅ„ÅØSink Connector„ÇíÂà©Áî®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åì„Çå„Çâ„Éá„Éº„Çø„Éï„É≠„Éº„ÅÆ‰∏°Á´Ø„ÅØProducer„ÇÇ„Åó„Åè„ÅØConsumer„ÅÆ„ÅÑ„Åö„Çå„Åã„ÅÆÂΩπÂâ≤„ÇíÊûú„Åü„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Åù„ÅÆ‰ªñ„ÅÆÂá¶ÁêÜ„ÅØ„Ç§„Éô„É≥„Éà„ÇíÂèó„ÅëÂèñ„Çä„ÄÅÂä†Â∑•„ÅÆ‰∏äÊ¨°„ÅÆÂá¶ÁêÜ„Å´Ê∏°„ÅôÁÇ∫„ÄÅProducer„Åß„ÅÇ„ÇäConsumer„Åß„ÅÇ„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Çà„ÇäÂÖ∑‰ΩìÁöÑ„Å´„ÅØ„ÄåÂâçÂá¶ÁêÜ„ÅåProducer„Åß„Ç§„Éô„É≥„ÉàÈÄÅ„Å£„ÅüTopic„Çí„ÄÅ„Åù„ÅÆÊ¨°„ÅÆÂá¶ÁêÜ„ÅåConsume„Åô„Çã„Äç„ÄÅ„Åì„ÅÆÁπ∞„ÇäËøî„Åó„Åß„Éá„Éº„Çø„Éï„É≠„Éº„ÅÆ„Éà„Éù„É≠„Ç∏„Éº„ÇíÂΩ¢Êàê„Åó„Åæ„Åô„ÄÇ„Åì„ÅÆ„Éà„Éù„É≠„Ç∏„Éº„ÇíTopic„ÇÇÂê´„ÇÅ„Åü„Éï„É≠„Éº„ÅßË°®Áèæ„Åô„Çã„Å®Ôºö&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="„Çπ„Éà„É™„Éº„É†Âá¶ÁêÜ„Å´„Åä„Åë„ÇãTopic" srcset="
/community/media/blogs/kafka-transaction-how-it-works/stream-procerssing-and-topics_hue370a54ad1ec1d1e167b7c34cfea6f36_45782_343facf8cdd825b71136fcb23fa6d7c9.webp 400w,
/community/media/blogs/kafka-transaction-how-it-works/stream-procerssing-and-topics_hue370a54ad1ec1d1e167b7c34cfea6f36_45782_a952ea042c1563d13fb4d4600816611c.webp 760w,
/community/media/blogs/kafka-transaction-how-it-works/stream-procerssing-and-topics_hue370a54ad1ec1d1e167b7c34cfea6f36_45782_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-transaction-how-it-works/stream-procerssing-and-topics_hue370a54ad1ec1d1e167b7c34cfea6f36_45782_343facf8cdd825b71136fcb23fa6d7c9.webp"
width="760"
height="522"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;p>„Åì„ÅÆ„Çà„ÅÜ„Å´ÂàÜËß£„Åß„Åç„Åæ„Åô„ÄÇ„Åì„Åì„Åß„ÅØProduce„ÇíÁÇπÁ∑ö„ÄÅConsume„ÇíÂÆüÁ∑ö„ÅßË°®Áèæ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇÂá¶ÁêÜËá™‰Ωì„ÅØKafka„ÅÆTopic„ÇíÂ¢É„Å´ÂÆåÂÖ®„Å´ÂàÜÈõ¢„Åï„Çå„ÅüÊßãÊàê„Å®„Å™„Å£„Å¶„Åä„Çä„ÄÅ„Éê„ÉÉ„ÉÅÂá¶ÁêÜ„Å´„Åä„Åë„Çã‰∏≠Èñì„Çπ„Éà„É¨„Éº„Ç∏„Å®Âêå„ÅòÂΩπÂâ≤„ÇíÊûú„Åü„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="exactly-once">Exactly Once&lt;/h3>
&lt;p>„Åì„ÅÆÂá¶ÁêÜ„ÅÆEnd-to-End„ÅßExactly Once„ÇíÈÅîÊàê„Åô„Çã„Å´„ÅØÔºü„Å®„ÅÑ„ÅÜÂëΩÈ°å„ÅÆÁÇ∫„Å´Kafka Transaction„ÅØÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>Kafka Consumer„ÅØ„ÄÅ„É°„ÉÉ„Çª„Éº„Ç∏„ÅÆÂá¶ÁêÜÂæå„Å´Consumer Offset„Çí&lt;code>commitSync/commitAsync&lt;/code>„Å®„ÅÑ„ÅÜ„É°„ÇΩ„ÉÉ„Éâ„Çí‰Ωø„Å£„Å¶Êõ¥Êñ∞„Åó„Åæ„Åô„ÄÇ„Åì„ÅÆ„Ç™„Éï„Çª„ÉÉ„Éà„Ç≥„Éü„ÉÉ„Éà„ÅåË°å„Çè„Çå„Çã‰∫ã„Å´„Çà„Çä„ÄÅ‰ªÆ„Å´Âá¶ÁêÜÂæå„Å´Consumer„ÅÆ„Éó„É≠„Çª„Çπ„ÅåËêΩ„Å°„Åü„Å®„Åó„Å¶„ÇÇ„ÄÅÊñ∞„Åó„ÅÑ„Éó„É≠„Çª„Çπ„ÅåÂºï„ÅçÁ∂ô„ÅÑ„ÅßÂá¶ÁêÜ„ÇíÁ∂ôÁ∂ö„Åô„Çã‰∫ã„ÅåÂá∫Êù•„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Åó„Åã„Åó„Å™„Åå„Çâ„ÄÅÂá¶ÁêÜÂæå („Çπ„Éà„É™„Éº„É†Âá¶ÁêÜ„Åß„ÅØConsume„Åó„ÄÅ„Éá„Éº„Çø„ÅÆÂá¶ÁêÜ„ÇíÂÆüË°å„Åó„ÄÅÂà•„ÅÆTopic„Å´ProduceÂâç) „Å´‰Ωï„Çâ„Åã„ÅÆÈöúÂÆ≥„Å´„Çà„Å£„Å¶„Éó„É≠„Çª„Çπ„ÇíÂ§±„Å£„ÅüÂ†¥Âêà„ÄÅÂºï„ÅçÁ∂ô„ÅÑ„Å†„Éó„É≠„Çª„Çπ„ÅØ„Ç≥„Éü„ÉÉ„Éà„Åï„Çå„ÇãÂâç„ÅÆ„Ç™„Éï„Çª„ÉÉ„Éà„Çí„ÇÇ„Å®„Å´Âá¶ÁêÜ„ÄÅ„Å§„Åæ„ÇäÂêå„Åò„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÊ∂àË≤ª„ÅóÂÜçÂá¶ÁêÜ„Åô„Çã„Åì„Å®„Å®„Å™„Çä„Åæ„Åô„ÄÇ„Åì„Çå„Åß„ÅØProduce„Å´Èñ¢„Åó„Å¶„ÅØIdempotent Producer„ÅÆË®≠ÂÆö„Å´„Çà„Å£„Å¶Exactly Once„ÅßKafka„Å´Êõ∏„ÅçËæº„ÇÅ„Å¶„ÇÇ„ÄÅEnd-to-End„ÅÆ„Éï„É≠„Éº„Åß„ÅØExcatly Once„Çí‰øùË®ºÂá∫Êù•„Åæ„Åõ„Çì„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="„Çπ„Éà„É™„Éº„É†Âá¶ÁêÜ„Å®„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥" srcset="
/community/media/blogs/kafka-transaction-how-it-works/topics-and-transaction_hu2ddcc10237c855413716f2a234f348cc_66959_15c00aacbb43c2d849507986e092ea51.webp 400w,
/community/media/blogs/kafka-transaction-how-it-works/topics-and-transaction_hu2ddcc10237c855413716f2a234f348cc_66959_b6605ac37ee1b67734801f3b79b7721a.webp 760w,
/community/media/blogs/kafka-transaction-how-it-works/topics-and-transaction_hu2ddcc10237c855413716f2a234f348cc_66959_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-transaction-how-it-works/topics-and-transaction_hu2ddcc10237c855413716f2a234f348cc_66959_15c00aacbb43c2d849507986e092ea51.webp"
width="760"
height="458"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;p>Kafka„Å´„Åä„Åë„Çã„Éà„É©„É≥„Ç∂„ÇØ„Ç∑„Éß„É≥„ÄÅ„Åù„Åó„Å¶‰∏≠„Åß„ÇÇÂÖà„Åª„Å©Ë®ÄÂèä„Åó„Åü&lt;code>sendOffsetsToTransaction&lt;/code>„ÅØ„Åæ„Åï„Åó„Åè„Åì„ÅÆProduce„Å®Consumer Offset„ÅÆ„Ç≥„Éü„ÉÉ„Éà„Çí„Ç¢„Éà„Éü„ÉÉ„ÇØ„Å™Âá¶ÁêÜ„Å®„Åó„Å¶„Å´ÂÆöÁæ©„Åô„Çã‰∫ã„Åå„Åß„Åç„Åæ„Åô„ÄÇ„Åì„Çå„Å´„Çà„Çä„ÄÅ„Å©„ÅÆ„Çø„Ç§„Éü„É≥„Ç∞„ÅßÈöúÂÆ≥„ÅåÁô∫Áîü„Åó„Å¶„ÇÇEnd-to-End„ÅßExactly Once Delivery„ÇíÈÅîÊàê„Åô„Çã‰∫ã„ÅåÂá∫Êù•„Åæ„Åô„ÄÇ&lt;sup id="fnref:4">&lt;a href="#fn:4" class="footnote-ref" role="doc-noteref">4&lt;/a>&lt;/sup>&lt;/p>
&lt;h3 id="„Åæ„Å®„ÇÅ">„Åæ„Å®„ÇÅ&lt;/h3>
&lt;p>Kafka Transaction„Å®Idempotent Producer„ÅØÂêå„ÅòKIPÂÜÖ„ÅßÂÆöÁæ©„Åï„Çå„Å¶„Åä„Çä„ÄÅ„Åæ„Åü‰Ωµ„Åõ„Å¶Ë™¨Êòé„Åï„Çå„Çã‰∫ã„ÅåÂ§ö„ÅÑÊ©üËÉΩ„Åß„ÅØ„ÅÇ„Çä„Åæ„Åô„Åå„ÄÅ‰Ωø„Çè„Çå„ÇãÂ†¥ÊâÄ„Å®Áî®ÈÄî„ÅØÂÖ®„ÅèÁï∞„Å™„Çä„Åæ„Åô„ÄÇ„Åü„Å†„Åì„Çå„Çâ„ÅØKafka„Å´„Åä„Åë„ÇãExactly Once Delivery„Å´„Åä„ÅÑ„Å¶„Åä‰∫í„ÅÑ„ÇíË£úÂÆå„Åô„Çã„ÇÇ„ÅÆ„Åß„ÅÇ„Çä„ÄÅÂèåÊñπ„ÅåÊèÉ„Å£„Å¶Âàù„ÇÅ„Å¶End-to-End„ÅÆExactly Once Delivery„ÅåÈÅîÊàêÂá∫Êù•„Çã‰∫ã„ÅåÂàÜ„Åã„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>ÂàÜÊï£„Ç∑„Çπ„ÉÜ„É†„Å´„Åä„Åë„Çã&lt;a href="https://ja.wikipedia.org/wiki/%E4%BA%8C%E4%BA%BA%E3%81%AE%E5%B0%86%E8%BB%8D%E5%95%8F%E9%A1%8C" target="_blank" rel="noopener">‰∫å‰∫∫„ÅÆÂ∞ÜËªçÂïèÈ°å&lt;/a>Á≠â„ÇíÁî®„ÅÑ„Å¶Ë®ÄÂèä„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>„Åì„ÅÆÁÇ∫ConsumerÂÅ¥„ÅßÂÜ™Á≠âÊÄß„ÇíÁ¢∫‰øù„Åó„ÅüÂá¶ÁêÜ„ÅåÊ±Ç„ÇÅ„Çâ„Çå„Åæ„Åô„ÄÇ&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>‰∏ÄËà¨ÁöÑ„Å´„Äå„É™„Ç¢„É´„Çø„Ç§„É†Âá¶ÁêÜ„Äç„Å®„ÅØÊï∞„Éü„É™ÁßíË™§Â∑Æ„ÅÆ„ÇÇ„ÅÆ„ÇíÊåá„ÅôÁÇ∫„ÄÅÂé≥ÂØÜ„Å´„ÅØÊ∫ñ„É™„Ç¢„É´„Çø„Ç§„É†„Å®Âëº„Å∂„ÅÆ„ÅåÁõ∏Âøú„Åó„ÅÑ„Åã„ÇÇÁü•„Çå„Åæ„Åõ„Çì„ÄÇKafka„ÅÆ„Çπ„Éà„É™„Éº„É†Âá¶ÁêÜ„Å´„Åä„Åë„ÇãEnd-to-End„ÅÆ„É¨„Ç§„ÉÜ„É≥„Ç∑„ÅØ„ÄÅÂá¶ÁêÜ„Å´„ÇÇ„Çà„Çä„Åæ„Åô„ÅåÊï∞Áôæ„Éü„É™Áßí„Åã„ÇâÊï∞ÁßíÁ®ãÂ∫¶„ÅÆ„É¨„Ç§„ÉÜ„É≥„Ç∑„Å®„Å™„Çä„Åæ„Åô„ÄÇ&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:4">
&lt;p>Âõ≥„Å´„ÇÇ„ÅÇ„Çä„Åæ„Åô„Åå„ÄÅConsumer„ÇÇÊú™„Ç≥„Éü„ÉÉ„ÉàÁä∂ÊÖã„ÅÆ„Éá„Éº„Çø„Å´„Ç¢„ÇØ„Çª„Çπ„Åó„Å¶„ÅØ„ÅÑ„Åë„Å™„ÅÑ„ÅÆ„Åß„ÄÅÂàÜÈõ¢„É¨„Éô„É´„ÇíRead Committed„Å´ÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Åì„Åì„ÅØ„É™„É¨„Éº„Ç∑„Éß„Éä„É´„É¢„Éá„É´„ÅÆÊ¶ÇÂøµ„Çí„Åù„ÅÆ„Åæ„ÅæË∏èË•≤„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&amp;#160;&lt;a href="#fnref:4" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Ëß£Ââñ Kafka Controller Broker</title><link>https://confluent-jp.github.io/community/blog/kafka-controller-broker-explained/</link><pubDate>Mon, 21 Aug 2023 00:00:00 +0000</pubDate><guid>https://confluent-jp.github.io/community/blog/kafka-controller-broker-explained/</guid><description>&lt;blockquote>
&lt;p>„Åì„ÅÆ„Éñ„É≠„Ç∞„Ç®„É≥„Éà„É™„ÅØKafka„Ç≥„Éü„ÉÉ„Çø„Åß„ÅÇ„Çã Stanislav Kozlovski(&lt;a href="https://https://twitter.com/BdKozlovski" target="_blank" rel="noopener">ùïè&lt;/a>|&lt;a href="https://www.linkedin.com/in/stanislavkozlovski/" target="_blank" rel="noopener">Ln&lt;/a>) „ÅÆ„Çµ„Ç§„Éà„Åß2018/10/31„Å´ÂÖ¨Èñã„Åï„Çå„Åü&lt;a href="https://stanislavkozlovski.medium.com/apache-kafkas-distributed-system-firefighter-the-controller-broker-1afca1eae302" target="_blank" rel="noopener">Apache Kafka‚Äôs Distributed System Firefighter ‚Äî The Controller Broker&lt;/a>„ÅÆÊó•Êú¨Ë™ûË®≥„Åß„Åô„ÄÇStanislavÊú¨‰∫∫„ÅÆ‰∫ÜÊâø„ÇíÂæó„Å¶ÁøªË®≥/ÂÖ¨Èñã„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;h2 id="„ÅØ„Åò„ÇÅ„Å´">„ÅØ„Åò„ÇÅ„Å´&lt;/h2>
&lt;p>Kafka„ÅØÊàêÈï∑„ÇíÁ∂ö„Åë„ÇãÂàÜÊï£„Çπ„Éà„É™„Éº„Éü„É≥„Ç∞Âü∫Áõ§„Åß„Åô„ÄÇÁèæÊôÇÁÇπ„Åß„ÅÆÊ•≠Áïå„Éá„Éï„Ç°„ÇØ„ÉàÊäÄË°ì„Åß„ÅÇ„Çä„ÄÅÂ∫É„Åå„Çã„Éá„Éº„Çø„Éë„Ç§„Éó„É©„Ç§„É≥„ÅÆÂà©Áî®„Å´ÂØæ„Åó„Å¶„ÇÇÊã°Âºµ„Åó„Å§„Å§ÂÆâÂÆöÁöÑ„Å´Á®ºÂÉç„Åô„Çã„Åì„Å®„ÅåÂá∫Êù•„Åæ„Åô„ÄÇ„ÇÇ„ÅóKafka„ÅÆÊ¶ÇË¶Å„Å´„Å§„ÅÑ„Å¶„ÇÇ„ÅÜÂ∞ë„ÅóÁü•„Çä„Åü„ÅÑÊñπ„ÅØ&lt;a href="https://hackernoon.com/thorough-introduction-to-apache-kafka-6fbf2989bbc1" target="_blank" rel="noopener">A Thorough Introduction To Apache Kafka&lt;/a>„Çí„ÅîË¶ß„Åè„Å†„Åï„ÅÑ„ÄÇ&lt;/p>
&lt;p>„Åì„ÅÆË®ò‰∫ã„ÇíÊõ∏„Åè‰∏≠„Åß„ÄÅ„Åì„ÅÆKafka„ÅÆÂÆâÂÆöÁ®ºÂÉç„ÇíÊîØ„Åà„Çã‰∏≠„ÅÆ‰ªïÁµÑ„Åø„Å´„Å§„ÅÑ„Å¶Êõ∏„Åç„Åü„ÅÑ„Å®ÊÄù„ÅÜ„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ&lt;/p>
&lt;p>„Åì„ÅÆ„Ç®„É≥„Éà„É™„Åß„ÅØKafka„Å´„Åä„Åë„ÇãController„ÅÆÊ¶ÇÂøµ - Kafka„Å®„ÅÑ„ÅÜÂàÜÊï£Âü∫Áõ§„ÇíÂÅ•Â∫∑ÁöÑ„Å´Á®ºÂÉç„ÅóÁ∂ö„Åë„Çã‰ΩøÂëΩ„ÇíÊîØ„Åà„ÇãÊ©üËÉΩ„Å´„Å§„ÅÑ„Å¶„ÅîÁ¥π‰ªã„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;h2 id="controller-broker">Controller Broker&lt;/h2>
&lt;p>ÂàÜÊï£„Ç∑„Çπ„ÉÜ„É†„ÅØÂ∏∏„Å´ÂçîË™ø„ÅÆ‰∏≠„ÅßÁ®ºÂÉç„ÅóÁ∂ö„Åë„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ‰Ωï„Åã„Åó„Çâ„ÅÆ„Ç§„Éô„É≥„Éà„Åå„ÇØ„É©„Çπ„Çø„ÅßÁô∫Áîü„Åó„ÅüÂ†¥Âêà„ÄÅ„ÇØ„É©„Çπ„ÇøÂÜÖ„ÅÆ„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„ÅØÂêåË™ø„Åó„Å¶„Åù„Çå„Å´ÂèçÂøú„Åó„Å™„Åë„Çå„Å∞„ÅÑ„Åë„Åæ„Åõ„Çì„ÄÇ„Åù„ÅÆ‰∏≠„Åß„ÄÅ„ÇØ„É©„Çπ„Çø„Å®„Åó„Å¶„Å©„ÅÜÂèçÂøú„Åô„Çã„Åπ„Åç„Å™„ÅÆ„Åã„ÄÅBroker„ÅØ‰Ωï„Çí„Åô„Åπ„Åç„Å™„ÅÆ„Åã„ÇíÊåáÁ§∫„Åô„ÇãÂ≠òÂú®„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ&lt;/p>
&lt;p>„Åù„ÅÆÂΩπÂâ≤„ÇíÊãÖ„ÅÜ„ÅÆ„ÅåController„Åß„Åô„ÄÇ
ControllerËá™Ë∫´„ÅØË§áÈõë„Å™‰ªïÁµÑ„Åø„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì - Controller„ÇÇBroker„Åß„ÅÇ„Çä„ÄÅÈÄöÂ∏∏„ÅÆBroker„Å®„Åó„Å¶„ÅÆÂΩπÂâ≤„Å®Âêà„Çè„Åõ„Å¶ËøΩÂä†„ÅÆÂΩπÂâ≤„ÇÇÊåÅ„Å§Broker„Åß„Åô„ÄÇ„Å§„Åæ„ÇäController Broker„ÇÇPartition„ÇíÂà∂Âæ°„Åó„ÄÅRead„Å®Write„ÅÆ„É™„ÇØ„Ç®„Çπ„Éà„Å´ÂØæÂøú„Åó„ÄÅË£è„Åß„ÅØ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Å´ÂèÇÂä†„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>‰ªäËøΩÂä†„ÅÆÂΩπÂâ≤„ÅÆ‰∏≠„ÅßÊúÄ„ÇÇÈáçË¶Å„Å™„ÅÆ„ÅØ„ÄÅ„ÇØ„É©„Çπ„ÇøÂÜÖ„ÅÆBroker„Éé„Éº„Éâ„ÅÆÁÆ°ÁêÜ„Åß„ÅÇ„Çä„ÄÅBroker„ÅåËøΩÂä†„ÄÅ„ÇØ„É©„Çπ„Çø„Åã„ÇâÈõ¢ËÑ±„ÄÅ„ÇÇ„Åó„Åè„ÅØÈöúÂÆ≥„ÅåÁô∫Áîü„Åó„ÅüÈöõ„Å´ÈÅ©Âàá„Å´„Åù„ÅÆ„É°„É≥„Éê„Éº„Ç∑„ÉÉ„Éó„ÇíÁÆ°ÁêÜ„Åô„Çã„Åì„Å®„Åß„Åô„ÄÇ„Åì„Çå„Å´„ÅØPartition„ÅÆ„É™„Éê„É©„É≥„Çπ„ÇÑÊñ∞„Åü„Å™Partion Leader„ÅÆÁâπÂÆö„ÇÇÂê´„Åæ„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>Kafka„ÇØ„É©„Çπ„Çø„Å´„ÅØController„ÅåÂ∏∏„Å´Á®ºÂÉç„Åó„ÄÅÂîØ‰∏Ä1„Å§„ÅÆController„ÅÆ„ÅøÁ®ºÂÉç„Åó„Åæ„Åô„ÄÇ&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;h2 id="controller„ÅÆÂΩπÂâ≤">Controller„ÅÆÂΩπÂâ≤&lt;/h2>
&lt;p>Controller Broker„ÅØË§áÊï∞„ÅÆË§áÊï∞„ÇíÊãÖ„ÅÑ„Åæ„Åô„ÄÇTopic„ÅÆ‰ΩúÊàê/ÂâäÈô§„ÄÅPartition„ÅÆËøΩÂä† („Å®Leader„ÅÆÁâπÂÆö)„ÄÅBroker„ÅåCluster„ÇíÈõ¢ËÑ±„Åó„ÅüÈöõ„ÅÆË´∏„ÄÖ„ÅÆÂà∂Âæ°Á≠âÊßò„ÄÖ„ÅÇ„Çä„Åæ„Åô„Åå„ÄÅÂü∫Êú¨ÁöÑ„Å´„ÅØ„ÇØ„É©„Çπ„Çø„Å´„Åä„Åë„ÇãÁÆ°ÁêÜËÄÖ„Å®„Åó„Å¶ÊåØ„ÇãËàû„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="broker„Éé„Éº„Éâ„ÅÆÈõ¢ËÑ±">Broker„Éé„Éº„Éâ„ÅÆÈõ¢ËÑ±&lt;/h3>
&lt;p>„Ç®„É©„Éº„ÇÑË®àÁîªÁöÑ„Å™ÂÅúÊ≠¢„Å´„Çà„Å£„Å¶Broker„Éé„Éº„Éâ„Åå„ÇØ„É©„Çπ„Çø„Åã„ÇâÈõ¢ËÑ±„Åó„ÅüÈöõ„ÄÅ„Åù„ÅÆBroker„Éé„Éº„Éâ„Å´Leader„ÅÆ„ÅÇ„Å£„ÅüPartition„Å´„ÅØ„Ç¢„ÇØ„Çª„ÇπÂá∫Êù•„Å™„Åè„Å™„Çä„Åæ„Åô„ÄÇ („ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅØWrite/Read„ÅÆ„ÅÑ„Åö„Çå„Åß„ÅÇ„Å£„Å¶„ÇÇÂ∏∏„Å´Partition Leader„Å´„ÅÆ„Åø„Ç¢„ÇØ„Çª„Çπ„Åó„Åæ„Åô„ÄÇ&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>) „Åì„ÅÆÁÇ∫BrokerÈõ¢ËÑ±ÊôÇ„ÅÆ„ÉÄ„Ç¶„É≥„Çø„Ç§„É†„ÇíÁü≠Á∏Æ„Åô„Çã„Å´„ÅØ„ÄÅ„ÅÑ„Åã„Å´ËøÖÈÄü„Å´Êñ∞„Åü„Å™Leader„ÇíÈÅ∏Âá∫„Åô„Çã„Åã„ÅåÈáçË¶Å„Å´„Å™„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>Controller Broker„ÅØ‰ªñ„ÅÆBroker„Éé„Éº„Éâ„ÅåÈõ¢ËÑ±„Åó„ÅüÈöõ„Å´ÂØæÂá¶„Åó„Åæ„Åô„ÄÇZookeeper„Å´„ÅØ&lt;a href="https://zookeeper.apache.org/doc/r3.4.8/zookeeperProgrammers.html#ch_zkWatches" target="_blank" rel="noopener">Zookeeper Watch&lt;/a>„Å®Âëº„Å∞„Çå„ÇãÁâπÂÆö„Éá„Éº„Çø„ÅÆÂ§âÊõ¥ÊôÇ„Å´ÁôªÈå≤ËÄÖ„Å´ÂØæ„Åó„Å¶ÈÄöÁü•„Çí„Åô„ÇãÊ©üËÉΩ„Åß„ÄÅController„ÅØ„Åì„ÅÆZookeeper Watch„ÇíÂà©Áî®„Åó„Å¶Broker„ÅÆÈõ¢ËÑ±„ÇíÊ§úÁü•„Åó„Åæ„Åô„ÄÇZookeeper Watch„ÅØBrokerÈõ¢ËÑ±ÊôÇ„ÅÆ„Éà„É™„Ç¨„Éº„Å®„Åó„Å¶ÂÉç„ÅèKafka„Å´„Å®„Å£„Å¶ÈùûÂ∏∏„Å´ÈáçË¶Å„Å™Ê©üËÉΩ„Åß„Åô„ÄÇ&lt;/p>
&lt;p>„Åì„Åì„Å´„Åä„Åë„Çã„ÄåÁâπÂÆö„Éá„Éº„Çø„Äç„Å®„ÅØBroker„Éá„Éº„Çø„ÅÆÈõÜÂêà„Åß„Åô„ÄÇ&lt;/p>
&lt;p>‰∏ã„Å´„ÅÇ„Çã„ÅÆ„ÅØBroker 2„ÅÆ&lt;a href="https://zookeeper.apache.org/doc/r3.4.8/zookeeperProgrammers.html#ch_zkSessions" target="_blank" rel="noopener">Zookeeper Session&lt;/a>„ÅåÁÑ°ÂäπÂåñ„Åï„Çå„Çã‰∫ã„Å´„Çà„ÇäBroker 2„ÅÆID„Åå„É™„Çπ„Éà„Åã„ÇâÂâäÈô§„Åï„Çå„ÅüÂ†¥Âêà„ÅÆÂõ≥Ëß£„Åß„Åô„ÄÇ(Kafka Broker„ÅØZookeeper„Å∏„ÅÆ„Éè„Éº„Éà„Éì„Éº„Éà„ÇíÈÄÅ„ÇäÁ∂ö„Åë„Çã„Åå„ÄÅÈÅÖ„Çå„Å™„Åè„Å™„Çã„Å®„Çª„ÉÉ„Ç∑„Éß„É≥„ÅåÁÑ°ÂäπÂåñ„Åô„Çã)&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="Zookeeper Watch and Controller" srcset="
/community/media/blogs/kafka-controller-broker-explained/zookeeper-watch_hu999b6f38219025080af213f7c0820560_78754_933d8c0d0ca12b3944bf46cc705eee83.webp 400w,
/community/media/blogs/kafka-controller-broker-explained/zookeeper-watch_hu999b6f38219025080af213f7c0820560_78754_55f25aaf2122bf1cb5ca633f5a0880a6.webp 760w,
/community/media/blogs/kafka-controller-broker-explained/zookeeper-watch_hu999b6f38219025080af213f7c0820560_78754_1200x1200_fit_q75_h2_lanczos_2.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-controller-broker-explained/zookeeper-watch_hu999b6f38219025080af213f7c0820560_78754_933d8c0d0ca12b3944bf46cc705eee83.webp"
width="760"
height="637"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;p>Controller„ÅØ„Åì„ÅÆBrokerÈõ¢ËÑ±„ÅÆÈÄöÁü•„ÇíÂèó„ÅëÂèñ„Çä‰ΩúÊ•≠„Å´Âèñ„ÇäÊéõ„Åã„Çä„Åæ„Åô„Åå„ÄÅ„Åæ„Åö„ÅØBroker„ÅÆÈõ¢ËÑ±„Å´„Çà„Å£„Å¶ÂΩ±Èüø„ÇíÂèó„Åë„ÅüPartition„ÅÆÊñ∞„Åü„Å™Leader„ÇíÊ±∫ÂÆö„Åó„Åæ„Åô„ÄÇ„Åì„ÅÆÂæå„ÄÅ„ÇØ„É©„Çπ„ÇøÂÜÖ„ÅÆÂÖ®„Å¶„ÅÆBroker„Å´ÂØæ„Åó„Å¶ÈÄöÁü•„Åó„ÄÅ„Åì„ÅÆ„É™„ÇØ„Ç®„Çπ„Éà„ÇíÂèó„ÅëÂèñ„Å£„ÅüÂêÑPartitionÊØé„Å´Leader„Å´„Å™„Å£„Åü„ÇäFollower„Å®„Åó„Å¶Leader„Å´&lt;a href="https://kafka.apache.org/protocol#The_Messages_LeaderAndIsr" target="_blank" rel="noopener">LeaderAndIsr&lt;/a>„É™„ÇØ„Ç®„Çπ„Éà„ÇíÈÄÅ‰ªò„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="broker„Éé„Éº„Éâ„ÅÆ„ÇØ„É©„Çπ„ÇøÂæ©Â∏∞">Broker„Éé„Éº„Éâ„ÅÆ„ÇØ„É©„Çπ„ÇøÂæ©Â∏∞&lt;/h3>
&lt;p>ÈÅ©Âàá„Å™Partition Leader„ÅÆÈÖçÁΩÆ„ÅØKafka„ÇØ„É©„Çπ„Çø„ÅÆË≤†Ëç∑ÂàÜÊï£„ÅÆ‰∏ä„ÅßÈáçË¶Å„Å™Ë¶ÅÁ¥†„Åß„Åô„ÄÇ‰∏äË®ò„ÅßË™¨Êòé„Åó„Åü„Å®„Åä„Çä„ÄÅBroker„Éé„Éº„Éâ„Åå„ÇØ„É©„Çπ„Çø„ÇíÈõ¢ËÑ±„Åó„ÅüÈöõ„Å´„ÅØ‰ªñ„ÅÆBroker„Åå‰ª£„Çè„Å£„Å¶ÂØæÂøú„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Åì„ÅÆÂ†¥ÂêàBroker„ÅØÂΩìÂàù„ÅÆÊÉ≥ÂÆö‰ª•‰∏ä„ÅÆPartition„ÇíÂêÑ„ÄÖ„ÅåÊãÖ„ÅÜ„Åì„Å®„Å´„Å™„Çä„ÄÅ„ÇØ„É©„Çπ„ÇøÂÖ®‰Ωì„ÅÆÂÅ•ÂÖ®ÊÄß„ÇÑ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„Å´Â∞ë„Å™„Åã„Çâ„ÅöÂΩ±Èüø„ÇíÂèä„Åº„Åó„Åæ„Åô„ÄÇÂΩìÁÑ∂„Å™„Çã„Åπ„ÅèÊó©„Åè„Éê„É©„É≥„Çπ„ÇíÂèñ„ÇäÊàª„ÅôÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>Kafka„ÅØÂÖÉ„ÄÖ„ÅÆPartition„Ç¢„Çµ„Ç§„É≥„É°„É≥„Éà„Åå„ÄÅ„ÅÇ„ÇãÁ®ãÂ∫¶„ÄåÈÅ©Âàá„Äç„Åß„ÅÇ„Çã„Å®„ÅÑ„ÅÜÊÉ≥ÂÆö„ÇíÊåÅ„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åì„ÅÆ„Ç¢„Çµ„Ç§„É≥„É°„É≥„Éà„Å´„Åä„Åë„ÇãPartition Leader„ÅØ„ÅÑ„Çè„ÇÜ„Çã &lt;em>Preferreed Leader(ÂÑ™ÂÖà„É™„Éº„ÉÄ„Éº)&lt;/em> „Å®„Åó„Å¶Ë™çË≠ò„Åï„Çå„ÄÅÊúÄÂàù„Å´„Åù„ÅÆPartition„ÅåËøΩÂä†„Åï„Çå„ÅüÊôÇ„ÅÆPartition Leader„ÇíÊåá„Åó„Åæ„Åô„ÄÇÂêà„Çè„Åõ„Å¶Kafka„ÅØ&lt;a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-36&amp;#43;Rack&amp;#43;aware&amp;#43;replica&amp;#43;assignment" target="_blank" rel="noopener">„Ç§„É≥„Éï„É©ÊßãÊàê„Å®„Åó„Å¶„ÅÆ„É©„ÉÉ„ÇØ„ÇÑAvailability Zone„ÇíÊÑèË≠ò„Åó„ÅüPartitionÈÖçÁΩÆ„ÅÆÊ©üËÉΩ&lt;/a> („É©„ÉÉ„ÇØ/AZÈöúÂÆ≥ËÄêÊÄß„ÇíÁ¢∫‰øù„Åô„ÇãÁÇ∫„Å´Leader„Å®Follower„ÇíÂà•„ÅÆ„É©„ÉÉ„ÇØ/AZ„Å´ÈÖçÁΩÆ„Åô„Çã) „ÇÇ„Çµ„Éù„Éº„Éà„Åó„Å¶„Åä„Çä„ÄÅPartition Leader„ÅÆÈÖçÁΩÆ„ÅØ„ÇØ„É©„Çπ„Çø„ÅÆ‰ø°È†ºÊÄß„Å´Â§ß„Åç„ÅèÂØÑ‰∏é„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Éá„Éï„Ç©„É´„Éà„Åß„ÅØ&lt;code>auto.leader.rebalance.enabled=true&lt;/code>„Å®„Å™„Å£„Å¶„Åä„Çä„ÄÅKafka„ÅØPreferred Leader„ÅåÂ≠òÂú®„Åó„ÄÅ„Åã„Å§ÂÆüÈöõ„ÅÆPartition Leader„Åß„ÅØ„Å™„ÅÑÂ†¥Âêà„Å´„ÅØPreferred Leader„ÇíÂÜçÈÅ∏Âá∫„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>Broker„Éé„Éº„Éâ„ÅÆ„ÇØ„É©„Çπ„Çø„Åã„Çâ„ÅÆÈõ¢ËÑ±„ÇÇ„ÄÅÂ§ö„Åè„ÅÆÂ†¥Âêà‰∏ÄÊôÇÁöÑ„Åß„ÅÇ„Çä„ÄÅ„ÅÇ„Çã‰∏ÄÂÆöÊôÇÈñìÁµåÈÅéÂæå„Å´Èõ¢ËÑ±„Åó„ÅüBroker„Éé„Éº„Éâ„ÅØÂÜçÂ∫¶„ÇØ„É©„Çπ„Çø„É°„É≥„Éê„Éº„Å®„Åó„Å¶Âæ©Â∏∞„Åó„Åæ„Åô„ÄÇ„Åì„ÅÆÁÇ∫Broker„Éé„Éº„Éâ„ÅåÈõ¢ËÑ±„Åó„ÅüÈöõ„Å´„ÇÇÈñ¢ÈÄ£„Åô„Çã„É°„Çø„Éá„Éº„Çø„ÅØÂç≥Â∫ß„Å´ÂâäÈô§„Åï„Çå„Åö„ÄÅFollower Partition„ÇÇÊñ∞„Åü„Å´„Ç¢„Çµ„Ç§„É≥„Åï„Çå„Åæ„Åõ„Çì„ÄÇ&lt;/p>
&lt;p>Ê≥®ÊÑèÁÇπ„Å®„Åó„Å¶„ÄÅÂÜçÂèÇÂä†„Åó„ÅüBroker„Éé„Éº„Éâ„ÇÇÁõ¥„Åê„Å´Partition Leader„Å®„Åó„Å¶ÂÜçÈÅ∏Âá∫„Åï„Çå„ÇãË®≥„Åß„ÅØ„Å™„Åè„ÄÅ„Åù„ÅÆÂÄôË£ú„Å®„Å™„ÇãÁÇ∫„Å´„ÅØÂà•„ÅÆÊù°‰ª∂„ÇÇÂøÖË¶Å„Å®„Å™„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="in-sync-replicas">In-Sync Replicas&lt;/h3>
&lt;p>In-Sync Replica (ISR) „ÅØÁä∂ÊÖã„ÅåPartition Leader„Å®Âêå„Åò Follower„ÇíÊåá„Åó„Åæ„Åô„ÄÇË®Ä„ÅÑÊñπ„ÇíÂ§â„Åà„Çã„Å®„ÄÅISR„ÅØ„Åù„ÅÆLeader„ÅÆ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅåËøΩ„ÅÑ„Å§„ÅÑ„Å¶„ÅÑ„ÇãÁä∂ÊÖã„Å´„ÅÇ„Çä„Åæ„Åô„ÄÇPartion Leader„ÅØ„Å©„ÅÆFollower„ÅåISR„Åß„Å©„ÅÆFollower„Åå„Åù„ÅÜ„Åß„ÅØ„Å™„ÅÑ„Åã„Çí„Éà„É©„ÉÉ„ÇØ„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„ÄÅ„Åù„ÅÆÁä∂ÊÖã„ÅØZookeeper„Å´Ê∞∏Á∂öÂåñ„Åï„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>Kafka„ÅÆÈöúÂÆ≥ËÄêÊÄß„Å®ÂèØÁî®ÊÄß„ÅÆ‰øùË®º„ÅØ„Éá„Éº„Çø„ÅÆ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Å´Âü∫„Å•„ÅÑ„Å¶„Åä„Çä„ÄÅkafka„ÅåÊ©üËÉΩ„Åô„Çã„Å´„ÅØÂ∏∏„Å´ÂçÅÂàÜ„Å™ISR„ÅåÁ¢∫‰øù„Åï„Çå„Å¶„ÅÑ„Çã„Åã„ÅåÊ•µ„ÇÅ„Å¶ÈáçË¶Å„Åß„Åô„ÄÇ&lt;/p>
&lt;p>Follower„ÅåLeader„Å´ÊòáÊ†º„Åô„Çã„Å´„ÅØ„Åæ„ÅöISR„Åß„ÅÇ„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÂÖ®„Å¶„ÅÆPartition„Å´„ÅØISR„ÅÆ„É™„Çπ„Éà„Åå„ÅÇ„Çä„ÄÅPartition Leader„Å®Controller„Å´„Çà„Å£„Å¶ÁÆ°ÁêÜ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇISR„Åã„ÇâÊñ∞„Åü„Å™Partition Leader„ÇíÈÅ∏Âá∫„Åô„ÇãÂá¶ÁêÜ„ÅØ &lt;em>Clean Leader Election&lt;/em> „Å®Âëº„Å∞„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ‰∏ÄÊñπ„É¶„Éº„Ç∂„Éº„Å´„ÅØ„Åì„Çå„Å®„ÅØÁï∞„Å™„ÇãÊñπÊ≥ï„ÅßLeader„ÇíÊòáÊ†º„Åï„Åõ„Çã‰∫ã„ÇÇÂèØËÉΩ„Åß„ÄÅPartion Leader„Åå„ÇØ„É©„Çπ„Çø„ÇíÈõ¢ËÑ±„Åó„ÅüÈöõ„Å´„ÅØISR„Åß„ÅØ„Å™„ÅÑFollower„ÇíÊòáÊ†º„Åï„Åõ„Çã‰∫ã„ÇÇÂèØËÉΩ„Åß„Åô„ÄÇ„Åì„Çå„ÅØLeader„ÇÇISR„ÇÇÂ≠òÂú®„Åó„Å™„ÅÑ„Å®„ÅÑ„ÅÜÁä∂Ê≥Å„Å´„Åä„ÅÑ„Å¶„ÄÅ„Éá„Éº„ÇøÊï¥ÂêàÊÄß„Çà„ÇäÂèØÁî®ÊÄß„ÇíÂÑ™ÂÖà„Åï„Åõ„ÇãÂøÖË¶Å„Åå„ÅÇ„ÇãÁ®Ä„Å™„Ç±„Éº„Çπ„Åß„Åô„ÄÇ&lt;/p>
&lt;p>„Åì„Åì„ÅßÂÜçÂ∫¶„ÅÆÁ¢∫Ë™ç„Å´„Å™„Çä„Åæ„Åô„Åå„ÄÅ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅØPartition Leader„Åã„Çâ„Åó„ÅãConsume„Åß„Åç„Åæ„Åõ„Çì„ÄÇ‰ªÆ„Å´ISR„Åß„ÅØ„Å™„ÅÑFollower„ÇíLeader„Å´ÊòáÊ†º„Åó„ÅüÂ†¥Âêà„Å´„ÅØ„ÄÅÂΩìÁÑ∂„Åæ„Å†Leader„Åã„ÇâÂèñÂæó„Åï„Çå„Å¶„ÅÑ„Å™„Åã„Å£„Åü„É°„ÉÉ„Çª„Éº„Ç∏„ÅØÂ§±„ÅÜ„Åì„Å®„Å´„Å™„Çä„Åæ„Åô„ÄÇ„Åì„Çå„ÅØ„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂ§±„ÅÜ„Å†„Åë„Åß„Å™„Åè„ÄÅConsumer„Åã„ÇâË¶ã„Åü„Ç§„Éô„É≥„Éà„ÅÆ„Çπ„Éà„É™„Éº„É†‰∏ä„ÅÆ‰ΩçÁΩÆ („Ç™„Éï„Çª„ÉÉ„Éà) „ÇÇ‰∏äÊõ∏„Åã„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>ÊÆãÂøµ„Å™„Åå„ÇâClearn Leader Election„ÅÆÂ†¥Âêà„Å´„ÇÇÂêåÊßò„ÅÆ„Éá„Éº„ÇøÈöúÂÆ≥„ÅåÁô∫Áîü„Åô„ÇãÂèØËÉΩÊÄß„ÅØ„ÅÇ„Çä„Åæ„Åô„ÄÇISR„ÇÇÊßò„ÄÖ„Å™Ë¶ÅÂõ†„Å´„Çà„Å£„Å¶Leader„Å®ÂÆåÂÖ®„Å´ÂêåÊúü„ÅåÂèñ„Çå„Å¶„ÅÑ„Å™„ÅÑ„Ç±„Éº„Çπ„Åß„Åô - ÂÖ∑‰ΩìÁöÑ„Å´„ÅØ„ÄÅLeader„ÅÆ„Ç™„Éï„Çª„ÉÉ„Éà„Åå100„Å®„Åó„ÅüÊôÇ„Å´„ÄÅFollower„ÅÆ„Ç™„Éï„Çª„ÉÉ„Éà„Åå95„ÄÅ99„ÄÅ80„Å®„Å™„Å£„Å¶„ÅÑ„Çã„Çà„ÅÜ„Å™Áä∂Ê≥Å„Åß„Åô„ÄÇ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅØÈùûÂêåÊúü„Å´ÂÆüÊñΩ„Åï„Çå„ÇãÁÇ∫„ÄÅÊúÄÂæå„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„Åæ„ÅßÂÆåÂÖ®„Å´FollowerÂÅ¥„Å´Ê∏°„Å£„Åü„Å®‰øùË®º„Åô„Çã‰∫ã„ÅØÂõ∞Èõ£„Åß„Åô„ÄÇ&lt;/p>
&lt;p>Follower„ÅåLeader„Å´ÂØæ„Åó„Å¶in-sync„Åß„ÅÇ„Çã„Å®Âà§Êñ≠„Åô„ÇãÊù°‰ª∂„ÅØ‰ª•‰∏ã„Åß„ÅôÔºö&lt;/p>
&lt;ul>
&lt;li>Partition Leader„Åã„ÇâÊúÄÊñ∞„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„Çí &lt;em>X&lt;/em> „Éü„É™ÁßíÂâç„Å´ÂèñÂæó„Åó„Å¶„ÅÑ„Çã„ÄÇ (X„ÅØ &lt;code>replica.lag.time.max.ms&lt;/code>„Å´„Å¶Ë®≠ÂÆöÂèØËÉΩ)&lt;/li>
&lt;li>Zookeeper„Å´ÂØæ„Åó„Å¶ &lt;em>Y&lt;/em> „Éü„É™ÁßíÂâç„Å´„Éè„Éº„Éà„Éì„Éº„Éà„ÇíÈÄÅ„Å£„Å¶„ÅÑ„Çã„ÄÇ (Y„ÅØ&lt;code>zookeeper.session.timeout.ms&lt;/code>„Å´„Å¶Ë®≠ÂÆöÂèØËÉΩ)&lt;/li>
&lt;/ul>
&lt;h3 id="„Éá„Éº„ÇøÊï¥ÂêàÊÄß„Å®ËÄê‰πÖÊÄß">„Éá„Éº„ÇøÊï¥ÂêàÊÄß„Å®ËÄê‰πÖÊÄß&lt;/h3>
&lt;p>Leader„ÅåÊ©üËÉΩ‰∏çÂÖ®„Å´Èô•„Å£„ÅüÂ†¥Âêà„ÄÅÁä∂Ê≥Å„Å´„Çà„Å£„Å¶„ÅØISR„ÅåÊñ∞„Åó„ÅÑLeader„Å´ÊòáÊ†º„Åó„ÅüÂ†¥Âêà„Å´„ÇÇÂÉÖ„Åã„Å´„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂ§±„ÅÜÂèØËÉΩÊÄß„Åå„ÅÇ„ÇãÁÇπ„Å´„Å§„ÅÑ„Å¶Ë®ÄÂèä„Åó„Åæ„Åó„Åü„ÄÇÂÖ∑‰ΩìÁöÑ„Å´„ÅØLeader„ÅåFollower„Åã„Çâ„ÅÆ„Éï„Çß„ÉÉ„ÉÅ„É™„ÇØ„Ç®„Çπ„Éà„ÇíÂá¶ÁêÜ„ÅóÁµÇ„Çè„Å£„ÅüÁõ¥Âæå„Å´Êñ∞„Åü„Å´„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂèó„ÅëÂèñ„Å£„Åü„Ç±„Éº„Çπ„Åß„ÄÅ„Åì„ÅÆÂ†¥ÂêàÊñ∞„Åü„Å™„É°„ÉÉ„Çª„Éº„Ç∏„ÅØ„Åæ„Å†Follower„Åå„É°„ÉÉ„Çª„Éº„Ç∏„ÅÆÂà∞ÁùÄ„ÇíÊääÊè°„Åô„Çã„Åæ„Åß„ÅÆÁ©∫ÁôΩÊúüÈñì„ÅåÂ≠òÂú®„ÅóÂæó„Åæ„Åô„ÄÇ„Åì„ÅÆ„Çø„Ç§„Éü„É≥„Ç∞„ÅßLeader„ÅåÊ©üËÉΩ‰∏çÂÖ®„Å´Èô•„Å£„ÅüÂ†¥Âêà„ÄÅ„É°„ÉÉ„Çª„Éº„Ç∏„ÅØLeader„Å´„Åó„ÅãÂ≠òÂú®„Åó„Å™„ÅÑ„Å™„Åå„Çâ„ÇÇFollower„ÅÆ‰∏ÄÈÉ®„ÅØISR„Å®„Åó„Å¶ÊàêÁ´ã„Åó„Åæ„Åô„ÄÇ„Åù„Åó„Å¶ISR„Åå„Åù„ÅÆ„Åæ„ÅæLeader„Å´ÊòáÊ†º„Åô„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="ISR which is really not in-sync sequence" srcset="
/community/media/blogs/kafka-controller-broker-explained/not-in-sync-isr_hu7f8f7a0d1dc18ad510097bfa7ae71f61_47308_adb7d173994b97446bf22bea411ccfcb.webp 400w,
/community/media/blogs/kafka-controller-broker-explained/not-in-sync-isr_hu7f8f7a0d1dc18ad510097bfa7ae71f61_47308_df314272b8d2415dfd6f7a900a96e469.webp 760w,
/community/media/blogs/kafka-controller-broker-explained/not-in-sync-isr_hu7f8f7a0d1dc18ad510097bfa7ae71f61_47308_1200x1200_fit_q75_h2_lanczos_2.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-controller-broker-explained/not-in-sync-isr_hu7f8f7a0d1dc18ad510097bfa7ae71f61_47308_adb7d173994b97446bf22bea411ccfcb.webp"
width="760"
height="617"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;h3 id="produerÂÅ¥„ÅÆacks„ÅÆË®≠ÂÆö">ProduerÂÅ¥„ÅÆAcks„ÅÆË®≠ÂÆö&lt;/h3>
&lt;p>‰∏äË®ò„ÅÆ‰æã„Åß„ÅØLeader„ÅØËá™Ë∫´„Å∏„ÅÆÊõ∏„ÅçËæº„Åø„ÅåÂÆå‰∫Ü„Åó„ÅüÊôÇÁÇπ„ÅßAcks„ÇíËøî„ÅôË®≠ÂÆö (&lt;code>acks=1&lt;/code>) „ÇíÊÉ≥ÂÆö„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇBroker 1„ÅåÊúÄÂæå„ÅÆAcks„ÇíËøî„Åó„ÅüÁõ¥Âæå„Å´Ê©üËÉΩ‰∏çÂÖ®„Å®„Å™„Å£„ÅüÁÇ∫„ÄÅBroker 2„ÅØISR„Åß„ÅØ„ÅÇ„Çã„ÇÇ„ÅÆ„ÅÆ&lt;code>offset:100&lt;/code>„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„ÅØÂèó„ÅëÂèñ„Å£„Å¶„ÅÑ„Å™„ÅÑÁä∂ÊÖã„ÅßLeader„Å´ÊòáÊ†º„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Åì„ÅÆ‰∫ãË±°„ÅØ&lt;code>acks=all&lt;/code>„Å®Ë®≠ÂÆö„Åô„Çã„Åì„Å®„Å´„Çà„ÇäÂõûÈÅø„Åô„Çã‰∫ã„ÅØÂèØËÉΩ„Åß„ÄÅ„Å§„Åæ„ÇäLeader„ÅØÂÖ®„Å¶„ÅÆISR„Å∏„ÅÆÊõ∏„ÅçËæº„Åø„ÅåÊ≠£Â∏∏ÁµÇ‰∫Ü„Åó„ÅüÊôÇÁÇπ„ÅßÂàù„ÇÅ„Å¶acks„ÇíËøî„Åó„Åæ„Åô„ÄÇÊÆãÂøµ„Å™„Åå„Çâ„Åì„ÅÆË®≠ÂÆö„ÅÆÂ†¥Âêà„ÇØ„É©„Çπ„ÇøÂÖ®‰Ωì„ÅÆ„Çπ„É´„Éº„Éó„ÉÉ„Éà„Å´„ÅØÂΩ±Èüø„Åó„Åæ„Åô„ÄÇKafka„ÅÆ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅØpull„É¢„Éá„É´„Åß„ÅÇ„ÇãÁÇ∫„ÄÅLeader„ÅØÂÖ®„Å¶„ÅÆISR„ÅÆ„Éï„Çß„ÉÉ„ÉÅ„É™„ÇØ„Ç®„Çπ„Éà„ÅåÂ±ä„Åç„ÄÅ„Åæ„Åü„Åù„Çå„ÅåÂÆå‰∫Ü„Åô„Çã„Åæ„ÅßÂæÖ„Åü„Å™„Åë„Çå„Å∞„ÅÑ„Åë„Åæ„Åõ„Çì„ÄÇ&lt;/p>
&lt;p>„ÅÑ„Åè„Å§„Åã„ÅÆ„É¶„Éº„Çπ„Ç±„Éº„Çπ„Åß„ÅØ„ÄÅ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„ÇíÂÑ™ÂÖà„Åó„Å¶&lt;code>acks=1&lt;/code>„Å®„Åô„ÇãÂ†¥Âêà„ÇÇ„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>&lt;code>acks=all&lt;/code>„Å®Ë®≠ÂÆö„Åó„ÅüÂ†¥Âêà„Å´„É°„ÉÉ„Çª„Éº„Ç∏„ÅÆÊ¨†Êêç„ÅØÂõûÈÅøÂá∫Êù•„Åæ„Åô„ÄÇÊñ∞„Åü„Å´Leader„Å®„Å™„Å£„ÅüISR„Å´„ÅØÁÑ°„ÅÑ„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÊó¢„Å´ÂèñÂæó„Åó„ÅüConsumer„ÅåÂá∫„ÇãÂèØËÉΩÊÄß„ÇÇ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇProducer„Åã„Çâ„ÅÆacks„ÇíÂÖÉ„Å´„Éá„Éº„Çø„ÅÆÊï¥ÂêàÊÄß„ÅØ‰øù„Åü„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="high-watermark-offset">High Watermark Offset&lt;/h3>
&lt;p>Leader„ÅØÂÖ®„Å¶„ÅÆISR„Å∏„ÅÆ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅåÂÆå‰∫Ü„Åó„Å™„ÅÑÈôê„Çäacks„ÇíËøî„Åï„Å™„ÅÑ„Å®„Åó„Åæ„Åô„ÄÇ„Åì„ÅÆÈöõBroker„ÅØ &lt;em>high watermark offset&lt;/em> „Å®Âëº„Å∞„Çå„Çã„ÄåÂÖ®„Å¶„ÅÆISR„ÅåÂèñÂæóÊ∏à„Åø„ÅÆÊúÄÂ§ß„ÅÆ„Ç™„Éï„Çª„ÉÉ„Éà„Äç„ÇíÁÆ°ÁêÜ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇLeader„ÅØÂêà„Çè„Åõ„Å¶Consumer„Åã„Çâ„ÅÆ„É™„ÇØ„Ç®„Çπ„Éà„Å´ÂØæ„Åó„Å¶„Åì„ÅÆhigh watermark offset„ÇíË∂Ö„Åà„Å™„ÅÑ„É°„ÉÉ„Çª„Éº„Ç∏„ÅÆ„ÅøÊèê‰æõ„Åô„Çã‰∫ã„Å´„Çà„Çä„ÄÅDB„ÅßË®Ä„ÅÜ„Å®„Åì„Çç„ÅÆNon-Repeatable Read„ÇíÂõûÈÅø„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="High Watermark Offset" srcset="
/community/media/blogs/kafka-controller-broker-explained/high-watermark-offset_hu7ee940ddd7907971145f7d4d7b70115c_34334_7e9284c01e9197a8bb67bcfaa76768b5.webp 400w,
/community/media/blogs/kafka-controller-broker-explained/high-watermark-offset_hu7ee940ddd7907971145f7d4d7b70115c_34334_b5767dba72b37534de661ef436cf0a84.webp 760w,
/community/media/blogs/kafka-controller-broker-explained/high-watermark-offset_hu7ee940ddd7907971145f7d4d7b70115c_34334_1200x1200_fit_q75_h2_lanczos_2.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-controller-broker-explained/high-watermark-offset_hu7ee940ddd7907971145f7d4d7b70115c_34334_7e9284c01e9197a8bb67bcfaa76768b5.webp"
width="760"
height="204"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;h3 id="split-brain">Split Brain&lt;/h3>
&lt;p>Controller Broker„Åå„ÉÄ„Ç¶„É≥„Åó„ÅüÂ†¥Âêà„ÄÅ„É°„Çø„Éá„Éº„Çø„ÅÆÊ¨†Êêç„ÇíÂõûÈÅø„Åô„ÇãÁÇ∫„Å´Kafka„ÅØÊÄ•ÈÅΩ‰ª£ÁêÜ„ÅÆController„ÇíÁ´ã„Å¶„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Åì„Åì„Åß„ÅÆÂïèÈ°å„ÅØ„ÄÅÊàë„ÄÖ„Å´„ÅØController Broker„ÅÆÂøúÁ≠î‰∏çËÉΩ„ÅåÂÆåÂÖ®„Å™Ê©üËÉΩ‰∏çÂÖ®„Å´„Çà„Çã„ÇÇ„ÅÆ„Å™„ÅÆ„Åã„ÄÅ„Åù„Çå„Å®„ÇÇ‰∏ÄÊôÇÁöÑ„Å™ÈöúÂÆ≥ „Å´„Çà„Çã„ÇÇ„ÅÆ„Åã„ÅÆÂà§Êñ≠„ÅåÂá∫Êù•„Å™„ÅÑ‰∫ã„Åß„Åô„ÄÇ„Åù„Çå„Åß„ÇÇÊñ∞„Åü„Å™Controller„ÇíÈÅ∏Âá∫„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„Åå„ÄÅÂ†¥Âêà„Å´„Çà„Å£„Å¶„ÅØZombie Controller„ÇíÁîü„ÅøÂá∫„ÅôÂç±Èô∫ÊÄß„ÇÇ„ÅÇ„Çä„Åæ„Åô„ÄÇ„Å§„Åæ„Çä„ÄÅ„ÇØ„É©„Çπ„Çø„Åã„Çâ„ÅØÊó¢„Å´Á®ºÂÉç„ÇíÂÅúÊ≠¢„ÅóController„Åß„ÅØ„Å™„ÅÑ„Å®Ë™çË≠ò„Åï„Çå„Å¶„ÅÑ„Çã„Å´„ÇÇÈñ¢„Çè„Çâ„Åö„ÄÅÂÜç„Å≥„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å®„Å™„ÇäController„Å®„Åó„Å¶ÊåØ„ÇãËàû„ÅÜBroker„Åß„Åô„ÄÇ&lt;/p>
&lt;p>„Åì„ÅÆ‰∫ãË±°„ÅØÂÆπÊòì„Å´Ëµ∑„Åì„ÇäÂæó„Åæ„Åô„ÄÇ‰æã„Åà„Å∞‰∏ÄÊôÇÁöÑ„Å™&lt;a href="https://aphyr.com/posts/288-the-network-is-reliable" target="_blank" rel="noopener">„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„ÅÆÂàÜÊñ≠&lt;/a>„ÅåÁô∫Áîü„Åó„ÅüÂ†¥Âêà„ÇÑ„ÄÅÈùûÂ∏∏„Å´Èï∑„ÅÑGC Pause(Stop-the-World - ÂÖ®„Å¶„ÅÆÂá¶ÁêÜ„ÅåGC„ÅÆÂÆüË°åÂÆå‰∫Ü„Åæ„ÅßÂÅúÊ≠¢„Åï„Çå„Çã‰∫ãË±°)„ÅåÁô∫Áîü„Åó„ÅüÂ†¥Âêà„Å´„ÅØ„ÄÅCluster„ÅØ„Åù„ÅÆController Broker„ÅåÊó¢„Å´ÂÅúÊ≠¢„Åó„Åü„Å®Âà§Êñ≠„ÅóÂæó„Åæ„Åô„ÄÇÁâπ„Å´GC Pause„ÅÆÂ†¥Âêà„ÄÅController Broker„ÅÆË¶≥ÁÇπ„Åß„ÅØ‰Ωï‰∏Ä„Å§Â§â„Çè„Å£„Å¶„ÅÑ„Å™„ÅÑ„ÅÆ„Å´ÊôÇÈñì„ÅåÁµåÈÅé„Åó„Å¶„ÅÑ„ÇãÁä∂Ê≥Å„Å®„Å™„Çä„Åæ„Åô„ÄÇ„Åì„ÅÆÁÇ∫„ÄÅController„ÅåÊó¢„Å´ÈÅ∏Âá∫„Åï„Çå„ÅüÂæå„Å´‰ª•Ââç„ÅÆController„ÅåÂæ©Â∏∞„Åô„Çã„ÄÅÂàÜÊï£„Ç∑„Çπ„ÉÜ„É†„Å´„Åä„Åë„Çã&lt;a href="https://techthoughts.typepad.com/managing_computers/2007/10/split-brain-quo.html" target="_blank" rel="noopener">Split Brain&lt;/a>„ÅåÁô∫Áîü„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>‰æã„Å´Ê∫ñ„Åà„Å¶Ëß£Ë™¨„Åó„Åæ„Åô„ÄÇÁ®ºÂÉç‰∏≠„ÅÆController„ÅåÈï∑„ÅÑGC Pause„Å´Èô•„Å£„Åü„Å®„Åó„Åæ„Åô„ÄÇController„ÅÆZookeeper Session„ÅåÁÑ°ÂäπÂåñ„Åï„Çå„ÄÅ&lt;code>/controller&lt;/code>znode„ÅØÂâäÈô§„Åï„Çå„Åæ„Åô„ÄÇ„ÇØ„É©„Çπ„ÇøÂÜÖ„ÅÆ‰ªñ„ÅÆBroker„ÅØÈÄöÁü•„ÇíÂèó„Åë„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="Zombie Controller 1" srcset="
/community/media/blogs/kafka-controller-broker-explained/zombie-controller-1_hu23f36871d72aa03f5abf14da0a4f651a_28874_8234f76cd2ef1f4693fc46419d252975.webp 400w,
/community/media/blogs/kafka-controller-broker-explained/zombie-controller-1_hu23f36871d72aa03f5abf14da0a4f651a_28874_ccb5a50a39671ca10d8ef574dba2e1de.webp 760w,
/community/media/blogs/kafka-controller-broker-explained/zombie-controller-1_hu23f36871d72aa03f5abf14da0a4f651a_28874_1200x1200_fit_q75_h2_lanczos_2.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-controller-broker-explained/zombie-controller-1_hu23f36871d72aa03f5abf14da0a4f651a_28874_8234f76cd2ef1f4693fc46419d252975.webp"
width="760"
height="270"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;p>Controller„ÅÆ‰∏çÂú®Áä∂Ê≥Å„ÇíÂõûÈÅø„Åô„ÇãÁÇ∫„ÄÅÂÖ®„Å¶„ÅÆBroker„ÅåController„Å´„Å™„Çç„ÅÜ„Å®„Åó„Åæ„Åô„ÄÇ„Åì„ÅÆÂ†¥ÂêàBroker 2„ÅåÈÅ∏Âá∫„Åï„ÇåÊñ∞„Åü„Å™Controller„Å®„Åó„Å¶&lt;code>/controller&lt;/code>znode„Å´Ëá™Ë∫´„ÅåËøΩÂä†„Åï„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>ÂÖ®„Å¶„ÅÆBroker„ÅØ„Åì„ÅÆÊñ∞„Åü„Å™znode„Åå‰ΩúÊàê„Åï„Çå„ÄÅBroker 2„ÅåController„Åß„ÅÇ„ÇãÈÄöÁü•„ÇíÂèó„Åë„Åæ„Åô„ÄÇ„Åì„ÅÆÈöõ„Å´„ÇÇÂîØ‰∏ÄGC Pause‰∏≠„ÅÆBroker 3„Å†„Åë„ÅØ„Åì„ÅÆÈÄöÁü•„ÇíÂèó„Åë„Åæ„Åõ„Çì„ÄÇ„Å°„Å™„Åø„Å´„Åì„ÅÆÈÄöÁü•„ÅåBroker„Å´Âà∞ÈÅî„Åó„Å™„ÅÑÂèØËÉΩÊÄß„ÅØ‰ªñ„Å´„ÇÇ„ÅÇ„Çä„Åæ„Åô„ÄÇ„ÅÑ„Åö„Çå„Å´„Åõ„ÇàÊúÄÁµÇÁöÑ„Å´Broker 3„Å´„ÅØÊñ∞„Åü„Å™ControllerÈÅ∏Âá∫„ÅÆÈÄöÁü•„ÅåÂ±ä„Åç„Åæ„Åõ„Çì„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="Zombie Controller 2" srcset="
/community/media/blogs/kafka-controller-broker-explained/zombie-controller-2_hu1daff395d8979a57f29a46032a5f58e9_28108_355fbebd342800306f40cf9c793c54b6.webp 400w,
/community/media/blogs/kafka-controller-broker-explained/zombie-controller-2_hu1daff395d8979a57f29a46032a5f58e9_28108_303b8045fe641bf13886fe6278809932.webp 760w,
/community/media/blogs/kafka-controller-broker-explained/zombie-controller-2_hu1daff395d8979a57f29a46032a5f58e9_28108_1200x1200_fit_q75_h2_lanczos_2.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-controller-broker-explained/zombie-controller-2_hu1daff395d8979a57f29a46032a5f58e9_28108_355fbebd342800306f40cf9c793c54b6.webp"
width="760"
height="262"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;p>Broker 3„Åß„ÅÆGCÂá¶ÁêÜ„ÅåÂÆå‰∫Ü„ÅóÂæ©Â∏∞„Åó„ÅüÈöõ„ÄÅÊú™„Å†„Å´Ëá™Ë∫´„ÅåController„Å†„Å®Ë™çË≠ò„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="Zombie Controller 3" srcset="
/community/media/blogs/kafka-controller-broker-explained/zombie-controller-3_hu69d3de9c1c781c11547d8d4c73b1ae58_22958_9315415f925ce97da7a83dfc91d27d5d.webp 400w,
/community/media/blogs/kafka-controller-broker-explained/zombie-controller-3_hu69d3de9c1c781c11547d8d4c73b1ae58_22958_8650d61272f471ed9e32358aaa70c1d0.webp 760w,
/community/media/blogs/kafka-controller-broker-explained/zombie-controller-3_hu69d3de9c1c781c11547d8d4c73b1ae58_22958_1200x1200_fit_q75_h2_lanczos_2.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-controller-broker-explained/zombie-controller-3_hu69d3de9c1c781c11547d8d4c73b1ae58_22958_9315415f925ce97da7a83dfc91d27d5d.webp"
width="760"
height="129"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;p>ÁµêÊûú„Å®„Åó„Å¶2„Å§„ÅÆController„ÅåÁ®ºÂÉçÁä∂ÊÖã„Å®„Å™„Çä„ÄÅÁï∞„Å™„ÇãÊåáÁ§∫„Çí‰∏¶Ë°å„Åó„Å¶ÈÄÅ„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Åì„ÅÆÁä∂ÊÖã„ÅØ„ÇØ„É©„Çπ„Çø„ÅÆÁä∂ÊÖã„Å®„Åó„Å¶Ê•µ„ÇÅ„Å¶ÊÇ™„Åè„ÄÅÈÅ©Âàá„Å´ÂØæÂøú„Åó„Å™„Åë„Çå„Å∞ÈáçÂ§ß„Å™„Éá„Éº„Çø‰∏çÊï¥Âêà„ÇíËµ∑„Åì„ÅóÂæó„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„ÇÇ„ÅóBroker 2(Êñ∞„Åü„Å´ÈÅ∏Âá∫„Åï„Çå„ÅüController)„ÅåBroker 3„Åã„ÇâÊåáÁ§∫„ÇíÂèó„Åë„ÅüÂ†¥Âêà„ÄÅ„Åì„ÅÆBroker 3„ÅåÊñ∞„Åü„Å™Controller„Åß„ÅÇ„Çã„Å®„ÅÑ„ÅÜ‰øùË®º„ÅØÂèñ„Çå„Çã„ÅÆ„Åß„Åó„Çá„ÅÜ„ÅãÔºü„ÇÇ„Å°„Çç„ÇìBroker 2„ÇÇÂêåÊßò„Å´GC Pause„Å´Èô•„Å£„ÅüÂèØËÉΩÊÄß„ÇÇ„ÅÇ„Çä„ÄÅËá™ÂàÜËá™Ë∫´„ÇÇÊúÄÊñ∞„ÅÆController„Åß„ÅØ„Å™„ÅÑÂèØËÉΩÊÄß„ÇÇÂê¶ÂÆöÂá∫Êù•„Åæ„Åõ„Çì„ÄÇ&lt;/p>
&lt;p>‰Ωï„Åã„Åó„Çâ„ÅÆÊñπÊ≥ï„Åß„ÄÅ„Å©„ÅÆController„ÅåÊúÄÊñ∞„Åß„ÅÇ„ÇäÁèæÂú®Á®ºÂÉç„Åô„Åπ„ÅçController„Åß„ÅÇ„Çã„ÅÆ„Åã„ÇíÂÖ®Âì°„ÅåÂà§Êñ≠Âá∫Êù•„ÇãÊñπÊ≥ï„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ&lt;/p>
&lt;p>„Åù„ÅÆÊñπÊ≥ï„ÅØÊ•µ„ÇÅ„Å¶ÂçòÁ¥î„Å´„ÄÅepoch number&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>„ÅÆÂà©Áî®„Å´„Çà„ÇäËß£Ê±∫„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇepoch number„ÅØÂçòÁ¥î„Å´1„Åö„Å§Â¢óÂä†„Åô„ÇãËá™ÁÑ∂Êï∞„Åß„ÅÇ„Çä„ÄÅÂè§„ÅÑController„ÅÆepoch number„Åå1„ÅÆÂ†¥Âêà„ÄÅÊñ∞„Åü„Å´ÈÅ∏Âá∫„Åï„Çå„ÅüController„ÅÆepoch number„ÅØ2„Å´„Å™„Çä„Åæ„Åô„ÄÇBroker„ÅØÂçòÁ¥î„Å´„ÄÅÊúÄ„ÇÇÂ§ß„Åç„Å™epoch number„ÇíÊåÅ„Å§Controller„Åã„Çâ„ÅÆÊåáÁ§∫„Çí‰ø°„Åò„Çã‰∫ã„Å´„Çà„Çäsplit brain„ÇíÂõûÈÅøÂá∫Êù•„Åæ„Åô„ÄÇ„Åì„ÅÆepoch number„ÅØZookeeper„Å´‰øùÂÖ®„Åï„Çå„Åæ„Åô„ÄÇ(Zookeeper„ÅÆ&lt;a href="https://zookeeper.apache.org/doc/current/zookeeperInternals.html#sc_consistency" target="_blank" rel="noopener">Consistency Guarantee&lt;/a>„ÅÆÊ©üËÉΩ„ÇíÂà©Áî®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ)&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="Epoch Number" srcset="
/community/media/blogs/kafka-controller-broker-explained/epoch-number_hu0d56464ab7710eb0c72339108d848be9_45220_60f7d0456161f3cf7749b27aae0caeea.webp 400w,
/community/media/blogs/kafka-controller-broker-explained/epoch-number_hu0d56464ab7710eb0c72339108d848be9_45220_0f8ab2d515879d560894819d31dc3add.webp 760w,
/community/media/blogs/kafka-controller-broker-explained/epoch-number_hu0d56464ab7710eb0c72339108d848be9_45220_1200x1200_fit_q75_h2_lanczos_2.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-controller-broker-explained/epoch-number_hu0d56464ab7710eb0c72339108d848be9_45220_60f7d0456161f3cf7749b27aae0caeea.webp"
width="760"
height="288"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;p>Broker 1„ÅåÊúÄ„ÇÇÂ§ß„Åç„ÅÑ&lt;code>controllerEpoch&lt;/code>„ÇíZookeeper„Å´‰øùÂÖ®„Åô„Çã‰∫ã„Å´„Å™„Çä„ÄÅ„Åù„ÅÆ‰ªñÂÖ®„Å¶„ÅÆ„Çà„ÇäÂ∞è„Åï„Å™epoch number„ÇíÊåÅ„Å§Controller„Åã„Çâ„ÅÆÊåáÁ§∫„ÅØÁÑ°Ë¶ñ„Åï„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="„Åù„ÅÆ‰ªñ„ÅÆÂΩπÂâ≤">„Åù„ÅÆ‰ªñ„ÅÆÂΩπÂâ≤&lt;/h3>
&lt;p>Controller„Å´„ÅØ‰ªñ„Å´„ÇÇ„ÇÑ„ÇÑÂú∞Âë≥„Å™ÂΩπÂâ≤„ÇíÊãÖ„ÅÑ„Åæ„ÅôÔºö&lt;/p>
&lt;ul>
&lt;li>Êñ∞„Åó„ÅÑTopic„ÅÆ‰ΩúÊàê&lt;/li>
&lt;li>Êñ∞„Åó„ÅÑPartition„ÅÆ‰ΩúÊàê&lt;/li>
&lt;li>Topic„ÅÆÂâäÈô§&lt;/li>
&lt;/ul>
&lt;p>„Åì„Çå„ÇâÂá¶ÁêÜ„ÅØ„ÄÅ‰ª•Ââç„Å´„ÅØ„ÇÑ„ÇÑ‰π±Êö¥„Å™ÊñπÊ≥ï„Åß&lt;sup id="fnref:4">&lt;a href="#fn:4" class="footnote-ref" role="doc-noteref">4&lt;/a>&lt;/sup>Âá¶ÁêÜ„Åï„Çå„Å¶„ÅÑ„Åæ„Åó„Åü„Åå„ÄÅversion 0.11„Å®1.0„Åã„Çâ„ÅØController„Å∏„ÅÆ„É™„ÇØ„Ç®„Çπ„Éà„Å´„Å¶Âá¶ÁêÜ„Åô„ÇãÊñπÊ≥ï„Å´„Å®Â§âÊõ¥„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åì„ÅÆÊñπÊ≥ï„ÅØ&lt;a href="https://kafka.apache.org/documentation/#adminapi" target="_blank" rel="noopener">Admin Client API&lt;/a>„Å®„Åó„Å¶Êèê‰æõ„Åï„Çå„ÄÅKafka„ÇØ„É©„Çπ„Çø„Å∏„Ç¢„ÇØ„Çª„Çπ„Åô„Çã„Ç¢„Éó„É™„ÇÑÁÆ°ÁêÜËÄÖ„Å´„ÇÇÂÆπÊòì„Å´„Ç¢„ÇØ„Çª„Çπ„Åô„Çã„Åì„Å®„ÅåÂá∫Êù•„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="2 Minutes Streaming" srcset="
/community/media/blogs/kafka-acks-explained/two-minites-streaming_hue3ec6dcfa348a79b62ae3c8b92373579_136684_69bf0270813a154536ca6866d0eebe28.webp 400w,
/community/media/blogs/kafka-acks-explained/two-minites-streaming_hue3ec6dcfa348a79b62ae3c8b92373579_136684_9b81ef5fad55639d712bb44153e40131.webp 760w,
/community/media/blogs/kafka-acks-explained/two-minites-streaming_hue3ec6dcfa348a79b62ae3c8b92373579_136684_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/two-minites-streaming_hue3ec6dcfa348a79b62ae3c8b92373579_136684_69bf0270813a154536ca6866d0eebe28.webp"
width="760"
height="399"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
„Åì„ÅÆ„Ç®„É≥„Éà„É™„ÅÆËëóËÄÖ„Åß„ÅÇ„Çã&lt;a href="../../authors/stanislav/">Stanislav Kozlovski&lt;/a> „ÅØ&lt;a href="https://2minutestreaming.com/" target="_blank" rel="noopener">2 Minute Streaming&lt;/a>„Å®„ÅÑ„ÅÜKafka„Å´Èñ¢„Åô„ÇãÈöîÈÄ±„Éã„É•„Éº„Çπ„É¨„Çø„Éº„ÇíÁô∫Ë°å„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇÊòØÈùûË≥ºË™≠„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>(Ë®≥ËÄÖÊ≥®)„Åì„Çå„ÅØZookeeper„Çí„ÇØ„É©„Çπ„Çø„ÅÆ„É°„Çø„Éá„Éº„ÇøÁÆ°ÁêÜ„Å´Âà©Áî®„Åô„ÇãÂ†¥Âêà„ÅÆË©±„Åß„ÄÅ&lt;a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-595%3A&amp;#43;A&amp;#43;Raft&amp;#43;Protocol&amp;#43;for&amp;#43;the&amp;#43;Metadata&amp;#43;Quorum" target="_blank" rel="noopener">KRaft&lt;/a>„Å®Âëº„Å∞„Çå„ÇãRaft„Éô„Éº„Çπ„ÅÆ„Ç≥„É≥„Çª„É≥„Çµ„Çπ„É¢„Éá„É´„Åß„ÅØ3‰ª•‰∏ä„ÅÆController„ÅåÂ≠òÂú®„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>(Ë®≥ËÄÖÊ≥®)Kafka2.4„Çà„Çä„ÄÅÊúÄÂØÑ„Çä„ÅÆ„É¨„Éó„É™„Ç´„Åã„ÇâRead„Åô„Çã(&lt;a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-392%3A&amp;#43;Allow&amp;#43;consumers&amp;#43;to&amp;#43;fetch&amp;#43;from&amp;#43;closest&amp;#43;replica" target="_blank" rel="noopener">KIP-392&lt;/a>)Ê©üËÉΩ„ÅåÊèê‰æõ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>‚ÄùFencing Token&amp;quot;„Å®„ÇÇÂëº„Å∞„Çå„Åæ„Åô„ÄÇ&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:4">
&lt;p>Bash„Çπ„ÇØ„É™„Éó„Éà„Å´„Çà„Å£„Å¶Áõ¥Êé•Zookeeper„ÇíÊõ¥Êñ∞„ÅÆ‰∏ä„ÄÅController„ÇÑ„Åù„ÅÆ‰ªñBroker„Åå„Åù„ÅÆÂ§âÊõ¥„ÇíÂèó„ÅëÂèñ„Çã„ÅÆ„ÇíÂæÖ„Å§„ÄÅ„Å®„ÅÑ„ÅÜÂÆüË£Ö„Åß„Åó„Åü„ÄÇ&amp;#160;&lt;a href="#fnref:4" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Tiered Storage„ÅØ‰ΩïÊïÖ„Åù„Çì„Å™„Å´ÈáçË¶Å„Å™„ÅÆ„ÅãÔºü</title><link>https://confluent-jp.github.io/community/blog/kip405-why-tiered-storage-important/</link><pubDate>Sun, 06 Aug 2023 00:00:00 +0000</pubDate><guid>https://confluent-jp.github.io/community/blog/kip405-why-tiered-storage-important/</guid><description>&lt;h2 id="tiered-storage„Å®„ÅØ">Tiered Storage„Å®„ÅØ&lt;/h2>
&lt;p>‰ªäÂπ¥„ÅÆÂæåÂçä„Å´„É™„É™„Éº„Çπ„Åå‰∫àÂÆö„Åï„Çå„Å¶„ÅÑ„Çã&lt;a href="https://cwiki.apache.org/confluence/display/KAFKA/Release&amp;#43;Plan&amp;#43;3.6.0" target="_blank" rel="noopener">Apache Kafka 3.6&lt;/a>„Å´„ÅØ„ÄÅTiered Storage„Å®Âëº„Å∞„Çå„ÇãKafka„Ç≥„Éü„É•„Éã„ÉÜ„Ç£„ÅåÂæÖ„Å°Êúõ„Çì„Å†Êñ∞Ê©üËÉΩ„ÅåÂê´„Åæ„Çå„Çã‰∫àÂÆö„Åß„Åô„ÄÇ„Åì„ÅÆÊ©üËÉΩ„ÅØ&lt;a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-405%3A&amp;#43;Kafka&amp;#43;Tiered&amp;#43;Storage" target="_blank" rel="noopener">KIP-405&lt;/a>„Å®„Åó„Å¶‰ΩïÂπ¥„ÇÇÂâç„Å´ÁôªÈå≤„Åï„Çå„ÅüKIP„Åß„ÅÇ„Çä„ÄÅÈï∑„ÅÑÊúüÈñì„Çí„Åã„Åë„Å¶„Çà„ÅÜ„ÇÑ„Åè„É™„É™„Éº„ÇπÁõÆÂá¶„ÅåÁµå„Å°„Åæ„Åó„Åü„ÄÇ&lt;/p>
&lt;p>„Åì„Çå„Åæ„ÅßKafka„ÅÆ„Éá„Éº„Çø„ÅØÂ∏∏„Å´Broker„ÅÆ„Çπ„Éà„É¨„Éº„Ç∏„Å´Ê†ºÁ¥ç„Åï„Çå„Å¶„ÅÑ„Åæ„Åó„Åü„Åå„ÄÅ„Åì„Çå„Çí‰∫åÂ±§Âåñ„Åó„Å¶Âè§„ÅÑ„Çª„Ç∞„É°„É≥„Éà„ÇíËá™ÂãïÁöÑ„Å´ÈÄÄÈÅø„Åô„Çã„Å®„ÅÑ„ÅÜÊ©üËÉΩ„Åß„Åô„ÄÇKafka„Å´Ê†ºÁ¥ç„Åï„Çå„Åü„Ç§„Éô„É≥„Éà„Çí„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çπ„Éà„É¨„Éº„Ç∏„Å´ÈÄÄÈÅø„Åô„Çã„Å®„ÅÑ„ÅÜ„Éó„É©„ÇØ„ÉÜ„Ç£„Çπ„ÅØ‰∏ÄËà¨ÁöÑ„Åß„ÅÇ„Çä„ÄÅ„Åì„Çå„Åæ„Åß„ÅØKafka Connect„Ç≥„Éç„ÇØ„Çø„Çí‰Ωø„Å£„Å¶Ëá™ÂàÜ„ÅßÈÄÄÈÅø„Åï„Åõ„Çã„Ç¢„Éó„É≠„Éº„ÉÅ„ÇíÂèñ„Å£„Å¶„ÅÑ„Åæ„Åó„Åü„ÄÇ„Åì„Çå„ÇíKafka„Éç„Ç§„ÉÜ„Ç£„Éñ„Å™Ê©üËÉΩ„Å®„Åó„Å¶Êèê‰æõ„Åô„Çã„ÄÅ„Åù„ÅÆÂΩπÂâ≤„ÇíKafka Broker„ÅåË°å„ÅÜ„Å®„ÅÑ„ÅÜ„ÇÇ„ÅÆ„Åß„Åô„ÄÇ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Åã„Çâ„ÅØ„Åì„ÅÆ„Ç™„Éö„É¨„Éº„Ç∑„Éß„É≥„ÅØÈö†ËîΩÂåñ„Åï„Çå„Å¶„Åä„Çä„ÄÅÊñ∞„Åó„ÅÑ„Ç§„Éô„É≥„Éà„ÇÇÂè§„ÅÑ„Ç§„Éô„É≥„Éà„ÇÇÂêå„Åò„Ç¢„Éó„É≠„Éº„ÉÅ„Åß„Ç¢„ÇØ„Çª„Çπ„Åô„Çã‰∫ã„ÅåÂá∫Êù•„Åæ„Åô„ÄÇ&lt;/p>
&lt;h2 id="tiered-storage„ÅÆÂãï„Åç---Âõ≥Ëß£">Tiered Storage„ÅÆÂãï„Åç - Âõ≥Ëß£&lt;/h2>
&lt;p>„Åì„Çå„Åæ„ÅßÈÄö„Çä„ÄÅ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Åã„ÇâÈÄÅ„Çâ„Çå„Åü„Ç§„Éô„É≥„Éà„ÅØkafka Broker„ÅÆ„Çπ„Éà„É¨„Éº„Ç∏„Å´„Çª„Ç∞„É°„É≥„ÉàÂçò‰Ωç„Åß‰øùÂ≠ò„Åï„Çå„Åæ„Åô„ÄÇ„Çª„Ç∞„É°„É≥„Éà„ÅØ„É≠„Ç∞„Éï„Ç°„Ç§„É´„Åß„ÅÇ„Çä„ÄÅ„É©„É≥„ÉÄ„É†„Ç¢„ÇØ„Çª„Çπ„Åß„ÅØ„Å™„Åè„Ç¢„Éö„É≥„Éâ„Åß„Åó„Åã„Éá„Éº„Çø„ÇíË∂≥„Åõ„Å™„ÅÑÁÇ∫„ÄÅÊúÄ„ÇÇÊñ∞„Åó„ÅÑ„Çª„Ç∞„É°„É≥„Éà (Active Segment„Å®Âëº„Å∞„Çå„Åæ„Åô) ‰ª•Â§ñ„ÅÆ„Éï„Ç°„Ç§„É´„ÅØ‰∏çÂèØÂ§â (Immutable) „Åß„Åô„ÄÇ&lt;/p>
&lt;p>Tiered Storage„ÅØ„Åì„ÅÆ„ÅÜ„Å°Âè§„ÅÑ„Çª„Ç∞„É°„É≥„Éà„ÇíËá™ÂãïÁöÑ„Å´„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çπ„Éà„É¨„Éº„Ç∏„Å´ÈÄÄÈÅø„Åó„Åæ„Åô„ÄÇ
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="Storage phase-1" srcset="
/community/media/blogs/kip405-why-tiered-storage-important/storage-phase-1_hu2024f9fb0e264eb23f1f5629f1888bef_131836_307dc89e1a68d87bc27b49159af2e082.webp 400w,
/community/media/blogs/kip405-why-tiered-storage-important/storage-phase-1_hu2024f9fb0e264eb23f1f5629f1888bef_131836_0c117106ee083960e7059ed25e9ffecd.webp 760w,
/community/media/blogs/kip405-why-tiered-storage-important/storage-phase-1_hu2024f9fb0e264eb23f1f5629f1888bef_131836_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kip405-why-tiered-storage-important/storage-phase-1_hu2024f9fb0e264eb23f1f5629f1888bef_131836_307dc89e1a68d87bc27b49159af2e082.webp"
width="760"
height="290"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;p>‰∏≠„Åß„ÅØÊñ∞„Åó„ÅèRemoteLogManager„Å®Âëº„Å∞„Çå„Çã„Éó„É≠„Çª„Çπ„Åå„ÄÅ„Åì„Çå„Åæ„Åß„ÅÆLogManager„Å´Ëøë„ÅÑÂΩπÂâ≤„ÇíÊûú„Åü„Åó„Å§„Å§„É™„É¢„Éº„Éà„Çπ„Éà„É¨„Éº„Ç∏„Å´„Ç≥„Éî„Éº„Åó„ÄÅÂêà„Çè„Åõ„Å¶„É™„É¢„Éº„Éà„Çπ„Éà„É¨„Éº„Ç∏„ÅÆ„Ç§„É≥„Éá„ÉÉ„ÇØ„ÇπÁä∂ÊÖã„ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•„Çí‰øùÊåÅ„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="Storage phase-2" srcset="
/community/media/blogs/kip405-why-tiered-storage-important/storage-phase-2_hu86fab6f33ca7c672a829674acdc1ce76_168812_ed30da300d0b9b691d188362efbc7e4f.webp 400w,
/community/media/blogs/kip405-why-tiered-storage-important/storage-phase-2_hu86fab6f33ca7c672a829674acdc1ce76_168812_d4ef38034777db186c40e196ccf45f74.webp 760w,
/community/media/blogs/kip405-why-tiered-storage-important/storage-phase-2_hu86fab6f33ca7c672a829674acdc1ce76_168812_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kip405-why-tiered-storage-important/storage-phase-2_hu86fab6f33ca7c672a829674acdc1ce76_168812_ed30da300d0b9b691d188362efbc7e4f.webp"
width="760"
height="277"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;p>‰∏ä„Å´„ÅÇ„Çã„Çà„ÅÜ„Å´„ÄÅBrokerÂÅ¥„ÅÆ‰øùÂÖ®ÊúüÈñì (Retention Period) „ÇíË∂ÖÈÅé„Åó„Çª„Ç∞„É°„É≥„Éà„ÅåÂâäÈô§„Åï„Çå„ÅüÂæå„ÇÇ„ÄÅ„É™„É¢„Éº„Éà„Çπ„Éà„É¨„Éº„Ç∏„Å´„ÅØ„Åù„ÅÆ„Ç≥„Éî„Éº„ÅåÊÆã„Çä„Åæ„Åô„ÄÇ„Çπ„Éà„É¨„Éº„Ç∏„ÅÆÂãï„Åç„ÅØ„Åì„Çå„Å†„Åë„Åß„ÄÅ„É™„É¢„Éº„Éà„Åã„Çâ„É≠„Éº„Ç´„É´„Å´„Çª„Ç∞„É°„É≥„Éà„ÅåÊàª„Å£„Å¶„Åè„ÇãÊßò„Å™‰∫ã„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„Åì„Çå„Åæ„Åß„ÅÆLog Manager„ÅÆÂΩπÂâ≤„ÇÇ„Åù„ÅÆ„Åæ„Åæ„Åß„ÄÅ„É≠„Éº„Ç´„É´„ÅÆ„É≠„Ç∞„ÅØ‰ªä„Åæ„ÅßÈÄö„ÇäÁÆ°ÁêÜ„Åï„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Åª„Å®„Çì„Å©„ÅÆ„É¶„Éº„Çπ„Ç±„Éº„Çπ„Åß„ÅØ„ÄÅ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅØÊúÄÊñ∞„ÅÆ„Çª„Ç∞„É°„É≥„Éà„Å´ÈõÜ‰∏≠„Åó„Å¶„Ç¢„ÇØ„Çª„Çπ„Åó„Åæ„Åô„ÄÇ
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="Storage phase-3" srcset="
/community/media/blogs/kip405-why-tiered-storage-important/storage-phase-3_hufec61c00674d614f5445ee3899763482_184498_13555c5a91b8f7799d7e3a3c89dd36dd.webp 400w,
/community/media/blogs/kip405-why-tiered-storage-important/storage-phase-3_hufec61c00674d614f5445ee3899763482_184498_38b70ca4b82c8226d2b8975dc87ab4fb.webp 760w,
/community/media/blogs/kip405-why-tiered-storage-important/storage-phase-3_hufec61c00674d614f5445ee3899763482_184498_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kip405-why-tiered-storage-important/storage-phase-3_hufec61c00674d614f5445ee3899763482_184498_13555c5a91b8f7799d7e3a3c89dd36dd.webp"
width="760"
height="277"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
Êõ∏„ÅçËæº„Åø„ÅØÂΩìÁÑ∂ÊúÄÊñ∞„Åß„ÅÇ„ÇãActive Segment„Å´„Åó„ÅãÁô∫Áîü„Åó„Åæ„Åõ„Çì„Åå„ÄÅË™≠„ÅøËæº„Åø„ÇÇÂ§öÂ∞ë„ÅÆ„É©„Ç∞„ÅØ„ÅÇ„Çä„Å™„Åå„Çâ„ÇÇ„Åª„ÅºÊúÄÊñ∞„Å´Ëøë„ÅÑ„Çª„Ç∞„É°„É≥„Éà„Å∏„ÅÆ„Ç¢„ÇØ„Çª„Çπ„Å®„Å™„Çä„Åæ„Åô„ÄÇ„Åì„ÅÆ„Ç¢„ÇØ„Çª„Çπ„ÅØ„Åì„Çå„Åæ„Åß„Å®‰Ωï„ÇÇÂ§â„Çè„Çâ„Åö„ÄÅ‰ªä„Åæ„ÅßÈÄö„ÇäBroker„Åå„Éá„Ç£„Çπ„ÇØI/OÁµåÁî±„Åß„Éá„Éº„Çø„ÇíÂèñÂæó„Åó„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Å´Â∏∞„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>ÈÅï„ÅÑ„ÅØ„ÄÅ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅåÂè§„ÅÑ„Çª„Ç∞„É°„É≥„Éà„Å´„ÅÇ„Çã„Ç™„Éï„Çª„ÉÉ„Éà„ÇíÊåáÂÆö„Åó„Å¶Ë™≠„ÅøËæº„Åø„Çí„É™„ÇØ„Ç®„Çπ„Éà„Åó„ÅüÂ†¥Âêà„Åß„Åô„ÄÇ
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="Storage phase-4" srcset="
/community/media/blogs/kip405-why-tiered-storage-important/storage-phase-4_hu82aa3a1a927fb65a627ff1f8047c21f4_204292_2a2234b74cfe0781c6e5b4a49c707312.webp 400w,
/community/media/blogs/kip405-why-tiered-storage-important/storage-phase-4_hu82aa3a1a927fb65a627ff1f8047c21f4_204292_0641f49b3b2042ca8b889354eab7f534.webp 760w,
/community/media/blogs/kip405-why-tiered-storage-important/storage-phase-4_hu82aa3a1a927fb65a627ff1f8047c21f4_204292_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kip405-why-tiered-storage-important/storage-phase-4_hu82aa3a1a927fb65a627ff1f8047c21f4_204292_2a2234b74cfe0781c6e5b4a49c707312.webp"
width="760"
height="288"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;p>Êó¢„Å´Broker„ÅÆ„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å´„ÅØ„Çª„Ç∞„É°„É≥„Éà„ÅØÂ≠òÂú®„Åó„Åæ„Åõ„Çì„Åå„ÄÅ„É™„É¢„Éº„Éà„Çπ„Éà„É¨„Éº„Ç∏„Å´Â≠òÂú®„Åô„ÇãÈôê„ÇäBroker„ÅØ„Éá„Éº„Çø„ÇíÂèñÂæó„Åó„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Å´Ëøî„Åô„Åì„Å®„ÅåÂá∫Êù•„Åæ„Åô„ÄÇ&lt;/p>
&lt;h2 id="„É°„É™„ÉÉ„Éà-1---Êã°ÂºµÊÄß-scalability">„É°„É™„ÉÉ„Éà 1 - Êã°ÂºµÊÄß (Scalability)&lt;/h2>
&lt;p>Kafka„ÅØÊã°ÂºµÊÄß„Å´Ê•µ„ÇÅ„Å¶ÂÑ™„Çå„Åü„Çπ„Éà„É™„Éº„Éü„É≥„Ç∞„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†„Åß„ÅÇ„Çä„ÄÅÂéüÂâáBroker„Éé„Éº„Éâ„ÇíËøΩÂä†„Åô„Çã„Åì„Å®„Å´„Çà„ÇäÊ∞¥Âπ≥„Çπ„Ç±„Éº„É´„Åô„Çã‰∫ã„Åå„Åß„Åç„Åæ„Åô„ÄÇ‰∏ÄÊñπ„ÄÅÊã°Âºµ„Å´„ÅØÈôêÁïå„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ‰∏ÄËà¨ÁöÑ„Å´Â§ßË¶èÊ®°Kafka„ÇØ„É©„Çπ„Çø„Å´„Åä„Åë„Çã„Éú„Éà„É´„Éç„ÉÉ„ÇØ„ÅØ„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØÂ∏ØÂüü„Åß„ÄÅÊ¨°„Å´„Çπ„Éà„É¨„Éº„Ç∏„Å®Ë®Ä„Çè„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åì„Çå„Çâ„ÇíÂÖÖÂàÜÁ¢∫‰øùÂá∫Êù•Á∂ö„Åë„ÇãÈôê„ÇäKafka„ÇØ„É©„Çπ„Çø„ÅØÁõ∏ÂΩìË¶èÊ®°„Åæ„ÅßÊã°ÂºµÂá∫Êù•„Åæ„Åô„ÄÇTiered Storage„Å´„Çà„Å£„Å¶„Çπ„Éà„É¨„Éº„Ç∏ÂÆπÈáè„ÅÆÂâäÊ∏õ„Å®„Çà„ÇäÈ´òÂ∫¶„Å™„Ç≥„É≥„Éà„É≠„Éº„É´„ÅåÂèØËÉΩ„Å´„Å™„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>Kafka„Å´„Å®„Å£„Å¶„Åù„Çå„Åû„Çå„ÅÆTopic„ÅÆ‰øùÂÖ®ÊúüÈñì (Retention Period) „Å®Êõ∏„ÅçËæº„Åø„Çπ„É´„Éº„Éó„ÉÉ„Éà„ÅØÂü∫Êú¨ÁöÑ„Å´„ÅØ„Éê„É©„É≥„Çπ„Ç≤„Éº„É†„Åß„Åô - È´òÊõ∏„ÅçËæº„Åø„Çπ„É´„Éº„Éó„ÉÉ„Éà„ÅÆÂ†¥Âêà„ÅØ„Çπ„Éà„É¨„Éº„Ç∏ÂÆπÈáè„ÅÆÂ¢óÂä†„ÇíÂä†Âë≥„Åó„Å¶„Çà„ÇäÁü≠„ÅÑ‰øùÂÖ®ÊúüÈñì„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ‰øùÂÖ®ÊúüÈñì„ÅÆ„Éá„Éï„Ç©„É´„Éà„Åß„ÅØ1ÈÄ±Èñì„ÄÅÈÄöÂ∏∏ÈÅãÁî®„Åß„ÅØ1Êó•„Å®„ÅÑ„ÅÜÂ†¥Âêà„ÇÇÂ§ö„Åè„ÅÇ„Çä„Åæ„Åô„Åå„ÄÅÈ´òË≤†Ëç∑„ÅÆ„ÇØ„É©„Çπ„Çø„Åß„ÅØÊï∞ÊôÇÈñìÁ®ãÂ∫¶„Å´Áïô„ÇÅ„Çã‰∫ã„ÇÇÂ§ö„Åè„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>kafka„ÅØÂÜÖÈÉ®„Åß„Éá„Éº„Çø„ÅÆ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÇíË°å„Å™„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇReplication Factor„Å®Âëº„Å∞„Çå„Çã„Åì„ÅÆË®≠ÂÆö„ÅÆ„Éá„Éï„Ç©„É´„Éà„ÅØ&lt;code>3&lt;/code>„Åß„ÅÇ„Çä„ÄÅÁ®Ä„Å´ÈáëËûç„ÇÑ„Çπ„Éà„É¨„ÉÉ„ÉÅ„ÇØ„É©„Çπ„Çø (Ë§áÊï∞„ÅÆ„Çµ„Ç§„Éà„Å´Ë∑®„Åå„ÇãÂ§ß„Åç„Å™„ÇØ„É©„Çπ„Çø) „Åß„ÅØ&lt;code>4&lt;/code>„ÇíÊåáÂÆö„Åô„ÇãÂ†¥Âêà„ÇÇ„ÅÇ„Çä„Åæ„Åô„Åå„ÄÅ„Åª„Å®„Çì„Å©„Éá„Éï„Ç©„É´„Éà„ÅÆ„Åæ„Åæ„Åß„ÅØ„Å™„ÅÑ„Åã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ„ÅÑ„Åö„Çå„Å´„Åõ„Çà„ÄÅ„Åù„ÅÆÊåáÂÆöÂàÜ„Å†„Åë„Éá„Éº„Çø„ÅØ„É¨„Éó„É™„Ç±„Éº„Éà„Åï„Çå„Çã„ÅÆ„Åß„ÄÅÂøÖË¶Å„Éá„Ç£„Çπ„ÇØÂÆπÈáè„ÅØÂ¢ó„Åà„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>‰æã„Åà„Å∞100MBps„ÅßÊõ∏„ÅçËæº„Åø„Åå„Å™„Åï„Çå„ÇãÂ†¥Âêà„ÄÅ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÇÇËÄÉÊÖÆ„Åô„Çã„Å®„ÇØ„É©„Çπ„ÇøÂÜÖ„ÅÆ„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØÂ∏ØÂüü„Å´„ÅØ300MBps„ÄÅÂΩìÁÑ∂„Çπ„Éà„É¨„Éº„Ç∏„Å´„ÇÇ300MBps„ÅÆ„Çπ„Éî„Éº„Éâ„ÅßÊ∂àË≤ª„Åó„Åæ„Åô„ÄÇ‰øùÂÖ®ÊúüÈñì„Çí1Êó•„Å®„Åó„ÅüÂ†¥Âêà„ÄÅ100 * 3600 * 3 = 1,080,000MB ‚âí 1TB„ÅÆ„Çπ„Éà„É¨„Éº„Ç∏ÂÆπÈáè„ÅåÂøÖË¶Å„Å®„Å™„Çä„Åæ„Åô„ÄÇÊõ∏„ÅçËæº„Åø„Çπ„É´„Éº„Éó„ÉÉ„Éà„ÅåÂÄç„Å´„Å™„Çå„Å∞„Çπ„Éà„É¨„Éº„Ç∏„ÇÇÂÄç„ÄÅÂΩìÁÑ∂‰øùÂÖ®ÊúüÈñì„ÇíÂÄç„Å´„Åó„Å¶„ÇÇ„Çπ„Éà„É¨„Éº„Ç∏„ÅØÂÄçÂøÖË¶Å„Å´„Å™„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Çπ„Éà„É¨„Éº„Ç∏„Åå„Éú„Éà„É´„Éç„ÉÉ„ÇØ„Å´„Å™„Å£„ÅüÂ†¥Âêà„ÄÅ„Éá„Ç£„Çπ„ÇØ„ÇíË∂≥„Åõ„Å∞Ëß£Ê∂à„Åó„Åæ„Åô„Åå„ÄÅ„Åù„Çå„ÇÇÈôêÁïå„ÇíË∂Ö„Åà„Çã„Å®BrokerËá™‰Ωì„ÇíËøΩÂä†„Åô„ÇãÂøÖË¶Å„ÅåÂá∫„Å¶„Åç„Åæ„Åô„ÄÇTiered Storage„ÇíÂ∞éÂÖ•„Åô„Çã„Å®„ÄÅBroker„ÅåÂøÖË¶Å„Å®„Åô„Çã„Çπ„Éà„É¨„Éº„Ç∏„ÅÆÁµ∂ÂØæÈáè„ÇíÂà∂Èôê„Åß„Åç„Åæ„Åô„ÄÇÂêå‰∏Ä„Éè„Éº„ÉâÊßãÊàê„Å´„Åä„Åë„Çã„Ç≠„É£„Éë„Ç∑„ÉÜ„Ç£„Çí‰∏ä„Åí„ÄÅÂ∞ÜÊù•ÁöÑ„Å™Êã°ÂºµÊÄß„ÇÇÈ´ò„ÅèÂá∫Êù•„Åæ„Åô„ÄÇ&lt;/p>
&lt;h2 id="„É°„É™„ÉÉ„Éà-2---ÈöúÂÆ≥ËÄêÊÄß-resiliency">„É°„É™„ÉÉ„Éà 2 - ÈöúÂÆ≥ËÄêÊÄß (Resiliency)&lt;/h2>
&lt;p>„Çπ„Éà„É¨„Éº„Ç∏„ÇíÂàÜÈõ¢„Åô„Çã‰∫ã„Å´„Çà„Å£„Å¶ÈöúÂÆ≥ËÄêÊÄß„Åå‰∏ä„Åå„Çã„Å®„ÅÑ„ÅÜ„ÅÆ„ÅØ„Éî„É≥„Å®Êù•„Å™„ÅÑ„Åã„ÇÇÁü•„Çå„Åæ„Åõ„Çì„Åå„ÄÅTiered Stoarge„Å´„Çà„ÇãÂäπÊûú„Å®ÊúüÂæÖ„ÅØÈöúÂÆ≥ËÄêÊÄß„ÅÆÂêë‰∏ä„Å´„ÇÇÈõÜ„Åæ„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>Kafka„Åå‰Ωï‰∫ã„ÇÇ„Å™„ÅèÁ®ºÂÉç„Åó„Å¶„ÅÑ„ÇãÈôê„Çä„ÄÅ„Åæ„Åü„Éá„Éº„Çø„ÅåÈÅ©Âàá„Å´„Éë„Éº„ÉÜ„Ç£„Ç∑„Éß„É≥„Åï„Çå„Å¶„ÅÑ„ÇãÈôê„Çä„ÄÅKafka„ÇØ„É©„Çπ„Çø„ÅØÂùá‰∏Ä„Å´„Éá„Éº„Çø„ÇíÂàÜÊï£ÈÖçÁΩÆ„ÅóÁÆ°ÁêÜÂá∫Êù•„Åæ„Åô„ÄÇ„Åó„Åã„ÅóBroker„ÅÆ„Ç∑„É£„ÉÉ„Éà„ÉÄ„Ç¶„É≥„Å®Âæ©Â∏∞„ÅØÂøÖ„ÅöÁô∫Áîü„Åó„Åæ„Åô„ÄÇÊôÇ„Å®„Åó„Å¶„Éè„Éº„Éâ„ÇÑ„ÇΩ„Éï„Éà„ÅÆÈöúÂÆ≥„Å´„Çà„Å£„Å¶„ÄÅ‰ªñ„Åß„ÅØBroker/JVM/Guest OS/Host OS/Host Hardware„ÅÆ„Ç¢„ÉÉ„Éó„Ç∞„É¨„Éº„Éâ„Å´„Çà„Å£„Å¶„ÄÅ„ÇØ„É©„Çπ„ÇøÊßãÊàê„ÅØÁü≠Êúü/Èï∑ÊúüÁöÑ„Å´„Åù„ÅÆÊßãÊàê„ÅåÂ§â„Çè„Çä„Åæ„Åô - Kafka„ÅØÁµ∂„Åà„Åö„É°„É≥„Éê„Éº„Ç∑„ÉÉ„Éó„ÇíÂ§â„Åà„Å§„Å§Á®ºÂÉç„ÅóÁ∂ö„Åë„ÇãÂàÜÊï£„Ç∑„Çπ„ÉÜ„É†„Åß„ÅÇ„Çä„ÄÅÊßãÊàê„ÅåÂ§â„Çè„ÇãÂâçÊèê„ÅÆ‰∏ä„ÅßÊàêÁ´ã„Åó„Å¶„ÅÑ„ÇãÊäÄË°ì„Åß„Åô„ÄÇ&lt;/p>
&lt;p>Broker„Åå„ÇØ„É©„Çπ„Çø„É°„É≥„Éê„Éº„Åã„ÇâÂ§ñ„Çå„Çã„Å®„ÄÅ„Åù„Çå„Åæ„Åß„Åù„ÅÆBroker„Åß‰øùÂÖ®„Åó„Å¶„ÅÑ„Åü„Éá„Éº„Çø„ÅØÂøÖ„Åö‰Ωï„Åã„Åó„Çâ„ÅÆÊñπÊ≥ï„Åß‰ªñ„ÅÆBroker„Å´ÂÜçÈÖçÁΩÆ„Åï„Çå„Å™„Åë„Çå„Å∞„Éá„Éº„Çø„ÅÆ‰øùÂÖ®ÊÄß„Åå‰øù„Å¶„Åæ„Åõ„Çì„ÄÇ„Åì„ÅÆÁÇ∫„ÇØ„É©„Çπ„Çø„É°„É≥„Éê„Éº„Ç∑„ÉÉ„Éó„ÅÆÂ§âÊõ¥„ÅØ„ÄÅÂ§ßË¶èÊ®°„Å™„É°„Çø„Éá„Éº„Çø„ÅÆÊõ¥Êñ∞„Å®„ÄÅ„Éá„Éº„Çø„ÅÆÁßªÂãï„ÇíÊÑèÂë≥„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>Tiered Storage„Å´„Çà„Å£„Å¶ÁÆ°ÁêÜ/ÁßªÂãïÂØæË±°„Å®„Å™„Çã„Çª„Ç∞„É°„É≥„Éà„ÅÆÁâ©ÁêÜÁöÑ„Å™Êï∞„ÅåÊ∏õ„Çå„Å∞„ÄÅ„Åù„ÅÆÂàÜ„ÇØ„É©„Çπ„ÇøÂÜÖ„ÅßÁßªÂãï„Åô„Çã„Éá„Éº„ÇøÈáè„ÅåÊ∏õÂ∞ë„Åó„ÄÅ„Åæ„ÅüÂ§ßÈáè„É°„Çø„Éá„Éº„ÇøÊõ¥Êñ∞„Å´‰º¥„ÅÜ‰∫åÊ¨°ÁÅΩÂÆ≥„ÅÆÂç±Èô∫ÊÄß„ÇÇÊ∏õÂ∞ë„Åó„ÄÅÁµêÊûú„Å®„Åó„Å¶„Çà„ÇäÂÆâÂÖ®„Å´„ÄÅ„Çà„ÇäÁü≠„ÅÑÊúüÈñì„Å´„ÇØ„É©„Çπ„Çø„ÅåÊ≠£Â∏∏Áä∂ÊÖã„Å´Âæ©Â∏∞„Åó„Åæ„Åô„ÄÇKafka„ÇØ„É©„Çπ„ÇøËá™‰Ωì„ÅåËªΩÈáè„Å´„Å™„Çå„Å∞„Å™„Çã„Å†„Åë„ÄÅ‰æã„Åà„Å∞„Ç≥„É≥„ÉÜ„Éä„ÅÆÊßò„Å´„Çà„ÇäÈ†ªÁπÅ„Å´Âà∑Êñ∞„Åï„Çå„Çã„É©„É≥„Çø„Ç§„É†‰∏ä„ÅßKafka„ÇíÈÅãÁî®„Åô„ÇãÂ†¥Âêà„Å´„ÇÇÂ§ß„Åç„Å™„É°„É™„ÉÉ„Éà„Å®„Å™„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;h2 id="„É°„É™„ÉÉ„Éà-3---„É™„ÇΩ„Éº„Çπ„ÅÆÊúâÂäπÊ¥ªÁî®-resource-utilization">„É°„É™„ÉÉ„Éà 3 - „É™„ÇΩ„Éº„Çπ„ÅÆÊúâÂäπÊ¥ªÁî® (Resource Utilization)&lt;/h2>
&lt;p>Kafka„Å®„ÅØÂü∫Êú¨ÁöÑ„Å´„Éá„Ç£„Çπ„ÇØI/O„Å∏„ÅÆË≤†Ëç∑„ÅåÈ´ò„ÅÑ„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†„Åß„Åô„ÄÇ„Åì„Çå„ÅØÊõ∏„ÅçËæº„Åø/Ë™≠„ÅøËæº„Åø„ÅÆÁô∫ÁîüÈ†ªÂ∫¶„ÅåÈ´ò„Åè„ÄÅ„Åæ„Åü„Éá„Ç£„Çπ„ÇØI/O„ÅÆÊúâÂäπÂà©Áî®„Åå‰ªäÂõû„ÅÆË®≠Ë®àÊÄùÊÉ≥„Å´Áπî„ÇäËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ‰Ωµ„Åõ„Å¶„ÄÅKafka„ÅØÂéüÂâá„Éû„É´„ÉÅ„ÉÜ„Éä„É≥„Éà„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†„Åß„ÅÇ„Çä„ÄÅÊßò„ÄÖ„Å™„ÉØ„Éº„ÇØ„É≠„Éº„Éâ„ÅåÂÖ±Â≠ò„ÅóÊòì„ÅÑ (ÂêÑ„ÄÖ„ÅÆ„ÉØ„Éº„ÇØ„É≠„Éº„Éâ„ÅÆÂΩ±Èüø„ÇíÂèó„Åë„Å´„Åè„ÅÑ) „Çπ„Éà„É™„Éº„Éü„É≥„Ç∞Âü∫Áõ§„Åß„Åô„ÄÇ„Åó„Åã„Åó„Å™„Åå„ÇâKafka„Å´„ÇÇÁâ©ÁêÜÁöÑ„Å™Âà∂Á¥Ñ„ÅØÂ≠òÂú®„Åó„ÄÅ„ÉØ„Éº„ÇØ„É≠„Éº„Éâ„ÅÆ„Éã„Éº„Ç∫ÁöÑ„Å´„ÅØ„ÇØ„É©„Çπ„ÇøËá™‰Ωì„ÇíÂàÜ„Åë„Çã‰∫ã„ÇÇÂÆüÈöõ„Å´„ÅØÂ§ö„Åè„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;p>Tiered Storage„Å∏„ÅÆ„Ç¢„ÇØ„Çª„Çπ„ÅØ„ÄÅKafka„Åß„ÅØÁèç„Åó„Åè„Éá„Ç£„Çπ„ÇØI/O„Åß„ÅØ„Å™„Åè„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØI/O„Å∏„ÅÆÊØîÈáç„ÅåÈ´ò„ÅÑÂá¶ÁêÜ„Å®„Å™„Çä„Åæ„Åô„ÄÇ‰æã„Åà„Å∞Èï∑ÊúüÈñìÂÆüË°å„Åô„Çã„Éê„ÉÉ„ÉÅÂá¶ÁêÜ (Âè§„ÅÑ„Éá„Éº„Çø„Å™„ÅÆ„ÅßTiered StorageÁµåÁî±) „Å®„ÄÅË∂Ö‰Ωé„É¨„Ç§„ÉÜ„É≥„Ç∑„Å™Âá¶ÁêÜ„ÅåÊ±Ç„ÇÅ„Çâ„Çå„Çã„Ç™„É≥„É©„Ç§„É≥Âá¶ÁêÜ (Êñ∞„Åó„ÅÑ„Éá„Éº„Çø„Å™„ÅÆ„ÅßBroker„Åã„Çâ) „Å®„Åß„ÅØKafka„Åã„Åã„Çã„É™„ÇΩ„Éº„ÇπË≤†Ëç∑„ÅåÂÖ®„ÅèÁï∞„Å™„Çä„Åæ„Åô„ÄÇ„Åì„Çå„ÇâÁâπÊÄß„Çí‰∏äÊâã„ÅèÂà©Áî®„Åô„Çå„Å∞„ÄÅ„Ç™„É≥„É©„Ç§„É≥Âá¶ÁêÜ„ÇíÂÆüË°å„Åó„Å™„Åå„Çâ‰ΩéË≤†Ëç∑„Åß„Éê„ÉÉ„ÉÅÂá¶ÁêÜ„ÇíÂêå‰∏Ä„ÇØ„É©„Çπ„ÇøÂÜÖ„ÅßÊâ±„ÅÜ‰∫ã„ÇÇÂá∫Êù•„Åæ„Åô„ÄÇ&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;/p>
&lt;h2 id="„Åä„Çè„Çä„Å´">„Åä„Çè„Çä„Å´&lt;/h2>
&lt;p>Tiered Storage„ÅØApache Pulser„ÅÆÊßò„Å™„Ç≥„É≥„Éî„É•„Éº„Éà„Å®„Çπ„Éà„É¨„Éº„Ç∏„ÇíÂÆåÂÖ®„Å´Âàá„ÇäÈõ¢„ÅôÁõÆÁöÑ„ÅßÂ∞éÂÖ•„Åï„Çå„ÇãË®≥„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇKafka„ÅØ„ÅÇ„ÇãÊÑèÂë≥ÊÑèÂõ≥ÁöÑ„Å´ÂéüÂßãÁöÑ„Å™Ë®≠Ë®à„Çí„Åó„Å¶„ÅÑ„ÇãÁÇπ„ÅåÈï∑ÊâÄ„Åß„ÅÇ„Çä„ÄÅÊôÇ„Å®„Åó„Å¶Áü≠ÊâÄ„Å®„Å™„ÇäÂæó„ÇãÊäÄË°ì„Åß„Åô„ÄÇTiered Stoarge„ÅØKafka„ÅåÊú¨Êù•ÊåÅ„Å§È´ò„Çπ„É´„Éº„Éó„ÉÉ„Éà„Åã„Å§‰ΩéÈÅÖÂª∂„Å™Âá¶ÁêÜËÉΩÂäõ„ÇíÊÆ∫„Åô‰∫ã„Å™„Åè„ÄÅÁü≠ÊâÄ„Åß„ÅÇ„Çã„Éá„Ç£„Çπ„ÇØÂÆπÈáè„ÇÑ„Éá„Ç£„Çπ„ÇØI/O„Å®„ÅÑ„ÅÜ„Éú„Éà„É´„Éç„ÉÉ„ÇØ„ÇíËªΩÊ∏õ„Åï„ÅõÂæó„ÇãÂèØËÉΩÊÄß„ÇíÊåÅ„Å£„ÅüÈùûÂ∏∏„Å´ÊúâÊúõ„Å™Ê©üËÉΩ„Åß„Åô„ÄÇ‰Ωµ„Åõ„Å¶„ÄÅ„Çà„Çä„ÇØ„É©„Ç¶„Éâ„Éç„Ç§„ÉÜ„Ç£„Éñ„Å™Áí∞Â¢É„ÅßÂãï„ÅèÊ©ü‰ºö„ÅÆÂ¢ó„Åà„ÅüKafka„Å´„Å®„Å£„Å¶„ÄÅ„Åù„ÅÆÊñ∞„Åó„ÅÑÁí∞Â¢É„Å´„Çà„ÇäÈÅ©ÂêàÊÄß„ÅÆÈ´ò„ÅÑÊ©üËÉΩ„Åß„ÅÇ„Çã„Å®„ÇÇË®Ä„Åà„Åæ„Åô„ÄÇ&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>‰æã„Åà„Å∞Èï∑ÊúüÂÆüË°å„Åï„Çå„Çã„Éê„ÉÉ„ÉÅÂá¶ÁêÜ„ÅåÁ∂ôÁ∂ö„Åó„Å¶Kafka„Å´„Ç¢„ÇØ„Çª„Çπ„Åó„Å¶„ÅÑ„ÇãÁä∂ÊÖã„Åß„ÄÅÈùûÂ∏∏„Å´„É¨„Ç§„ÉÜ„É≥„Ç∑Ë¶Å‰ª∂„ÅÆÈ´ò„ÅÑ„Ç™„É≥„É©„Ç§„É≥Âá¶ÁêÜ„ÅåÂêåÂ±Ö„Åô„ÇãÊßò„Å™Â†¥Âêà„Åß„Åô„ÄÇ&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>ÂΩìÁÑ∂„ÄÅÂÖÖÂàÜ„Å™„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØÂ∏ØÂüü„ÅåÁ¢∫‰øù„Åï„Çå„Å¶„ÅÑ„ÇãÂ†¥Âêà„Å´„ÅØ„ÄÅ„Å®„ÅÑ„ÅÜÊù°‰ª∂„ÅØ‰ªò„Åç„Åæ„Åô„ÄÇ&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Kafka AcksÂÜçÂÖ•ÈñÄ</title><link>https://confluent-jp.github.io/community/blog/kafka-acks-explained/</link><pubDate>Tue, 01 Aug 2023 00:00:00 +0000</pubDate><guid>https://confluent-jp.github.io/community/blog/kafka-acks-explained/</guid><description>&lt;blockquote>
&lt;p>„Åì„ÅÆ„Éñ„É≠„Ç∞„Ç®„É≥„Éà„É™„ÅØKafka„Ç≥„Éü„ÉÉ„Çø„Åß„ÅÇ„Çã Stanislav Kozlovski(&lt;a href="https://https://twitter.com/BdKozlovski" target="_blank" rel="noopener">ùïè&lt;/a>|&lt;a href="https://www.linkedin.com/in/stanislavkozlovski/" target="_blank" rel="noopener">Ln&lt;/a>) „ÅÆ„Çµ„Ç§„Éà„Åß2022/11/06„Å´ÂÖ¨Èñã„Åï„Çå„Åü&lt;a href="https://www.linkedin.com/pulse/kafka-acks-explained-stanislav-kozlovski/" target="_blank" rel="noopener">Kafka Acks Explained&lt;/a>„ÅÆÊó•Êú¨Ë™ûË®≥„Åß„Åô„ÄÇStanislavÊú¨‰∫∫„ÅÆ‰∫ÜÊâø„ÇíÂæó„Å¶ÁøªË®≥/ÂÖ¨Èñã„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;p>Kafka„Å´Èñ¢„Åô„Çã‰ªï‰∫ã„ÇíÂßã„ÇÅ„Å¶4Âπ¥„Å´„Å™„Çä„Åæ„Åô„Åå„ÄÅÁµåÈ®ì‰∏äÊú™„Å†„Å´2„Å§„ÅÆË®≠ÂÆö„Å´„Å§„ÅÑ„Å¶Â∫É„ÅèË™§Ëß£„Åï„Çå„Å¶„ÅÑ„Çã„Å®ÊÑü„Åò„Çã‰∫ã„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Åù„Çå„ÅØ&lt;code>acks&lt;/code>„Å®&lt;code>min.insync.replicas&lt;/code>„Åß„ÅÇ„Çä„ÄÅ„Åï„Çâ„Å´„ÅØ„Åì„ÅÆ2„Å§„ÅÆË®≠ÂÆö„Åå„Å©„ÅÜÂΩ±Èüø„ÅóÂêà„ÅÜ„Åã„Å´„Å§„ÅÑ„Å¶„Åß„Åô„ÄÇ„Åì„ÅÆ„Ç®„É≥„Éà„É™„ÅØ„Åì„ÅÆÈùûÂ∏∏„Å´ÈáçË¶Å„Å™2„Å§„ÅÆË™§Ëß£„ÇíËß£„Åç„ÄÅÈÅ©Âàá„Å´ÁêÜËß£„Åó„Å¶„ÇÇ„Çâ„ÅÜ‰∫ã„ÇíÁõÆÁöÑ„Å®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;h2 id="replication">Replication&lt;/h2>
&lt;p>„Åì„ÅÆ2„Å§„ÅÆË®≠ÂÆö„ÇíÁêÜËß£„Åô„Çã„Åü„ÇÅ„Å´„ÅØ„Åæ„ÅöKafka Replication„Éó„É≠„Éà„Ç≥„É´„Å´„Å§„ÅÑ„Å¶Â∞ë„Åó„Åä„Åï„Çâ„ÅÑ„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Åì„ÅÆ„Éñ„É≠„Ç∞„ÅÆË™≠ËÄÖ„ÅÆÁöÜ„Åï„Çì„ÅØ„ÅÇ„ÇãÁ®ãÂ∫¶Kafka„Å´„Å§„ÅÑ„Å¶„ÅîÂ≠òÁü•„Å†„Å®ÊÉ≥ÂÆö„Åó„Å¶„ÅÑ„Åæ„Åô - „ÇÇ„ÅóËá™‰ø°„Åå„Å™„ÅÑÂ†¥Âêà„ÅØ„Åú„Å≤&lt;a href="https://medium.com/hackernoon/thorough-introduction-to-apache-kafka-6fbf2989bbc1" target="_blank" rel="noopener">Thorough Introduction to Apache Kafka&lt;/a>„ÇÇ„ÅîÂèÇÁÖß„Åè„Å†„Åï„ÅÑ„ÄÇ&lt;/p>
&lt;p>ÂêÑPartition„Å´„ÅØ1„Å§„ÅÆLeader Broker(1)„Å®Ë§áÊï∞„ÅÆFollower Broker(N)„Åå„Ç¢„Çµ„Ç§„É≥„Åï„Çå„Åæ„Åô„ÄÇ„Åì„ÅÆË§áË£Ω„ÅÆÊï∞„ÅØ&lt;code>replication.factor&lt;/code>„ÅßË®≠ÂÆö„Åô„Çã‰∫ã„Åå„Åß„Åç(1+N)„Å§„Åæ„ÇäÁ∑èÊï∞„ÇíË°®„Åó„Åæ„Åô„ÄÇ„Å§„Åæ„Çä„Åì„ÅÆË®≠ÂÆö„Åß„ÅØ„ÄåÂØæË±°„Å®„Å™„ÇãPartition„Å´ÂØæ„Åó„Å¶„ÇØ„É©„Çπ„Çø‰∏ä„Åß‰ΩïÂÄã„ÅÆË§áË£Ω„ÅåÂá∫Êù•„Çã„Åã„Äç„ÇíÊåáÂÆö„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Éá„Éï„Ç©„É´„Éà„Åß„ÅÇ„ÇäÈÄöÂ∏∏Êé®Â•®„Åô„ÇãË®≠ÂÆöÂÄ§„ÅØ&lt;code>3&lt;/code>„Åß„Åô„ÄÇ
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="Replication Factor" srcset="
/community/media/blogs/kafka-acks-explained/replication-factor_hu30e3aabf839789c5bf75a3316f94b6c4_21497_0d1ca0052156cf2b9740e68dcdd4c65a.webp 400w,
/community/media/blogs/kafka-acks-explained/replication-factor_hu30e3aabf839789c5bf75a3316f94b6c4_21497_f54bf205681a70abfa295c3277922d09.webp 760w,
/community/media/blogs/kafka-acks-explained/replication-factor_hu30e3aabf839789c5bf75a3316f94b6c4_21497_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/replication-factor_hu30e3aabf839789c5bf75a3316f94b6c4_21497_0d1ca0052156cf2b9740e68dcdd4c65a.webp"
width="760"
height="203"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
Producer„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅØLeader Broker„Å´„ÅÆ„ÅøÊõ∏„ÅçËæº„Åø„Å´Ë°å„Åç„Åæ„Åô - „Å§„Åæ„ÇäFollower Broker„Å∏„ÅÆ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅØÈùûÂêåÊúü„Å´Ë°å„Çè„Çå„Åæ„Åô„ÄÇ„Åì„Åì„ÅßÂàÜÊï£„Ç∑„Çπ„ÉÜ„É†„Å®„Åó„Å¶ËÄÉÊÖÆ„Åó„Å™„ÅÑ„Å®„ÅÑ„Åë„Å™„ÅÑ„ÅÆ„ÅØ„ÄÅ‰Ωï„Åã„Åó„Çâ„ÅÆÊñπÊ≥ï„Åß„Äå„Åì„Çå„Çâ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Åï„Çå„ÇãÂá¶ÁêÜ„Åå„Å©„ÅÆ„Çà„ÅÜ„Å´Leader„Å´ËøΩÂæì„Åô„Åπ„Åç„Åã„Äç„ÇíÊåáÂÆö„Åô„ÇãÊñπÊ≥ï„Åß„Åô„ÄÇÂÖ∑‰ΩìÁöÑ„Å´„ÅØ„ÄåLeader„Å´Êõ∏„ÅçËæº„Åæ„Çå„ÅüÊõ¥Êñ∞„ÅåFollower„Å´„ÇÇÂèçÊò†„Åï„Çå„Å¶„ÅÑ„Çã„ÅãÂê¶„Åã„Äç„Åß„Åô„ÄÇ&lt;/p>
&lt;h2 id="in-sync-replicas">In-Sync Replicas&lt;/h2>
&lt;p>in-sync replica(ISR)„ÅØÂØæË±°Partition„ÅÆÊúÄÊñ∞Áä∂ÊÖã„Å®ÂêåÊúü„ÅåÂèñ„Çå„Å¶„ÅÑ„ÇãBroker„ÇíÊåá„Åó„Åæ„Åô„ÄÇÂΩìÁÑ∂Leader„ÅØÂ∏∏„Å´ISR„Å®„Å™„Çä„ÄÅFollower„ÅÆÂ†¥Âêà„ÅØLeader„ÅÆÊõ¥Êñ∞„Å´ËøΩ„ÅÑ‰ªò„ÅçÂêåÊúü„ÅåÂèñ„Çå„ÅüÁä∂ÊÖã„ÅÆ„ÇÇ„ÅÆ„ÅÆ„ÅøISR„Å®„Å™„Çä„Åæ„Åô„ÄÇ‰ªÆ„Å´Follower„ÅåLeader„Å´ËøΩÂæì„Åß„Åç„Å™„Åè„Å™„Å£„ÅüÂ†¥Âêà„ÄÅ„Åù„ÅÆFollower„ÅØISR„Åß„ÅØ„Å™„Åè„Å™„Çä„Åæ„Åô„ÄÇ
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="In-Sync Replicas" srcset="
/community/media/blogs/kafka-acks-explained/in-sync-replicas_hu976122a385339436764fa5a7b293f0d1_30553_fce72e1100ff5fc9564552f1283799b8.webp 400w,
/community/media/blogs/kafka-acks-explained/in-sync-replicas_hu976122a385339436764fa5a7b293f0d1_30553_53b76570ba3a381743ccf6f03feacf22.webp 760w,
/community/media/blogs/kafka-acks-explained/in-sync-replicas_hu976122a385339436764fa5a7b293f0d1_30553_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/in-sync-replicas_hu976122a385339436764fa5a7b293f0d1_30553_fce72e1100ff5fc9564552f1283799b8.webp"
width="760"
height="247"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
‰∏ä„ÅÆÂõ≥„Åß„ÅØBroker 3„ÅØÂêåÊúü„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑ„ÅÆ„ÅßISR„Åß„ÅØ„Å™„ÅÑ„ÄÅ„Å§„Åæ„Çäout-of-sync„Å®„Å™„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Å°„Å™„Åø„Å´„ÄÅÂé≥ÂØÜ„Å´„ÅØISR„ÅãÂê¶„Åã„Å®„ÅÑ„ÅÜÂà§Êñ≠„ÅØ„ÇÇ„ÅÜÂ∞ë„ÅóË§áÈõë„Åß„ÄÅ„Åì„Åì„ÅßË™¨Êòé„Åï„Çå„Å¶„ÅÑ„Çã„Çà„ÅÜ„Å´„Åô„Çì„Å™„Çä„Äå„Åì„ÅÆFollower„ÅØÊúÄÊñ∞„ÅÆÁä∂ÊÖã„Åã„Äç„Å®Âà§Êñ≠Âá∫Êù•„ÇãË®≥„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„Åü„Å†Âé≥ÂØÜ„Å™Ë©±„Çí„ÅóÂßã„ÇÅ„Çã„Å®„Åì„ÅÆ„Ç®„É≥„Éà„É™„ÅÆ‰∏ªÊó®„Åã„ÇâÂ§ñ„Çå„Çã„ÅÆ„Åß„ÄÅ„Åì„Åì„Åß„ÅØ‰∏ä„ÅÆÂõ≥„Å´„ÅÇ„ÇãËµ§„ÅÑBroker„ÅØÂêåÊúü„ÅåÂèñ„Çå„Å¶„ÅÑ„Å™„ÅÑ„Å®„ÄÅË¶ã„Åü„Åæ„ÅæÊçâ„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ&lt;/p>
&lt;h2 id="acks">Acks&lt;/h2>
&lt;p>Acks„ÅØ„ÇØ„É©„Ç§„Ç¢„É≥„Éà (Producer) ÂÅ¥„ÅÆË®≠ÂÆö„Åß„ÄÅ„Äå„Å©„Åì„Åæ„ÅßFollow„ÇíÂê´„ÇÅ„Å¶Êõ∏„ÅçËæº„Åø„ÅÆÁ¢∫Ë™ç„ÅåÂèñ„Çå„Å¶„Åã„Çâ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Å´ËøîÁ≠î„Åô„Çã„Åã„Äç„ÇíÊåáÂÆö„Åô„Çã„ÇÇ„ÅÆ„Åß„Åô„ÄÇÊúâÂäπ„Å™ÂÄ§„ÅØ&lt;code>0&lt;/code>„ÄÅ&lt;code>1&lt;/code>„ÄÅ„Åù„Åó„Å¶&lt;code>all&lt;/code>„ÅÆ3„Å§„Åß„Åô„ÄÇ&lt;/p>
&lt;h3 id="acks0">acks=0&lt;/h3>
&lt;p>&lt;code>0&lt;/code>„ÅåË®≠ÂÆö„Åï„Çå„ÅüÂ†¥Âêà„ÄÅ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅØBroker„Åæ„ÅßÂà∞ÈÅî„Åó„Åü„Åã„ÅÆÁ¢∫Ë™ç„Åï„ÅàË°å„ÅÑ„Åæ„Åõ„Çì - „É°„ÉÉ„Çª„Éº„Ç∏„ÅåKafka Broker„Å´ÂØæ„Åó„Å¶ÈÄÅ„Çâ„Çå„Åü„Çø„Ç§„Éü„É≥„Ç∞„Åßack„ÇíËøî„Åó„Åæ„Åô„ÄÇ
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="acks=0" srcset="
/community/media/blogs/kafka-acks-explained/ack-0_hu0550e2dc4172b509b74ba25178351429_24893_3c44fb1f740910333022481170b7baae.webp 400w,
/community/media/blogs/kafka-acks-explained/ack-0_hu0550e2dc4172b509b74ba25178351429_24893_882b78cb72dd80307fdacbd72dcd1221.webp 760w,
/community/media/blogs/kafka-acks-explained/ack-0_hu0550e2dc4172b509b74ba25178351429_24893_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/ack-0_hu0550e2dc4172b509b74ba25178351429_24893_3c44fb1f740910333022481170b7baae.webp"
width="760"
height="201"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
ack„Å®Âëº„Å≥„Åæ„Åô„ÅåBroker„Åã„Çâ„ÅÆËøîÁ≠î„Åï„ÅàÂæÖ„Å°„Åæ„Åõ„Çì„ÄÇÈÄÅ„Çå„Åü„ÇâOK„Åß„Åô„ÄÇ&lt;/p>
&lt;h3 id="acks1">acks=1&lt;/h3>
&lt;p>&lt;code>1&lt;/code>„ÅåË®≠ÂÆö„Åï„Çå„ÅüÂ†¥Âêà„ÄÅ„ÇØ„É©„Ç§„Ç¢„É≥„Éà (Producer) „ÅØLeader„Å´„Åæ„Åß„É°„ÉÉ„Çª„Éº„Ç∏„ÅåÂà∞ÈÅî„Åó„ÅüÊôÇÁÇπ„ÅßÊõ∏„ÅçËæº„Åø„ÅÆÂÆå‰∫Ü„Å®Âà§Êñ≠„Åó„Åæ„Åô„ÄÇLeader Broker„ÅØ„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂèó„ÅëÂèñ„Å£„ÅüÊôÇÁÇπ„Åß„É¨„Çπ„Éù„É≥„Çπ„ÇíËøî„Åó„Åæ„Åô„ÄÇ
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="acks=0" srcset="
/community/media/blogs/kafka-acks-explained/ack-1_hufbb81d13ec3e2d13fe50ef9ee9b16565_25528_3111a28552f0a098342a58fa79fec9da.webp 400w,
/community/media/blogs/kafka-acks-explained/ack-1_hufbb81d13ec3e2d13fe50ef9ee9b16565_25528_e9144a72afa66fafd760c8736f931a9e.webp 760w,
/community/media/blogs/kafka-acks-explained/ack-1_hufbb81d13ec3e2d13fe50ef9ee9b16565_25528_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/ack-1_hufbb81d13ec3e2d13fe50ef9ee9b16565_25528_3111a28552f0a098342a58fa79fec9da.webp"
width="760"
height="201"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅØ„É¨„Çπ„Éù„É≥„Çπ„ÅåËøî„Å£„Å¶„Åè„Çã„ÅÆ„ÇíÂæÖ„Å°„Åæ„Åô„ÄÇLeader„Åã„Çâ„ÅÆËøîÁ≠î„ÅåÂà∞ÁùÄ„Åó„ÅüÊôÇÁÇπ„ÅßÂÆå‰∫Ü„Å®Âà§Êñ≠„Åóack„Å®„Åó„Åæ„Åô„ÄÇLeader„ÅØÂèó„ÅëÂèñ„ÇäÊ¨°Á¨¨„É¨„Çπ„Éù„É≥„Çπ„ÇíËøî„Åô„ÅÆ„Åß„ÄÅFollower„Å∏„ÅÆ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅØ„É¨„Çπ„Éù„É≥„Çπ„Å®„ÅØÈùûÂêåÊúü„Å´Âá¶ÁêÜ„Åï„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="acksall">acks=all&lt;/h3>
&lt;p>&lt;code>all&lt;/code>„Å®Ë®≠ÂÆö„Åï„Çå„ÅüÂ†¥Âêà„ÄÅ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅØÂÖ®„Å¶„ÅÆISR„Å´„É°„ÉÉ„Çª„Éº„Ç∏„ÅåÂà∞ÈÅî„Åó„ÅüÊôÇÁÇπ„ÅßÊõ∏„ÅçËæº„Åø„ÅÆÂÆå‰∫Ü„Å®Âà§Êñ≠„Åó„Åæ„Åô„ÄÇ„Åì„ÅÆÈöõLeader Broker„ÅåKafkaÂÅ¥„ÅÆÊõ∏„ÅçËæº„ÅøÂà§ÂÆö„ÇíË°å„Å™„Å£„Å¶„Åä„Çä„ÄÅÂÖ®„Å¶„ÅÆISR„Å∏„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏Âà∞ÈÅî„ÅÆ‰∏ä„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Å´„É¨„Çπ„Éù„É≥„Çπ„ÇíËøî„Åó„Åæ„Åô„ÄÇ
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="acks=all incomplete" srcset="
/community/media/blogs/kafka-acks-explained/ack-all_hubb3072fc779981dffa72d32676766abf_24119_c0ae40d167ec22fd1a697d124a14ea8d.webp 400w,
/community/media/blogs/kafka-acks-explained/ack-all_hubb3072fc779981dffa72d32676766abf_24119_d7dcaf69c8cd6d40de1b4c5fa07bce88.webp 760w,
/community/media/blogs/kafka-acks-explained/ack-all_hubb3072fc779981dffa72d32676766abf_24119_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/ack-all_hubb3072fc779981dffa72d32676766abf_24119_c0ae40d167ec22fd1a697d124a14ea8d.webp"
width="760"
height="201"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
‰∏ä„ÅÆÂõ≥„ÅÆÁä∂ÊÖã„Åß„ÅØBroker 3„ÅØ„Åæ„Å†„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂèó„ÅëÂèñ„Å£„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ„Åì„ÅÆÁÇ∫Leader„ÅØ„É¨„Çπ„Éù„É≥„Çπ„ÇíËøî„Åó„Åæ„Åõ„Çì„ÄÇ
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="acks=all completed" srcset="
/community/media/blogs/kafka-acks-explained/acs-all-completed_hu40e2b48bcec98f93fca3863ace2b1192_26398_516f5fcece0585c45a349a2c530fc785.webp 400w,
/community/media/blogs/kafka-acks-explained/acs-all-completed_hu40e2b48bcec98f93fca3863ace2b1192_26398_95c6e832fba07495adfbb75a5b8d0104.webp 760w,
/community/media/blogs/kafka-acks-explained/acs-all-completed_hu40e2b48bcec98f93fca3863ace2b1192_26398_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/acs-all-completed_hu40e2b48bcec98f93fca3863ace2b1192_26398_516f5fcece0585c45a349a2c530fc785.webp"
width="760"
height="201"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
ÂÖ®„Å¶„ÅÆISR„Å´Ê∏°„Å£„Å¶Âàù„ÇÅ„Å¶„É¨„Çπ„Éù„É≥„Çπ„ÅåËøî„Åï„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="acks„ÅÆÊ©üËÉΩÊÄß">acks„ÅÆÊ©üËÉΩÊÄß&lt;/h3>
&lt;p>„Åì„ÅÆÈÄö„Çäacks„ÅØ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„Å®„Éá„Éº„ÇøÊ¨†ÊêçËÄêÊÄß„ÅÆ„Éê„É©„É≥„Çπ„ÇíÊ±∫„ÇÅ„ÇãÈùûÂ∏∏„Å´ÊúâÁõä„Å™Ë®≠ÂÆö„Åß„Åô„ÄÇ„Éá„Éº„Çø‰øùÂÖ®„ÇíÂÑ™ÂÖà„Åô„Çã„ÅÆ„Åß„ÅÇ„Çå„Å∞&lt;code>acks=all&lt;/code>„ÅÆË®≠ÂÆö„ÅåÈÅ©Âàá„Åß„Åô„ÄÇ&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup> ‰∏ÄÊñπ„É¨„Ç§„ÉÜ„É≥„Ç∑„ÇÑ„Çπ„É´„Éº„Éó„ÉÉ„Éà„Å´Èñ¢„Åô„ÇãË¶Å‰ª∂„ÅåÊ•µ„ÇÅ„Å¶È´ò„ÅÑÂ†¥Âêà„Å´„ÅØ&lt;code>0&lt;/code>„Å´Ë®≠ÂÆö„Åô„Çå„Å∞ÊúÄ„ÇÇÂäπÁéá„ÅåËâØ„Åè„Å™„Çä„Åæ„Åô„Åå„ÄÅÂêåÊôÇ„Å´„É°„ÉÉ„Çª„Éº„Ç∏„É≠„Çπ„ÅÆÂèØËÉΩÊÄß„ÅØÈ´ò„Åæ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;h2 id="minimum-in-sync-replicas">Minimum In-Sync Replicas&lt;/h2>
&lt;p>&lt;code>acks=all&lt;/code>„ÅÆË®≠ÂÆö„Å´Èñ¢„Åó„Å¶„ÄÅ„ÇÇ„ÅÜ‰∏Ä„Å§ÈáçË¶Å„Å™Ë¶ÅÁ¥†„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>‰æã„Åà„Å∞Leader„ÅåÂÖ®„Å¶„ÅÆISR„Å∏„ÅÆÊõ∏„ÅçËæº„ÅøÂÆå‰∫Ü„Åó„Åü‰∏ä„Åß„É¨„Çπ„Éù„É≥„Çπ„ÇíËøî„Åô„Å®„Åó„Å¶„ÄÅLeader„ÅÆ„Åø„ÅåISR„Å†„Å£„ÅüÂ†¥Âêà„ÄÅÁµêÊûú„Å®„Åó„Å¶&lt;code>acks=1&lt;/code>„Å®ÊåØ„ÇãËàû„ÅÑ„ÅØÂêå„Åò„Å®„Å™„Çã„ÅÆ„Åß„Åó„Çá„ÅÜ„ÅãÔºü&lt;/p>
&lt;p>„Åì„Åì„Åß&lt;code>min.insync.replicas&lt;/code>„ÅÆË®≠ÂÆö„ÅåÈáçË¶Å„Å´„Å™„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>&lt;code>min.insync.replicas&lt;/code>„Å®„ÅÑ„ÅÜBrokerÂÅ¥„ÅÆË®≠ÂÆö„ÅØ„ÄÅ&lt;code>acks=all&lt;/code>„ÅÆÈöõ„Å´„ÄåÊúÄ‰Ωé„ÅÑ„Åè„Å§„ÅÆISR„Å®„Å™„Å£„Å¶„ÅÑ„Çã„Åã (Leader„ÇíÂê´„ÇÅ„Å¶Âπæ„Å§„ÅÆ„É¨„Éó„É™„Ç´„ÅåÊúÄÊñ∞Áä∂ÊÖã„Åã) „ÇíÊåáÂÆö„Åô„Çã„ÇÇ„ÅÆ„Åß„Åô„ÄÇ„Å§„Åæ„ÇäLeader„ÅØ„ÄÅ&lt;code>acks=all&lt;/code>„ÅÆ„É™„ÇØ„Ç®„Çπ„Éà„Å´ÂØæ„Åó„Å¶ÊåáÂÆö„Åï„Çå„ÅüISR„Å´Ê∫Ä„Åü„Å™„ÅÑ„Åæ„Åß„ÅØËøîÁ≠î„Åõ„Åö„ÄÅ„Åæ„Åü„Åù„Çå„Åå‰Ωï„Åã„Åó„Çâ„ÅÆÁêÜÁî±„ÅßÈÅîÊàê„Åß„Åç„Å™„ÅÑÂ†¥Âêà„Å´„ÅØ„Ç®„É©„Éº„ÇíËøî„Åó„Åæ„Åô„ÄÇ„Éá„Éº„Çø‰øùÂÖ®Ë¶≥ÁÇπ„Åß„ÅÆ„Ç≤„Éº„Éà„Ç≠„Éº„Éê„Éº„ÅÆÊßò„Å™ÂΩπÂâ≤„ÇíÊûú„Åü„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="acks=all and ISR=2" srcset="
/community/media/blogs/kafka-acks-explained/acks-all-isr-2_hub8eff15aeeef74355ae44643b51e51f5_28460_c68b5a3947a2b0f20bf8ea75ce7a2101.webp 400w,
/community/media/blogs/kafka-acks-explained/acks-all-isr-2_hub8eff15aeeef74355ae44643b51e51f5_28460_249c85c3d6a5b99c5af7bf892f6e56ab.webp 760w,
/community/media/blogs/kafka-acks-explained/acks-all-isr-2_hub8eff15aeeef74355ae44643b51e51f5_28460_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/acks-all-isr-2_hub8eff15aeeef74355ae44643b51e51f5_28460_c68b5a3947a2b0f20bf8ea75ce7a2101.webp"
width="760"
height="201"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
‰∏äË®ò„ÅÆÁä∂ÊÖã„Å†„Å®Broker 3„ÅØÂêåÊúü„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑÁä∂ÊÖã„Åß„Åô„ÄÇ„Åó„Åã„Åó„Å™„Åå„Çâ&lt;code>min.insync.replicas=2&lt;/code>„Å®„Å™„Å£„Å¶„ÅÑ„ÇãÂ†¥Âêà„Å´„ÅØÊù°‰ª∂„ÇíÊ∫Ä„Åü„ÅôÁÇ∫„Åì„ÅÆÊôÇÁÇπ„Åß„É¨„Çπ„Éù„É≥„Çπ„ÅåËøî„Åï„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="acks=all and ISR below min.insync.replicas" srcset="
/community/media/blogs/kafka-acks-explained/ack-all-error_hu2fd9c2a4aa3141a871510012387c44d9_34884_49566929a4d489d75f27fe22a6bcec7c.webp 400w,
/community/media/blogs/kafka-acks-explained/ack-all-error_hu2fd9c2a4aa3141a871510012387c44d9_34884_924c01716b6e3c2021b34f2f98f42045.webp 760w,
/community/media/blogs/kafka-acks-explained/ack-all-error_hu2fd9c2a4aa3141a871510012387c44d9_34884_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/ack-all-error_hu2fd9c2a4aa3141a871510012387c44d9_34884_49566929a4d489d75f27fe22a6bcec7c.webp"
width="760"
height="192"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
Broker 2„Å®3„ÅåÂêåÊúü„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑÁä∂ÊÖã„Åß„Åô„ÄÇ„Åì„ÅÆÂ†¥ÂêàÊåáÂÆö„Åï„Çå„Åü&lt;code>min.insync.replicas&lt;/code>„Çí‰∏ãÂõû„Çã„Åü„ÇÅLeader„Åã„Çâ„ÅØ„Ç®„É©„Éº„É¨„Çπ„Éù„É≥„Çπ„ÅåËøî„Çã„ÄÅ„Å§„Åæ„ÇäÊõ∏„ÅçËæº„Åø„ÅØÂ§±Êïó„Åó„Åæ„Åô„ÄÇ‰∏ÄÊñπÂêå„ÅòÁä∂Ê≥Å„Åß„ÅÇ„Å£„Å¶„ÇÇ&lt;code>acks&lt;/code>„ÅÆË®≠ÂÆö„Åå&lt;code>0&lt;/code>„ÇÇ„Åó„Åè„ÅØ&lt;code>1&lt;/code>„ÅÆÂ†¥Âêà„Å´„ÅØÊ≠£Â∏∏„Å™„É¨„Çπ„Éù„É≥„Çπ„ÅåËøî„Åï„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="Ê≥®ÊÑèÁÇπ">Ê≥®ÊÑèÁÇπ&lt;/h3>
&lt;p>‰∏ÄËà¨ÁöÑ„Å´&lt;code>min.insync.replicas&lt;/code>„ÅØ„ÄåLeader„Åå„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Å´ËøîÁ≠î„Åô„ÇãÈöõ„Å´„ÄÅ„Å©„Çå„Å†„Åë„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅåÂÆå‰∫Ü„Åó„Å¶„ÅÑ„Çã„Åã„ÇíÊåáÂÆö„Åô„Çã„Äç„Å®Ëß£Èáà„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„Åå„ÄÅ„Åì„Çå„ÅØË™§„Çä„Åß„Åô„ÄÇÊ≠£Á¢∫„Å´„ÅØ„Äå„É™„ÇØ„Ç®„Çπ„Éà„ÇíÂá¶ÁêÜ„Åô„ÇãÁÇ∫„Å´ÊúÄ‰Ωé„ÅÑ„Åè„Å§„ÅÆ„É¨„Éó„É™„Ç´„ÅåÂ≠òÂú®„Åô„Çã„Åã„Äç„ÇíÊåáÂÆö„Åô„ÇãË®≠ÂÆö„Åß„Åô„ÄÇ
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="acks=all incomplete" srcset="
/community/media/blogs/kafka-acks-explained/ack-all_hubb3072fc779981dffa72d32676766abf_24119_c0ae40d167ec22fd1a697d124a14ea8d.webp 400w,
/community/media/blogs/kafka-acks-explained/ack-all_hubb3072fc779981dffa72d32676766abf_24119_d7dcaf69c8cd6d40de1b4c5fa07bce88.webp 760w,
/community/media/blogs/kafka-acks-explained/ack-all_hubb3072fc779981dffa72d32676766abf_24119_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/ack-all_hubb3072fc779981dffa72d32676766abf_24119_c0ae40d167ec22fd1a697d124a14ea8d.webp"
width="760"
height="201"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
‰∏äË®ò„ÅÆÂ†¥Âêà„ÄÅBroker 1„Åã„Çâ3„Åæ„Åß„ÅåÂÖ®„Å¶ÂêåÊúüÁä∂ÊÖã„Åß„Åô„ÄÇ„Åì„ÅÆÊôÇ„Å´Êñ∞„Åü„Å™„É™„ÇØ„Ç®„Çπ„Éà („Åì„Åì„Åß„ÅØ„É°„ÉÉ„Çª„Éº„Ç∏&lt;code>6&lt;/code>) „ÇíÂèó„ÅëÂèñ„Å£„ÅüÂ†¥Âêà„ÄÅBroker 2„Å∏„ÅÆÂêåÊúü„ÅåÂÆå‰∫Ü„Åó„Å¶„ÇÇ„É¨„Çπ„Éù„É≥„Çπ„ÅØËøî„Åó„Åæ„Åõ„Çì„ÄÇ„Åì„ÅÆÂ†¥Âêà„ÄÅÂá¶ÁêÜÊôÇ„Å´ISR„Å®„Å™„Å£„Å¶„ÅÑ„ÇãBroker 3„Å∏„ÅÆÂêåÊúü„ÅåÂÆå‰∫Ü„Åó„Å¶Âàù„ÇÅ„Å¶„É¨„Çπ„Éù„É≥„Çπ„ÅåËøî„Åï„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;h2 id="„Åæ„Å®„ÇÅ">„Åæ„Å®„ÇÅ&lt;/h2>
&lt;p>Âõ≥„ÅßË™¨Êòé„Åó„Åü„Åì„Å®„Å´„Çà„Å£„Å¶ÁêÜËß£„ÅåÊ∑±„Åæ„Å£„Åü„ÅÆ„Åß„ÅØ„Å™„ÅÑ„Åã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Åä„Åï„Çâ„ÅÑ„Åô„Çã„Å®„ÄÅ&lt;code>acks&lt;/code>„Å®&lt;code>min.insync.replicas&lt;/code>„ÅØKafka„Å∏„ÅÆÊõ∏„ÅçËæº„Åø„Å´„Åä„Åë„ÇãÊ¨†Êêç‰ΩìÂà∂„ÇíÊåáÂÆö„Åô„Çã‰∫ã„Åå„Åß„Åç„Åæ„Åô„ÄÇ&lt;/p>
&lt;ul>
&lt;li>&lt;code>acks=0&lt;/code> - Êõ∏„ÅçËæº„Åø„ÅØ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅåLeader„Å´„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÈÄÅ„Å£„ÅüÊôÇÁÇπ„ÅßÊàêÂäü„Å®„Åø„Å™„Åó„Åæ„Åô„ÄÇLeader„Åã„Çâ„ÅÆ„É¨„Çπ„Éù„É≥„Çπ„ÇíÂæÖ„Å§„Åì„Å®„ÅØ„Åó„Åæ„Åõ„Çì„ÄÇ&lt;/li>
&lt;li>&lt;code>acks=1&lt;/code> - Êõ∏„ÅçËæº„Åø„ÅØLeader„Å∏„ÅÆÊõ∏„ÅçËæº„Åø„ÅåÂÆå‰∫Ü„Åó„ÅüÊôÇÁÇπ„ÅßÊàêÂäü„Å®„Åø„Å™„Åó„Åæ„Åô„ÄÇ&lt;/li>
&lt;li>&lt;code>acks=all&lt;/code> - Êõ∏„ÅçËæº„Åø„ÅØISRÂÖ®„Å¶„Å∏„ÅÆÊõ∏„ÅçËæº„Åø„ÅåÂÆå‰∫Ü„Åó„ÅüÊôÇÁÇπ„ÅßÊàêÂäü„Å®„Åø„Å™„Åó„Åæ„Åô„ÄÇISR„Åå&lt;code>min.insync.replicas&lt;/code>„Çí‰∏ãÂõû„ÇãÂ†¥Âêà„Å´„ÅØÂá¶ÁêÜ„Åï„Çå„Åæ„Åõ„Çì„ÄÇ&lt;/li>
&lt;/ul>
&lt;h3 id="„Åù„ÅÆ‰ªñÊÉÖÂ†±">„Åù„ÅÆ‰ªñÊÉÖÂ†±&lt;/h3>
&lt;p>Kafka„ÅØË§áÈõë„Å™ÂàÜÊï£„Ç∑„Çπ„ÉÜ„É†„Åß„ÅÇ„Çä„ÄÅÂ≠¶„Å∞„Å™„Åë„Çå„Å∞„ÅÑ„Åë„Å™„ÅÑ‰∫ã„ÅåÂ§ö„ÅÑ„ÅÆ„ÇÇ‰∫ãÂÆü„Åß„Åô„ÄÇKafka„ÅÆ‰ªñ„ÅÆÈáçË¶Å„Å™Ë¶ÅÁ¥†„Å´„Å§„ÅÑ„Å¶„ÅØ‰ª•‰∏ã„ÇÇÂèÇËÄÉ„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.confluent.io/blog/apache-kafka-data-access-semantics-consumers-and-membership/" target="_blank" rel="noopener">Kafka consumer data-access semantics&lt;/a> - „ÇØ„É©„Ç§„Ç¢„É≥„Éà (Consumer) „Å´„Åä„Åë„ÇãÊ¨†ÊêçËÄêÊÄß„ÄÅÂèØÁî®ÊÄß„ÄÅ„Éá„Éº„ÇøÊï¥ÂêàÊÄß„ÅÆÁ¢∫‰øù„Å´Èñ¢„Çè„ÇãË©≥Á¥∞„ÄÇ&lt;/li>
&lt;li>&lt;a href="https://medium.com/@stanislavkozlovski/apache-kafkas-distributed-system-firefighter-the-controller-broker-1afca1eae302" target="_blank" rel="noopener">Kafka controller&lt;/a> - BrokerÈñì„ÅÆÈÄ£Êê∫„Åå„Å©„ÅÆÊßò„Å´„Å™„Åï„Çå„Çã„ÅÆ„Åã„ÅÆË©≥Á¥∞„ÄÇÁâπ„Å´„É¨„Éó„É™„Ç´„ÅåÈùûÂêåÊúü (Out-of-Sync) „Å®„Å™„Çã„ÅÆ„ÅØ„Å©„ÅÜ„ÅÑ„ÅÜÊù°‰ª∂‰∏ã„Åã„Å´„Å§„ÅÑ„Å¶Ë™¨Êòé„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/li>
&lt;li>&lt;a href="https://www.confluent.io/blog/configure-kafka-to-minimize-latency/" target="_blank" rel="noopener">‚Äú99th Percentile Latency at Scale with Apache Kafka&lt;/a> - Kafka„ÅÆ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„Å´Èñ¢„Åô„ÇãConfluent Blog„Ç®„É≥„Éà„É™„ÄÇ&lt;/li>
&lt;li>&lt;a href="https://www.confluent.io/resources/kafka-summit-san-francisco-2019/" target="_blank" rel="noopener">Kafka Summit SF 2019 videos&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.confluent.io/blog/" target="_blank" rel="noopener">Confluent blog&lt;/a> - Kafka„Å´Èñ¢„Åô„ÇãÊßò„ÄÖ„Å™„Éà„Éî„ÉÉ„ÇØ„ÇíÁ∂≤ÁæÖ„ÄÇ&lt;/li>
&lt;li>&lt;a href="https://kafka.apache.org/documentation/" target="_blank" rel="noopener">Kafka documentation&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Kafka„ÅØÁ∂ôÁ∂öÁöÑ„Åã„Å§„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å´ÈñãÁô∫„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„Åå„ÄÅÊ©üËÉΩËøΩÂä†„ÇÑÊîπÂñÑ„ÅØÊ¥ªÁô∫„Å™„Ç≥„Éü„É•„Éã„ÉÜ„Ç£„Å´„Çà„ÇäÊîØ„Åà„Çâ„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇÈñãÁô∫„ÅÆÊúÄÂâçÁ∑ö„Åß‰Ωï„ÅåËµ∑„Åì„Å£„Å¶„ÅÑ„Çã„ÅãËààÂë≥„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅØ„Åú„Å≤&lt;a href="https://kafka.apache.org/contact" target="_blank" rel="noopener">„É°„Éº„É™„É≥„Ç∞„É™„Çπ„Éà&lt;/a> „Å´ÂèÇÂä†„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="2 Minutes Streaming" srcset="
/community/media/blogs/kafka-acks-explained/two-minites-streaming_hue3ec6dcfa348a79b62ae3c8b92373579_136684_69bf0270813a154536ca6866d0eebe28.webp 400w,
/community/media/blogs/kafka-acks-explained/two-minites-streaming_hue3ec6dcfa348a79b62ae3c8b92373579_136684_9b81ef5fad55639d712bb44153e40131.webp 760w,
/community/media/blogs/kafka-acks-explained/two-minites-streaming_hue3ec6dcfa348a79b62ae3c8b92373579_136684_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/two-minites-streaming_hue3ec6dcfa348a79b62ae3c8b92373579_136684_69bf0270813a154536ca6866d0eebe28.webp"
width="760"
height="399"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
„Åì„ÅÆ„Ç®„É≥„Éà„É™„ÅÆËëóËÄÖ„Åß„ÅÇ„Çã&lt;a href="../../authors/stanislav/">Stanislav Kozlovski&lt;/a> „ÅØ&lt;a href="https://2minutestreaming.com/" target="_blank" rel="noopener">2 Minute Streaming&lt;/a>„Å®„ÅÑ„ÅÜKafka„Å´Èñ¢„Åô„ÇãÈöîÈÄ±„Éã„É•„Éº„Çπ„É¨„Çø„Éº„ÇíÁô∫Ë°å„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇÊòØÈùûË≥ºË™≠„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>(Ë®≥ËÄÖÊ≥®)„Åª„Å®„Çì„Å©„ÅÆ„É¶„Éº„Çπ„Ç±„Éº„Çπ„Åß„ÅØ&lt;code>acks=all&lt;/code>„ÅåÈÅ©Âàá„Åß„ÅÇ„Çä„ÄÅKafka„ÅÆ„Éá„Éï„Ç©„É´„Éà„Åß„ÇÇ„ÅÇ„Çä„Åæ„Åô„ÄÇ&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Streaming Audio - Kafka„Å´Êú¨ÂΩì„Å´„ÅÇ„Å£„Åü(„Åæ„Å†„ÅÇ„Çã)„É§„Éê„ÅÑ„Éê„Ç∞5ÈÅ∏</title><link>https://confluent-jp.github.io/community/blog/streaming-audio-worst-kafka-bugs/</link><pubDate>Sat, 29 Jul 2023 00:00:00 +0000</pubDate><guid>https://confluent-jp.github.io/community/blog/streaming-audio-worst-kafka-bugs/</guid><description>&lt;h2 id="„ÅØ„Åò„ÇÅ„Å´">„ÅØ„Åò„ÇÅ„Å´&lt;/h2>
&lt;p>&lt;a href="https://www.youtube.com/watch?v=yFlvWRwRTT8&amp;amp;list=PLa7VYi0yPIH1B0i7mhzVi78TIkKSd-0vE" target="_blank" rel="noopener">Streaming Audio&lt;/a>„ÅØConfluent„ÅåPodcast&amp;amp;YouTube„Ç∑„É™„Éº„Ç∫„Å®„Åó„Å¶Êèê‰æõ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇÊØéÂõû„Ç≤„Çπ„Éà„ÇíËøé„ÅàÊßò„ÄÖ„Å™„Éà„Éî„ÉÉ„ÇØ„Å´„Å§„ÅÑ„Å¶„Éï„É™„Éº„Å´„Éá„Ç£„Çπ„Ç´„ÉÉ„Ç∑„Éß„É≥„Åô„Çã„Éù„ÉÉ„Éâ„Ç≠„É£„Çπ„Éà„Åß„ÄÅKafkaÂàùÊúüÈñãÁô∫„É°„É≥„Éê„Éº„ÅÆJun Rao„ÇÑKRaft„ÅÆÈñãÁô∫„É°„É≥„Éê„Éº„ÄÅKafka„ÅÆ„É™„Ç¢„É´„É¶„Éº„Ç∂„ÉºÁ≠âÊßò„ÄÖ„Å™„Ç≤„Çπ„Éà„Çπ„Éî„Éº„Ç´„Éº„ÅåÂèÇÂä†„Åó„Åæ„Åô„ÄÇ‰∏≠„Åß„ÇÇ„Äå„Ç¢„Éä„Éç„Ç≠„Äç„Åì„Å®Anna McDonald (Technical Voice of CUstomer @Confluent)ÁôªÂ†¥Âõû„ÅØÊØéÂõûÂøÖË¶ã„Åß„ÄÅ„ÅÑ„Å§„ÇÇ‰Ωï„ÅãÊñ∞„Åó„ÅÑÁô∫Ë¶ã„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>‰ªäÂõû„ÅØ„Åù„ÅÆÂΩºÂ•≥„ÅÆÁôªÂ†¥Âõû„ÅÆ‰∏≠„Åß„ÇÇÊúÄ„ÇÇÊúÄËøë„ÅÆÂõû„ÅÆ„ÅîÁ¥π‰ªã„Åß„ÅôÔºö„ÅäÈ°å„ÅØ„ÄåKafka„Å´Êú¨ÂΩì„Å´„ÅÇ„Å£„Åü„É§„Éê„ÅÑ„Éê„Ç∞5ÈÅ∏&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>„Äç„Åß„Åô„ÄÇ(„Ç™„É™„Ç∏„Éä„É´„ÅÆÂÖ¨Èñã„ÅØ2022/12/21) „Åì„ÅÆ„Éà„Éº„ÇØ„ÅßÁ¥π‰ªã„Åï„Çå„ÅüJIRA„Éê„Ç∞„ÅÆ‰∏ÄË¶ß„ÇíÁî®ÊÑè„Åó„Åæ„Åó„Åü„ÄÇÁµêÊßãÊúÄËøë„Å´„Å™„Å£„Å¶„Çà„ÅÜ„ÇÑ„ÅèÂÖ•„Å£„Åü„ÇÇ„ÅÆ„ÇÑ„ÄÅ„Åæ„Å†Áõ¥„Å£„Å¶„ÅÑ„Å™„ÅÑ„ÇÇ„ÅÆ„ÇÇ„ÅÇ„Çä„Åæ„Åô„ÄÇKafka„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„ÅØ„Å™„Çã„Åπ„ÅèËøΩÂæì„Åô„Çã‰∫ã„ÇíÂº∑„Åè„ÅäÂãß„ÇÅ„Åó„Å¶„ÅÑ„Åæ„Åô„Åå„ÄÅ„Åì„Åì„Å´„ÅÇ„Çã„ÅÆ„ÅØÂÖ®‰Ωì„ÅÆ‰∏ÄÈÉ®„Åß„ÄÅ„Å™„Åã„Å™„Åã„Å´ÊÄñ„ÅÑ„Éê„Ç∞„Å∏„ÅÆ‰øÆÊ≠£„ÇÇÂÖ•„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„ÅÇ„Å™„Åü„ÅÆKafka„ÇØ„É©„Çπ„Çø„ÅØ„Åª„Çì„Å®„Å´Â§ß‰∏àÂ§´„Åß„ÅôÔºü&lt;/p>
&lt;h4 id="kafka-10888-sticky-partition-leads-to-uneven-product-msg-resulting-in-abnormal-delays-in-some-partitionshttpsissuesapacheorgjirabrowsekafka-10888">&lt;a href="https://issues.apache.org/jira/browse/KAFKA-10888" target="_blank" rel="noopener">KAFKA-10888: Sticky partition leads to uneven product msg, resulting in abnormal delays in some partitions&lt;/a>&lt;/h4>
&lt;blockquote>
&lt;p>Status: Resolved (3.0.0)&lt;/p>
&lt;/blockquote>
&lt;p>Sticky Partitioner„Çí‰ΩøÁî®ÊôÇ„ÄÅPartitionÈñì„ÅÆÂá¶ÁêÜÊï∞„Å´Â§ß„Åç„Å™ÂÅè„Çä„ÅåÂá∫„ÇãÊßò„Å™Áä∂Ê≥Å„Å®„Å™„ÇäÁâπÂÆö„ÅÆPartition„ÅÆ„Çπ„É´„Éº„Éó„ÉÉ„Éà„ÅåÊ•µÁ´Ø„Å´‰∏ã„Åå„Çã‰∫ã„Åå„ÅÇ„Çã: Â†¥Âêà„Å´„Çà„Å£„Å¶„ÅØ„É™„Ç´„Éê„É™‰∏çËÉΩ„Å™„Åª„Å©ProducerÂÅ¥„ÅÆ„Éê„ÉÉ„ÉÅ„ÅåËÇ•Â§ßÂåñ„Åô„Çã„ÄÇ&lt;/p>
&lt;h4 id="kafka-9648-add-configuration-to-adjust-listen-backlog-size-for-acceptorhttpsissuesapacheorgjirabrowsekafka-9648">&lt;a href="https://issues.apache.org/jira/browse/KAFKA-9648" target="_blank" rel="noopener">KAFKA-9648: Add configuration to adjust listen backlog size for Acceptor&lt;/a>&lt;/h4>
&lt;blockquote>
&lt;p>Status: Resolved (3.2.0)&lt;/p>
&lt;/blockquote>
&lt;p>OS„ÅåLinux„ÅÆÂ†¥Âêà„Å´Áô∫Áîü„ÄÇ„É≠„Éº„É™„É≥„Ç∞„Ç¢„ÉÉ„Éó„Ç∞„É¨„Éº„ÉâÁ≠â„ÅÆÈöõ„ÄÅBroker„Åã„ÇâPartition Leader„Åå‰ªñ„ÅÆBroker„Å´Áßª„Çã„ÄÅ„ÇÇ„Åó„Åè„ÅØÁßª„Å£„Åü„ÅÆ„Å°„Å´ÂÖÉ„ÅÆBroker„Å´Êàª„Çã (Preferred Leader Election) „ÅåÁô∫Áîü„ÄÇ„Åì„ÅÆÈöõPartition„Å´Èñ¢„Åô„Çã„É°„Çø„Éá„Éº„ÇøÊõ¥Êñ∞„ÅåË°å„Çè„Çå„ÇãÁÇ∫„Åì„Çå„ÇâPartition„ÇíÂèÇÁÖß„Åô„Çã„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Åã„Çâ‰∏ÄÊñâ„Å´ÂÜçÊé•Á∂ö„ÅÆ„É™„ÇØ„Ç®„Çπ„Éà„ÅåÈÄÅ„Çâ„Çå„Çã„ÄÇÁä∂Ê≥Å„Å´„Çà„Å£„Å¶„ÅØLinux„ÅÆSYN cookie„ÅÆÊ©üËÉΩ„ÅåÂãï„ÅçTCP„Éê„ÉÉ„Éï„Ç°„Éº„ÅåÂà∂Èôê„Åï„Çå„Çπ„É´„Éº„Éó„ÉÉ„Éà„ÅåÂ§ßÂπÖ„Å´‰Ωé‰∏ã„Åô„Çã„ÄÇ„Åì„Çå„ÅØÂÜçÊé•Á∂ö„Åó„Å™„ÅÑÈôê„ÇäÂæ©Êóß„Åó„Å™„ÅÑ„ÄÇ&lt;/p>
&lt;h4 id="kafka-12686-race-condition-in-alterisr-response-handlinghttpsissuesapacheorgjirabrowsekafka-12686">&lt;a href="https://issues.apache.org/jira/browse/KAFKA-12686" target="_blank" rel="noopener">KAFKA-12686: Race condition in AlterIsr response handling&lt;/a>&lt;/h4>
&lt;blockquote>
&lt;p>Status: Resolved (3.0.0)&lt;/p>
&lt;/blockquote>
&lt;p>Partition.scalaÂÜÖ„ÅÆÂá¶ÁêÜ„Å´„Åä„ÅÑ„Å¶„ÄÅAlterIsrResponse„Å®LeaderAndIsrRequest„ÅÆ„É¨„Éº„Çπ„Ç≥„É≥„Éá„Ç£„Ç∑„Éß„É≥„ÅåËµ∑Âõ†„ÄÇ„ÇØ„É©„Çπ„Çø„Çµ„Ç§„Ç∫„ÅåÂ∞è„Åï„ÅèPartitionÊï∞„ÅåÂ§ö„ÅÑÂ†¥Âêà„ÄÅBroker„Éé„Éº„Éâ„ÅÆÂ§âÊõ¥ÊôÇ„Å´Â§ßÈáè„ÅÆPartitionÂ§âÊõ¥„ÅåÁô∫Áîü„Åô„Çã„ÄÇ„Åì„ÅÆÈöõAlterIsrManager„Åå„Éö„É≥„Éá„Ç£„É≥„Ç∞Áä∂ÊÖã„ÅÆ„É™„ÇØ„Ç®„Çπ„Éà„Çí„ÇØ„É™„Ç¢„Åó„Å¶„Åó„Åæ„ÅÜÁÇ∫„ÄÅAlterIsrResponse„ÅåÊàª„Å£„Å¶„Åç„ÅüÈöõ„Å´Âá¶ÁêÜ‰∏≠ (in Flight) „Åß„ÅÇ„Çã„ÅÆ„Å´Âá¶ÁêÜ„Çø„Çπ„ÇØ (Pending) „ÅåÁÑ°„ÅÑ„Å®„ÅÑ„ÅÜÁüõÁõæÁä∂ÊÖã„ÅåÁô∫Áîü„Åô„Çã„ÄÇ&lt;/p>
&lt;h4 id="kafka-12964-corrupt-segment-recovery-can-delete-new-producer-state-snapshotshttpsissuesapacheorgjirabrowsekafka-12964">&lt;a href="https://issues.apache.org/jira/browse/KAFKA-12964" target="_blank" rel="noopener">KAFKA-12964: Corrupt segment recovery can delete new producer state snapshots&lt;/a>&lt;/h4>
&lt;blockquote>
&lt;p>Status: Resolved (3.0.0)&lt;/p>
&lt;/blockquote>
&lt;p>Broker„ÅÆÂÅúÊ≠¢ÊôÇ„ÄÅÁå∂‰∫àÊôÇÈñìÂÜÖ„Å´ÁµÇ‰∫Ü„Åó„Å™„ÅÑÂ†¥Âêà„Å´„ÅØ Unclearn Shutdown„Å®Âà§Êñ≠„Åï„Çå„Çã„ÄÇ„Åì„ÅÆÈöõBrokerÂæ©Â∏∞ÊôÇ„Å´ÊÆã„Å£„Å¶„ÅÑ„Åü„Çª„Ç∞„É°„É≥„Éà„ÅØ‰∏çË¶Å„Å®Âà§Êñ≠„Åï„ÇåÈùûÂêåÊúü„ÅßÂâäÈô§„ÅåÂÆüË°å„Åï„Çå„Çã„ÄÇ„Åì„ÅÆÂâäÈô§„ÅåÂÆå‰∫Ü„Åô„ÇãÂâç„Å´Âêå„Åò„Ç™„Éï„Çª„ÉÉ„Éà„ÅÆ„Çª„Ç∞„É°„É≥„Éà„ÅåÊõ∏„ÅçËæº„Åæ„Çå„ÇãÁä∂ÊÖã„Å®„Å™„Çã„Å®„ÄÅÊñ∞„Åó„ÅÑProducer State„Çπ„Éä„ÉÉ„Éó„Ç∑„Éß„ÉÉ„Éà„ÅåË™§„Å£„Å¶ÂâäÈô§„Åï„Çå„Çã‰∫ã„Åå„ÅÇ„Çã„ÄÇ&lt;/p>
&lt;h4 id="kafka-14334-delayedfetch-purgatory-not-completed-when-appending-as-followerhttpsissuesapacheorgjirabrowsekafka-14334">&lt;a href="https://issues.apache.org/jira/browse/KAFKA-14334" target="_blank" rel="noopener">KAFKA-14334: DelayedFetch purgatory not completed when appending as follower&lt;/a>&lt;/h4>
&lt;blockquote>
&lt;p>Status: Resolved (3.4.0, 3.3.2)&lt;/p>
&lt;/blockquote>
&lt;p>Consumer„ÅåPulgatory„Åã„Çâ„Éï„Çß„ÉÉ„ÉÅ„Åô„Çã„Ç±„Éº„Çπ„Å´„Åä„ÅÑ„Å¶„ÄÅÈÄöÂ∏∏ÈÄö„ÇäPartition„É™„Éº„ÉÄ„Éº„Åã„Çâ„Éï„Çß„ÉÉ„ÉÅ„Åô„ÇãÂ†¥Âêà„Å´„ÅØÊ≠£„Åó„Åè„Éï„Çß„ÉÉ„ÉÅ„ÅÆÂÆå‰∫Ü„ÅåË™çË≠ò„Åï„Çå„Çã„ÄÇ„Åó„Åã„ÅóConsumer„Åå„Éï„Ç©„É≠„Éº„ÉØ„Éº„Åå„Éï„Çß„ÉÉ„ÉÅ„Åô„ÇãË®≠ÂÆö„Å®„Åó„Å¶„ÅÑ„Çã(&lt;a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-392%3A&amp;#43;Allow&amp;#43;consumers&amp;#43;to&amp;#43;fetch&amp;#43;from&amp;#43;closest&amp;#43;replica" target="_blank" rel="noopener">KIP-932&lt;/a>)Â†¥Âêà„ÄÅ„Éï„Ç©„É≠„Éº„ÉØ„Éº„ÅÆPartition„ÅØPulgatory„Å´Â≠òÂú®„Åó„Å™„ÅÑÁÇ∫„Éï„Çß„ÉÉ„ÉÅÂá∫Êù•„Åö„Çø„Ç§„É†„Ç¢„Ç¶„Éà„Åô„Çã„ÄÇ&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>„Ç™„É™„Ç∏„Éä„É´„ÅØ6ÈÅ∏„Åß„ÅÇ„Çä„ÄÅ„Åì„Åì„Åß„ÅØ„Åù„ÅÆ„ÅÜ„Å°&lt;a href="https://issues.apache.org/jira/browse/KAFKA-9211" target="_blank" rel="noopener">KAFKA-9211: Kafka upgrade 2.3.0 may cause tcp delay ack(Congestion Control)&lt;/a>„ÇÇÂê´„Çì„Åß„ÅÑ„Åæ„Åô„Åå„ÄÅ„Éà„Éº„ÇØ„ÅÆ‰∏≠„Åß„ÅØKafka-9646„ÅÆ‰∏≠„ÅßÂêà„Çè„Åõ„Å¶Ë™û„Çâ„Çå„Å¶„ÅÑ„Çã„ÅÆ„ÅßÂâ≤ÊÑõ„Åó„Åæ„Åó„Åü„ÄÇ&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Exactly Once„Å®max.in.flight„Å´„Å§„ÅÑ„Å¶</title><link>https://confluent-jp.github.io/community/blog/idempotent-producer-and-max-inflight/</link><pubDate>Mon, 03 Jul 2023 00:00:00 +0000</pubDate><guid>https://confluent-jp.github.io/community/blog/idempotent-producer-and-max-inflight/</guid><description>&lt;h2 id="„ÅØ„Åò„ÇÅ„Å´">„ÅØ„Åò„ÇÅ„Å´&lt;/h2>
&lt;p>„É°„ÉÉ„Çª„Éº„Ç∏„Éñ„É≠„Éº„Ç´„ÉºÁïåÈöà„Åß„ÅÆ„Éá„É™„Éê„É™„Éº‰øùË®º„ÅØAt Least Once (ÂøÖ„ÅöÈÄÅ‰ø°„Åô„Çã„Åå1Â∫¶‰ª•‰∏äÈÄÅ‰ø°„Åô„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çã) „Å®„ÅÑ„ÅÜ„ÅÆ„ÅåÂ∏∏Ë≠ò„Åß„ÅÇ„Çä„ÄÅ„Éá„Éº„Çø„ÇíÂèó„ÅëÂèñ„ÇãConsumerÂÅ¥„ÅßÂÜ™Á≠âÊÄß„Çí‰øùË®º„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åó„Åü„ÄÇ„Åù„ÅÆExactly Once Semantis„ÅåKafka„Åß„Çµ„Éù„Éº„Éà„Åï„Çå„ÅüÊôÇ„Å´„ÅØÂ§ö„Åè„ÅÆÂèçÈüø„ÇíÂëº„Å≥„Åæ„Åó„Åü„Åå„ÄÅ„Åì„ÅÆË®≠ÂÆö„ÅØÊúÄËøëDefault„ÅßOn„Å´„Å™„ÇãÁ®ãKafka„Ç≥„Éü„É•„Éã„ÉÜ„Ç£„Åß„ÅØÂ∫É„ÅèÂà©Áî®„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Åü„Å†„Åì„ÅÆ„Ç®„É≥„Éè„É≥„Çπ„É°„É≥„Éà„Å´„ÇÇÂà∂Èôê„Åå„ÅÇ„Çä„Åæ„Åó„Åü„ÄÇ„Åì„ÅÆÂà∂Èôê„ÅØÂæåÊó•„ÄÅ„Å≤„Å£„Åù„Çä„Å®‰∏Ä„Å§„ÅÆPR„Å´„Çà„Å£„Å¶Ëß£Ê∂à„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇË©±È°å„Å´„ÅØ‰∏ä„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü„Åå„ÄÅ„Åì„ÅÆÊ©üËÉΩ„ÅåÂ∫É„ÅèÂà©Áî®„Åï„Çå„Çã‰∏ä„Åß„ÅØÈùûÂ∏∏„Å´ÈáçË¶Å„Å™„Ç®„É≥„Éè„É≥„Çπ„É°„É≥„Éà„Åß„Åó„Åü„ÄÇ&lt;/p>
&lt;h2 id="exactly-once-semantics">Exactly Once Semantics&lt;/h2>
&lt;p>KafkaÂàùÊúü„Å´„Åä„ÅÑ„Å¶ÊúÄ„ÇÇÊ≥®ÁõÆ„ÇíÈõÜ„ÇÅ„Åü„Ç®„É≥„Éè„É≥„Çπ„É°„É≥„Éà„ÅÆ‰∏Ä„Å§„Å´&lt;a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-98&amp;#43;-&amp;#43;Exactly&amp;#43;Once&amp;#43;Delivery&amp;#43;and&amp;#43;Transactional&amp;#43;Messaging" target="_blank" rel="noopener">KIP-98 - Exactly Once Delivery and Transactional Messaging&lt;/a> „Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Äå„É°„ÉÉ„Çª„Éº„Ç∏Âü∫Áõ§„Å´„Åä„ÅÑ„Å¶Exactly Once„ÅØ‰∏çÂèØËÉΩ„Äç„Å®„ÅÑ„ÅÜ&lt;a href="https://ja.wikipedia.org/wiki/%E4%BA%8C%E4%BA%BA%E3%81%AE%E5%B0%86%E8%BB%8D%E5%95%8F%E9%A1%8C" target="_blank" rel="noopener">‰∫å‰∫∫„ÅÆÂ∞ÜËªçÂïèÈ°å&lt;/a> Ë¶≥ÁÇπ„Åã„Çâ„ÅÆÊáêÁñëÁöÑ„Å™ÊÑèË¶ã„ÇÇÂ§ö„ÅèË≠∞Ë´ñ„ÇíÂëº„Å≥„Åæ„Åó„Åü„ÄÇ„Åù„ÇÇ„Åù„ÇÇKafka„ÅåÂî±„Åà„ÇãExactly Once„ÅÆ„Çπ„Ç≥„Éº„Éó„ÅØ‰Ωï„Åã„ÄÅ„Åù„Åó„Å¶‰Ωï„Åå„Åù„ÅÆÂâçÊèê„Å®„Å™„Å£„Å¶„ÅÑ„Çã„ÅÆ„Åã„Å´„Å§„ÅÑ„Å¶„ÅØKafkaÂàùÊúüÈñãÁô∫ËÄÖ„Åß„ÅÇ„Çã„Éç„Éè„Åï„Çì„ÇíÂßã„ÇÅ„Å®„Åó„Å¶&lt;a href="https://www.confluent.io/blog/exactly-once-semantics-are-possible-heres-how-apache-kafka-does-it/" target="_blank" rel="noopener">ÂÖ∑‰ΩìÁöÑ„Å™Ë™¨Êòé&lt;/a>„ÇÇ„Åü„Åè„Åï„Çì„Å™„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;p>ÂÆüÈöõ„ÅÆKIP„Å´Ë®òËºâ„Åï„Çå„Å¶„ÅÑ„ÇãË®≠ÂÆöÊù°‰ª∂„ÅØ‰ª•‰∏ã„Åß„ÄÅ„Åì„Çå„Çâ„ÇÇÂêåÊßò„Å´ÈÅ©Âàá„Å´Ë®≠ÂÆö„Åó„Å™„ÅÑÈôê„Çä„ÅØ&lt;code>enable.idempotency=true&lt;/code>„Å®Ë®≠ÂÆö„Åó„Å¶„ÇÇProducer„ÅÆÂÜ™Á≠âÊÄß„ÇíÁ¢∫‰øù„Åô„Çã‰øùË®º„ÅØ„Å™„ÅÑ„Å®Ë®òËºâ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô (‰ªÆ„Å´Idempotent Producer„Å®„Åó„Å¶Âãï„ÅÑ„Å¶PID„Å´ÂÄ§„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Çã„Å®„Åó„Å¶„ÇÇ)„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">ack&lt;/span>&lt;span class="o">=&lt;/span>all
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">retries &amp;gt; &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">max.inflight.requests.per.connection&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÂøÖ„ÅöISR„Å∏„ÅÆÂêåÊúü„ÅåÂÆå‰∫Ü„Åó„ÄÅ„Ç®„É©„ÉºÊôÇ„Å´„ÅØ„É™„Éà„É©„Ç§„Åô„ÇãÊßò„Å´„Åó„ÄÅ„Åã„Å§Producer„Åã„Çâ„ÅÆ‰∏¶ÂàóÈÄÅ‰ø°„ÅØË®±ÂÆπ„Åó„Å™„ÅÑ„ÄÅ„Å®„ÅÑ„ÅÜÊù°‰ª∂„Åß„Åô„ÄÇÁêÜ„Å´„ÅØÈÅ©„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;h2 id="kafka-5494">KAFKA-5494&lt;/h2>
&lt;p>&lt;a href="https://github.com/apache/kafka/pull/3743" target="_blank" rel="noopener">KAFKA-5494: enable idempotence with max.in.flight&amp;hellip;&lt;/a> „Åì„ÅÆPR„Åß„ÅØKIP-98ÂÆüË£Ö„Å´„Åä„Åë„ÇãË™≤È°å„ÅÆË™¨Êòé„Å®„ÄÅ„Åù„Çå„Å´ÂØæ„Åô„ÇãËß£Ê±∫Á≠ñ„ÅåË®òËºâ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇÂÖ∑‰ΩìÁöÑ„Å´„ÅØ2„Å§„ÅÆË™≤È°å„Å∏„ÅÆÂØæÂøú„ÅåÁ∫è„Åæ„Å£„ÅüPR„Å®„Å™„Å£„Å¶„Åä„Çä„ÄÅÁµêÊûú„Å®„Åó„Å¶max.in.flight.requests.per.connection„Åå1„Åß„ÅÇ„ÇãÂà∂Èôê„ÇíÊúÄÂ§ß5„Åæ„ÅßÂ¢ó„ÇÑ„ÅôÂØæÂøú„Å®„Å™„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;/p>
&lt;p>ÂØæÂøú„Å®„Åó„Å¶„ÅÆ„Éù„Ç§„É≥„Éà„ÅØ„ÄÅBroker„Å®„ÅÆÈÄö‰ø°ÈÄîÁµ∂ÊôÇ„ÅÆProducerÂÅ¥ (Client) „ÅÆ„Ç∑„Éº„Ç±„É≥„ÇπÁï™Âè∑„ÅÆÊé°Áï™„É´„Éº„É´„Åß„Åô„ÄÇÈÄÅ‰ø°„Ç®„É©„Éº„Å®„Å™„Å£„ÅüÂ†¥Âêà„Å´„ÅØ„Ç∑„Éº„Ç±„É≥„ÇπÁï™Âè∑„ÇíÊé°Áï™„ÅóÁõ¥„Åô‰∫ã„Å´„Çà„ÇäÂá¶ÁêÜ„ÇíËá™ÂãïÂæ©Êóß„Åô„Çã„Åì„Å®„ÄÅ„Åæ„ÅüÂÜçÊé°Áï™„ÅÆÂâç„Å´ÈÄÅ‰ø°Âá¶ÁêÜ‰∏≠„ÅÆ„Éê„ÉÉ„ÉÅ„ÅåÂÖ®„Å¶Âá¶ÁêÜÊ∏à„Åø„Åß„ÅÇ„ÇãÁ¢∫Ë™çÁ≠â„ÅåËÄÉÊÖÆ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>&lt;/p>
&lt;h2 id="„Åä„Çè„Çä„Å´">„Åä„Çè„Çä„Å´&lt;/h2>
&lt;p>KIP„Åß„ÅØ„Å™„ÅèPR„Å®„Åó„Å¶ÂÆüË£Ö„Åï„Çå„Åü„Åì„ÅÆÂ§âÊõ¥„Åß„Åô„Åå„ÄÅ„Ç∑„Éº„Ç±„É≥„Çπ‰æãÂ§ñ„ÅåÂá∫„ÅüÈöõ„Å´‰∫ãÂæåÂæ©ÊóßÂá∫Êù•„Çã„Çà„ÅÜ„Å´„Å™„Çã‰∫ã„ÄÅmax.in.flight„Çí1„Çà„ÇäÂ§ß„Åç„ÅèÊåáÂÆö„Åß„Åç„Çã‰∫ã„ÄÅ„Çà„ÇäÂ∫É„ÅèIdempotent Producer„ÇíÂà©Áî®„Åô„Çã‰∏ä„ÅßÈáçË¶Å„Å™ÊîπÂñÑ„ÅåÂê´„Åæ„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>„Ç™„É™„Ç∏„Éä„É´„ÅÆ„Éá„Ç∂„Ç§„É≥Ë≥áÊñô„ÅØ&lt;a href="https://docs.google.com/document/d/11Jqy_GjUGtdXJK94XGsEIK7CP1SnQGdp2eF0wSw9ra8/" target="_blank" rel="noopener">„Åì„Åì&lt;/a>„Å´„ÅÇ„Çä„Åæ„Åô„ÄÇ&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>Âêà„Çè„Åõ„Å¶&lt;code>OutOfSequenceException&lt;/code>„ÅåÁô∫Áîü„Åó„Å¶„Åó„Åæ„ÅÜ„Å®„ÇØ„É©„Ç§„Ç¢„É≥„ÉàÂÅ¥„Åß„ÅÆÂæåÁ∂öÂá¶ÁêÜ„ÅØÂÖ®„Å¶Âêå„Åò‰æãÂ§ñ„ÅåÁô∫Áîü„Åô„ÇãË™≤È°å„Å´„Å§„ÅÑ„Å¶„ÇÇÂØæÂøú„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>„Åæ„Åü„Åì„ÅÆPR„Å´Èñ¢„Åô„ÇãÂâçÊèêÊÉÖÂ†±„ÇÑË®≠Ë®à„Å´„Å§„ÅÑ„Å¶„ÅØÂà•ÈÄî&lt;a href="https://docs.google.com/document/d/1EBt5rDfsvpK6mAPOOWjxa9vY0hJ0s9Jx9Wpwciy0aVo/edit" target="_blank" rel="noopener">„Åì„Å°„Çâ&lt;/a>„Å´„Åæ„Å®„ÇÅ„Çâ„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Queues for Kafka„Å®„ÅØ‰Ωï„Åã?</title><link>https://confluent-jp.github.io/community/blog/kip923-queues-for-kafka/</link><pubDate>Fri, 30 Jun 2023 00:00:00 +0000</pubDate><guid>https://confluent-jp.github.io/community/blog/kip923-queues-for-kafka/</guid><description>&lt;h2 id="„ÅØ„Åò„ÇÅ„Å´">„ÅØ„Åò„ÇÅ„Å´&lt;/h2>
&lt;p>Apache Kafka¬Æ „ÅØ„É°„ÉÉ„Çª„Éº„Ç∏„Ç≠„É•„Éº„Å®ÊØîËºÉ„Åï„Çå„Çã‰∫ã„ÇÇÂ§ö„Åè„ÄÅ„Åæ„Åü„É°„ÉÉ„Çª„Éº„Ç∏„Ç≠„É•„Éº„Å®„Åó„Å¶Âà©Áî®„Åï„Çå„Çã‰∫ã„ÇÇÂ§ö„Åè„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-932%3A&amp;#43;Queues&amp;#43;for&amp;#43;Kafka" target="_blank" rel="noopener">KIP-932 Queues for Kafka&lt;/a> „ÅØ„Åù„ÅÆKafka„Å´ÂØæ„Åó„Å¶„Éç„Ç§„ÉÜ„Ç£„Éñ„Å´„É°„ÉÉ„Çª„Éº„Ç∏„Ç≠„É•„Éº„Å®„Åó„Å¶Âà©Áî®„Åô„ÇãÊ©üËÉΩÊÄß„ÇíËøΩÂä†„Åô„ÇãKIP„Åß„Åô„ÄÇ&lt;/p>
&lt;h2 id="consumer-group">Consumer Group&lt;/h2>
&lt;p>Kafka„ÅØ‰ªïÁµÑ„ÅøÁöÑ„Å´„ÅØ„É°„ÉÉ„Çª„Éº„Ç∏„Ç≠„É•„Éº„Åß„ÅØ„Å™„ÅÑ„ÄÅ„Å®Ë®Ä„ÅÜ„ÅÆ„ÅØË™ûÂºä„Åå„ÅÇ„Çã„Åã„ÇÇÁü•„Çå„Åæ„Åõ„Çì„ÄÇ„ÇÇ„ÅÜÂ∞ë„ÅóÊ≠£Á¢∫„Å´Ë™¨Êòé„Åô„Çã„Å®„Äå„É°„ÉÉ„Çª„Éº„Ç∏„ÅÆÈ†ÜÂ∫è‰øùË®º (Order Guarantee) „ÇíÁ¢∫‰øù„Åô„ÇãÁÇ∫„Å´„Çπ„Ç±„Éº„É´„Åô„ÇãÈöõ„Å´Âà∂Èôê„Åå„ÅÇ„Çã„Äç‰ªïÁµÑ„Åø„ÇíÊé°Áî®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åì„ÅÆ‰ªïÁµÑ„Åø„ÅØConsumer Group„Å®Âëº„Å∞„Çå„ÄÅKafka„Å´„Åä„Åë„Çã„Éá„Éº„Çø„ÅÆÂàÜÈõ¢Âçò‰Ωç„Åß„ÅÇ„ÇãPartitionÂçò‰Ωç„Å´„É°„ÉÉ„Çª„Éº„Ç∏„ÅÆÈ†ÜÂ∫è‰øùË®º„Çí„Åô„Çã„Ç¢„Éó„É≠„Éº„ÉÅ„Åß„Åô„ÄÇ&lt;/p>
&lt;p>&lt;a href="https://www.confluent.io/blog/dynamic-vs-static-kafka-consumer-rebalancing/" target="_blank" rel="noopener">Consumer Group&lt;/a>„ÅØ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Åå‰ªªÊÑè„Å´ÊåáÂÆö„Åô„Çã„Åì„Å®„Åå„Åß„Åç„ÄÅ„Åù„ÅÆÁÆ°ÁêÜ„ÅØKafka Broker„Å´„Å¶Á®ºÂÉç„Åô„ÇãConsumer Group Coordinator„Å®„ÅÑ„ÅÜ„Éó„É≠„Çª„Çπ„ÅåË°å„ÅÑ„Åæ„Åô„ÄÇConsumer Group Coordinator„ÅØGroup„É°„É≥„Éê„Éº„ÅÆËøΩÂä†/ÂâäÈô§„ÅÆËá™ÂãïÊ§úÁü•„Å®„É™„Éê„É©„É≥„Çπ„ÇíÊãÖÂΩì„Åó„ÄÅConsumer Group„É°„É≥„Éê„Éº„ÅÆËøΩÂä†/Èõ¢ËÑ±„ÇÑ„Åì„Çå„Çâ„ÅÆÊ≠ªÊ¥ªÁõ£Ë¶ñ„ÄÅ„Ç∞„É´„Éº„Éó„É°„É≥„Éê„Éº„Ç∑„ÉÉ„Éó„Çí„Éà„É™„Ç¨„Éº„Å®„Åó„ÅüÂá¶ÁêÜ„ÅÆ„É™„Éê„É©„É≥„Çπ („É°„É≥„Éê„Éº„Å∏„ÅÆPartition„ÅÆ„É™„Ç¢„Çµ„Ç§„É≥) „ÇíËá™ÂãïÁöÑ„Å´Ë°å„ÅÑ„Åæ„Åô„ÄÇConsumer Group„ÅÆ‰ªïÁµÑ„Åø„ÅØ„ÄÅ„Çπ„Éà„É™„Éº„É†„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅÆÂèØÁî®ÊÄß„Å®Êã°ÂºµÊÄß„Å´ÈáçË¶Å„Å™ÂΩπÂâ≤„ÇíÊãÖ„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>‰∏ÄÊñπ„ÄÅ„É°„ÉÉ„Çª„Éº„Ç∏Âá¶ÁêÜ„ÅÆÈ†ÜÂ∫è‰øùË®º„ÇíÂâçÊèê„Å®„Åó„Å¶„ÅÑ„ÇãÁÇ∫„ÄÅ Partition„Å´Ë§áÊï∞„ÅÆConsumer„ÇíË®≠ÂÆö„Åô„Çã‰∫ã„ÅåÂá∫Êù•„Åö„ÄÅ„Åì„ÅÆÁÇ∫Topic„Å´ÊåáÂÆö„Åô„ÇãPartitionÊï∞„Åå‰∏¶ÂàóÂá¶ÁêÜËÉΩÂäõ„ÅÆÊã°ÂºµÊÄß„ÇíÊ±∫ÂÆö„Åó„Åæ„Åô„ÄÇ „Åæ„Åü„ÄÅ„Åù„ÇÇ„Åù„ÇÇÈ†ÜÂ∫èÊÄß„ÅÆ‰øùË®º„Åå‰∏çË¶Å„Å™„É¶„Éº„Çπ„Ç±„Éº„Çπ„Åß„ÅÇ„Å£„Å¶„ÇÇConsumer Group„ÅÆ„É´„Éº„É´„Å´Ââá„Çâ„Å™„ÅÑ„Å®„ÅÑ„Åë„Å™„ÅÑ„Å®„ÅÑ„ÅÜÂà∂Á¥Ñ„ÅØÂ≠òÂú®„Åó„Åæ„Åô„ÄÇÂ§ßÂÆπÈáè„ÅÆ„Éá„Éº„ÇøÂá¶ÁêÜ and/or ÈùûÂ∏∏„Å´ÊüîËªü„Å™Êã°ÂºµÊÄß„ÅÆÂà∂Âæ°„ÅåË¶ÅÊ±Ç„Åï„Çå„Çã„Çà„ÅÜ„Å™„É¶„Éº„Çπ„Ç±„Éº„Çπ„Åß„ÅØË™≤È°å„Å®„Å™„ÇäÂæó„Çã„ÄÅ„Å®„ÅÑ„ÅÜ„Çà„ÇäÊ≠ØÁóí„ÅÑÊù°‰ª∂„Å®Ë¶ã„Çâ„Çå„Çã‰∫ã„ÇÇ„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;h2 id="„Åì„Çå„Åæ„Åß„ÅÆ„Ç¢„Éó„É≠„Éº„ÉÅ">„Åì„Çå„Åæ„Åß„ÅÆ„Ç¢„Éó„É≠„Éº„ÉÅ&lt;/h2>
&lt;p>„Åª„Å®„Çì„Å©„ÅÆ„É¶„Éº„Çπ„Ç±„Éº„Çπ„Åß„ÅØ6„ÄÅ10„ÄÅ12„Å®„ÅÑ„Å£„Åü„Éô„Çπ„Éà„Éó„É©„ÇØ„ÉÜ„Ç£„Çπ„Å´Ê≤ø„Å£„ÅüPartitionÊï∞„ÇíÊåáÂÆö„Åô„Çã‰∫ã„Å´„Çà„Çä„ÄÅÂÖÖÂàÜ„Å™‰∏¶ÂàóÂá¶ÁêÜËÉΩÂäõ„Å®Êã°ÂºµÊÄß„ÇíÁ¢∫‰øù„Åô„Çã„Åì„Å®„ÅåÂá∫Êù•„Åæ„Åô„ÄÇ‰ªÆ„Å´„Å©„Çå„Å†„Åë„ÅÆ‰∏¶ÂàóÂá¶ÁêÜËÉΩÂäõ„ÅåÊ±Ç„ÇÅ„Çâ„Çå„Çã„Å®„Åó„Å¶„ÇÇ„ÄÅÂ∞ÜÊù•ÁöÑ„Å´„ÇÇ1Âá¶ÁêÜ„Å´ÂØæ„Åó„Å¶24„Ç§„É≥„Çπ„Çø„É≥„Çπ„Å´„Çà„Çã‰∏¶ÂàóÂá¶ÁêÜ„ÅåÂøÖË¶Å„Å®„Å™„Çã‰∫ã„ÅåÁÑ°„ÅÑ„ÅÆ„Åß„ÅÇ„Çå„Å∞„ÄÅPartitionÊï∞„Çí24„Å®„Åó„Å¶„Åä„Åë„Å∞ÂÆâÂÖ®Âúè„Åß„Åô„ÄÇ‰∏ÄËà¨ÁöÑ„Å´„ÅØ„Åì„ÅÆ„Ç¢„Éó„É≠„Éº„ÉÅ„ÅåÂ§ö„ÅèÂèñ„Çâ„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>&lt;a href="https://github.com/line/decaton" target="_blank" rel="noopener">LINE Decaton&lt;/a> „ÅØLINE Corporation„ÅåÁ§æÂÜÖÂà©Áî®„ÅÆÁÇ∫„Å´ÈñãÁô∫„Åó„Ç™„Éº„Éó„É≥„ÇΩ„Éº„ÇπÂåñ„Åó„ÅüKafka„É©„Ç§„Éñ„É©„É™„Åß„Åô„ÄÇÂ§ßÂÆπÈáè„ÅÆ„Çπ„Éà„É™„Éº„É†Âá¶ÁêÜ„ÇíÂÆâÂÆöÁöÑ„Å´„ÄÅ„Åã„Å§KeyÂçò‰Ωç„ÅÆÈ†ÜÂ∫è‰øùË®º„Å®At Least Once„ÅÆ„Éá„É™„Éê„É™„Çí‰øùË®º„Åô„Çã‰∫ã„ÅåÂèØËÉΩ„Åß„Åô„ÄÇ&lt;/p>
&lt;p>&lt;a href="https://github.com/confluentinc/parallel-consumer" target="_blank" rel="noopener">Confluent Parallel Consumer&lt;/a> „ÅØConfluent„Åå„Ç™„Éº„Éó„É≥„ÇΩ„Éº„Çπ„ÅßÊèê‰æõ„Åó„Å¶„ÅÑ„ÇãÂàÜÊï£Âá¶ÁêÜKafka„É©„Ç§„Éñ„É©„É™„Åß„Åô„ÄÇ„Åì„Å°„Çâ„ÇÇKeyÂçò‰Ωç„Åß„ÅÆÈ†ÜÂ∫è‰øùË®º„Çí„Åó„Å¶„Åä„Çä„ÄÅ&lt;a href="https://www.confluent.io/blog/introducing-confluent-parallel-message-processing-client/" target="_blank" rel="noopener">È†ÜÂ∫è‰øùË®º„Åó„Å™„ÅÑË®≠ÂÆö„ÇíÂê´„ÇÅÊüîËªü„Å´Âá¶ÁêÜÊßãÊàê„ÇíÂ§âÊõ¥&lt;/a>„Åô„Çã„Åì„Å®„ÅåÂá∫Êù•„Åæ„Åô„ÄÇ&lt;/p>
&lt;h2 id="queue-for-kafka---kafka-native„Å™„Ç¢„Éó„É≠„Éº„ÉÅ">Queue for Kafka - Kafka Native„Å™„Ç¢„Éó„É≠„Éº„ÉÅ&lt;/h2>
&lt;p>Queues for Kafka„ÅØConsumer Group„Å®Áï∞„Å™„ÇãÊñ∞„Åó„ÅÑ„Ç∞„É´„Éº„ÉóÂåñ„ÇíÊèê‰æõ„Åô„Çã„ÇÇ„ÅÆ„Åß„Åô„ÄÇShare Group„Å®Âëº„Å∞„Çå„ÄÅPartitionÊï∞„Å´ÂΩ±Èüø„Å™„Åè„É°„É≥„Éê„Éº„ÇíËøΩÂä†„Åô„Çã„Åì„Å®„ÅåÂá∫Êù•„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>Shared Group„ÅØÂÖ®„ÅèÁï∞„Å™„Çã„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ„Åß„ÅØ„Å™„Åè„ÄÅ„Åì„Çå„Åæ„Åß„ÅÆConsumer Group„Å®ÂêåÂàó„Å´Êâ±„Çè„Çå„ÄÅ&lt;code>group.type&lt;/code>„Çí&lt;code>share&lt;/code>&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>„Å®Ë®≠ÂÆö„Åô„Çã‰∫ã„Å´„Çà„Å£„Å¶ÊåáÂÆö„Åó„Åæ„Åô„ÄÇConsumer Group„ÅÆÂ†¥Âêà„ÄÅPartitionÊï∞„ÇíË∂Ö„Åà„Çã„É°„É≥„Éê„Éº„ÇíÊåáÂÆö„Åó„Å¶„ÇÇÂá¶ÁêÜ„Å´ÂèÇÂä†„Åß„Åç„Å™„Åã„Å£„Åü„Çä„ÄÅPartitionÊï∞„Çí„Åç„Å£„Å°„ÇäÂâ≤„ÇäÂàá„Çå„Çã„É°„É≥„Éê„ÉºÊï∞„Åß„Å™„ÅÑ„Å®„Ç¢„Çµ„Ç§„É≥„É°„É≥„Éà„Å´ÂÅè„Çä„ÅåÂá∫„Åæ„Åô„Åå„ÄÅShare Group„ÅÆÂ†¥Âêà„ÅØ‰ªªÊÑè„ÅÆ„É°„É≥„Éê„ÉºÊï∞„ÇíÊåáÂÆö„Åô„Çã‰∫ã„Å´„Çà„ÇäÂùá‰∏Ä„Åã„Å§Ê∞¥Âπ≥„Å´„Çπ„Ç±„Éº„É´„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>Consumer Group„Å®ÊßãÊàê„ÇÇÂêå„Åò„Åß„ÄÅBroker„ÅÆ„ÅÜ„Å°Consumer Group Coorinator„Åß„ÅØ„Å™„ÅèShare Group Coordinator„ÇíÂè∏„Çã„Éó„É≠„Çª„Çπ„Åå„Ç∞„É´„Éº„Éó„É°„É≥„Éê„Éº„ÅÆÊ≠ªÊ¥ªÁõ£Ë¶ñ„ÄÅ„É™„Éê„É©„É≥„ÇπÁ≠â„ÇíConsumer GroupÂêåÊßò„Å´ÂÆüÊñΩ„Åó„Åæ„Åô„ÄÇ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥Ë¶≥ÁÇπ„Åß„ÇÇ„Éá„Éó„É≠„Ç§Ë¶≥ÁÇπ„Åß„ÇÇ„ÄÅConsuemr Group„Å®„ÅÆÂ∑Æ„ÅØ„Å™„Åè„ÄÅ„ÅÇ„Åè„Åæ„Åß„Éó„É≠„Éë„ÉÜ„Ç£Ë®≠ÂÆö„Åô„Çã„ÅÆ„Åø„Åß„Ç∞„É´„Éº„Éó„ÅÆÊåØ„ÇãËàû„ÅÑ„ÇíÂ§â„Åà„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ&lt;/p>
&lt;h2 id="„Åä„Çè„Çä„Å´">„Åä„Çè„Çä„Å´&lt;/h2>
&lt;p>Kafka„Å®„ÅÑ„ÅÜ„ÅØ„Åù„ÅÆ„Ç∑„É≥„Éó„É´„Å™Ë®≠Ë®à„ÇÜ„Åà„Å´„ÄÅÂçÅÂàÜÁêÜËß£„Åó„Å™„ÅÑ„Å®Ê¥ªÁî®„ÅåÈõ£„Åó„ÅÑ„Ç§„É°„Éº„Ç∏„Åå„ÅÇ„Çä„Åæ„Åó„Åü„ÄÇ„Åü„Å†„Åì„ÅÆ„Ç∑„É≥„Éó„É´„Åï„Å´„Çà„Å£„Å¶„Çπ„Ç±„Éº„É©„Éì„É™„ÉÜ„Ç£„Å®„ÅÇ„Çâ„ÇÜ„Çã„É¶„Éº„Çπ„Ç±„Éº„Çπ„Åß„ÅÆÊ¥ªÁî®„Åô„Çã„Åì„Å®„Åå„Åß„Åç„ÄÅKafka„ÅÆÁêÜËß£„ÇíÊ∑±„ÇÅ„Çã‰∫ã„ÅØ„Çà„ÇäËâØ„ÅÑË®≠Ë®à„Çí„Åô„Çã‰∏ä„ÅßÈùûÂ∏∏„Å´ÈáçË¶Å„Åß„Åô„ÄÇKIP-932„ÅØ„ÄÅKafkaË™ïÁîü„Åã„ÇâÂ§â„Çè„Çã„Åì„Å®„ÅÆÁÑ°„Åã„Å£„ÅüConsumer Group„Å®„ÅÑ„ÅÜ„Ç¢„Éó„É≠„Éº„ÉÅ„Å®„ÅØÁï∞„Å™„Çã„Éá„Éº„Çø„Ç¢„ÇØ„Çª„Çπ„ÅÆ„Éë„Çø„Éº„É≥„Å´ÂØæ„Åô„ÇãÂ§âÊõ¥„Å®„ÅÑ„ÅÜÊÑèÂë≥„Åß„ÅØÈùûÂ∏∏„Å´ËààÂë≥Ê∑±„ÅÑKIP„Åß„Åô„ÄÇ&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;code>group.type&lt;/code>„ÅØÊñ∞„Åó„ÅÑ„Éó„É≠„Éë„ÉÜ„Ç£„ÄÇ„Éá„Éï„Ç©„É´„Éà„ÅØ&lt;code>consumer&lt;/code>„Åß„ÅÇ„Çä„ÄÅ„Åì„ÅÆÊåáÂÆö„Å†„Å®ÈÄöÂ∏∏ÈÄö„ÇäConsumer Group„Å®„Åó„Å¶Ê©üËÉΩ„Åô„Çã„ÄÇ„Éá„Éï„Ç©„É´„Éà„ÅØ&lt;code>consumer&lt;/code>„Åß„ÅÇ„ÇãÁÇ∫‰∏ã‰Ωç‰∫íÊèõÊÄß„ÅÇ„Çä„ÄÇ&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item></channel></rss>