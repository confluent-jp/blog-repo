<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>stanislav | Confluent Japan Community</title><link>https://confluent-jp.github.io/community/authors/stanislav/</link><atom:link href="https://confluent-jp.github.io/community/authors/stanislav/index.xml" rel="self" type="application/rss+xml"/><description>stanislav</description><generator>Wowchemy (https://wowchemy.com)</generator><language>ja-jp</language><lastBuildDate>Mon, 21 Aug 2023 00:00:00 +0000</lastBuildDate><image><url>https://confluent-jp.github.io/community/authors/stanislav/avatar_hu1077115a2f9cfc94b30f1a5a2f093bdf_38680_270x270_fill_q75_lanczos_center.jpeg</url><title>stanislav</title><link>https://confluent-jp.github.io/community/authors/stanislav/</link></image><item><title>Ëß£Ââñ Kafka Controller Broker</title><link>https://confluent-jp.github.io/community/blog/kafka-controller-broker-explained/</link><pubDate>Mon, 21 Aug 2023 00:00:00 +0000</pubDate><guid>https://confluent-jp.github.io/community/blog/kafka-controller-broker-explained/</guid><description>&lt;blockquote>
&lt;p>„Åì„ÅÆ„Éñ„É≠„Ç∞„Ç®„É≥„Éà„É™„ÅØKafka„Ç≥„Éü„ÉÉ„Çø„Åß„ÅÇ„Çã Stanislav Kozlovski(&lt;a href="https://https://twitter.com/BdKozlovski" target="_blank" rel="noopener">ùïè&lt;/a>|&lt;a href="https://www.linkedin.com/in/stanislavkozlovski/" target="_blank" rel="noopener">Ln&lt;/a>) „ÅÆ„Çµ„Ç§„Éà„Åß2018/10/31„Å´ÂÖ¨Èñã„Åï„Çå„Åü&lt;a href="https://stanislavkozlovski.medium.com/apache-kafkas-distributed-system-firefighter-the-controller-broker-1afca1eae302" target="_blank" rel="noopener">Apache Kafka‚Äôs Distributed System Firefighter ‚Äî The Controller Broker&lt;/a>„ÅÆÊó•Êú¨Ë™ûË®≥„Åß„Åô„ÄÇStanislavÊú¨‰∫∫„ÅÆ‰∫ÜÊâø„ÇíÂæó„Å¶ÁøªË®≥/ÂÖ¨Èñã„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;h2 id="„ÅØ„Åò„ÇÅ„Å´">„ÅØ„Åò„ÇÅ„Å´&lt;/h2>
&lt;p>Kafka„ÅØÊàêÈï∑„ÇíÁ∂ö„Åë„ÇãÂàÜÊï£„Çπ„Éà„É™„Éº„Éü„É≥„Ç∞Âü∫Áõ§„Åß„Åô„ÄÇÁèæÊôÇÁÇπ„Åß„ÅÆÊ•≠Áïå„Éá„Éï„Ç°„ÇØ„ÉàÊäÄË°ì„Åß„ÅÇ„Çä„ÄÅÂ∫É„Åå„Çã„Éá„Éº„Çø„Éë„Ç§„Éó„É©„Ç§„É≥„ÅÆÂà©Áî®„Å´ÂØæ„Åó„Å¶„ÇÇÊã°Âºµ„Åó„Å§„Å§ÂÆâÂÆöÁöÑ„Å´Á®ºÂÉç„Åô„Çã„Åì„Å®„ÅåÂá∫Êù•„Åæ„Åô„ÄÇ„ÇÇ„ÅóKafka„ÅÆÊ¶ÇË¶Å„Å´„Å§„ÅÑ„Å¶„ÇÇ„ÅÜÂ∞ë„ÅóÁü•„Çä„Åü„ÅÑÊñπ„ÅØ&lt;a href="https://hackernoon.com/thorough-introduction-to-apache-kafka-6fbf2989bbc1" target="_blank" rel="noopener">A Thorough Introduction To Apache Kafka&lt;/a>„Çí„ÅîË¶ß„Åè„Å†„Åï„ÅÑ„ÄÇ&lt;/p>
&lt;p>„Åì„ÅÆË®ò‰∫ã„ÇíÊõ∏„Åè‰∏≠„Åß„ÄÅ„Åì„ÅÆKafka„ÅÆÂÆâÂÆöÁ®ºÂÉç„ÇíÊîØ„Åà„Çã‰∏≠„ÅÆ‰ªïÁµÑ„Åø„Å´„Å§„ÅÑ„Å¶Êõ∏„Åç„Åü„ÅÑ„Å®ÊÄù„ÅÜ„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ&lt;/p>
&lt;p>„Åì„ÅÆ„Ç®„É≥„Éà„É™„Åß„ÅØKafka„Å´„Åä„Åë„ÇãController„ÅÆÊ¶ÇÂøµ - Kafka„Å®„ÅÑ„ÅÜÂàÜÊï£Âü∫Áõ§„ÇíÂÅ•Â∫∑ÁöÑ„Å´Á®ºÂÉç„ÅóÁ∂ö„Åë„Çã‰ΩøÂëΩ„ÇíÊîØ„Åà„ÇãÊ©üËÉΩ„Å´„Å§„ÅÑ„Å¶„ÅîÁ¥π‰ªã„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;h2 id="controller-broker">Controller Broker&lt;/h2>
&lt;p>ÂàÜÊï£„Ç∑„Çπ„ÉÜ„É†„ÅØÂ∏∏„Å´ÂçîË™ø„ÅÆ‰∏≠„ÅßÁ®ºÂÉç„ÅóÁ∂ö„Åë„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ‰Ωï„Åã„Åó„Çâ„ÅÆ„Ç§„Éô„É≥„Éà„Åå„ÇØ„É©„Çπ„Çø„ÅßÁô∫Áîü„Åó„ÅüÂ†¥Âêà„ÄÅ„ÇØ„É©„Çπ„ÇøÂÜÖ„ÅÆ„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„ÅØÂêåË™ø„Åó„Å¶„Åù„Çå„Å´ÂèçÂøú„Åó„Å™„Åë„Çå„Å∞„ÅÑ„Åë„Åæ„Åõ„Çì„ÄÇ„Åù„ÅÆ‰∏≠„Åß„ÄÅ„ÇØ„É©„Çπ„Çø„Å®„Åó„Å¶„Å©„ÅÜÂèçÂøú„Åô„Çã„Åπ„Åç„Å™„ÅÆ„Åã„ÄÅBroker„ÅØ‰Ωï„Çí„Åô„Åπ„Åç„Å™„ÅÆ„Åã„ÇíÊåáÁ§∫„Åô„ÇãÂ≠òÂú®„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ&lt;/p>
&lt;p>„Åù„ÅÆÂΩπÂâ≤„ÇíÊãÖ„ÅÜ„ÅÆ„ÅåController„Åß„Åô„ÄÇ
ControllerËá™Ë∫´„ÅØË§áÈõë„Å™‰ªïÁµÑ„Åø„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì - Controller„ÇÇBroker„Åß„ÅÇ„Çä„ÄÅÈÄöÂ∏∏„ÅÆBroker„Å®„Åó„Å¶„ÅÆÂΩπÂâ≤„Å®Âêà„Çè„Åõ„Å¶ËøΩÂä†„ÅÆÂΩπÂâ≤„ÇÇÊåÅ„Å§Broker„Åß„Åô„ÄÇ„Å§„Åæ„ÇäController Broker„ÇÇPartition„ÇíÂà∂Âæ°„Åó„ÄÅRead„Å®Write„ÅÆ„É™„ÇØ„Ç®„Çπ„Éà„Å´ÂØæÂøú„Åó„ÄÅË£è„Åß„ÅØ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Å´ÂèÇÂä†„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>‰ªäËøΩÂä†„ÅÆÂΩπÂâ≤„ÅÆ‰∏≠„ÅßÊúÄ„ÇÇÈáçË¶Å„Å™„ÅÆ„ÅØ„ÄÅ„ÇØ„É©„Çπ„ÇøÂÜÖ„ÅÆBroker„Éé„Éº„Éâ„ÅÆÁÆ°ÁêÜ„Åß„ÅÇ„Çä„ÄÅBroker„ÅåËøΩÂä†„ÄÅ„ÇØ„É©„Çπ„Çø„Åã„ÇâÈõ¢ËÑ±„ÄÅ„ÇÇ„Åó„Åè„ÅØÈöúÂÆ≥„ÅåÁô∫Áîü„Åó„ÅüÈöõ„Å´ÈÅ©Âàá„Å´„Åù„ÅÆ„É°„É≥„Éê„Éº„Ç∑„ÉÉ„Éó„ÇíÁÆ°ÁêÜ„Åô„Çã„Åì„Å®„Åß„Åô„ÄÇ„Åì„Çå„Å´„ÅØPartition„ÅÆ„É™„Éê„É©„É≥„Çπ„ÇÑÊñ∞„Åü„Å™Partion Leader„ÅÆÁâπÂÆö„ÇÇÂê´„Åæ„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>Kafka„ÇØ„É©„Çπ„Çø„Å´„ÅØController„ÅåÂ∏∏„Å´Á®ºÂÉç„Åó„ÄÅÂîØ‰∏Ä1„Å§„ÅÆController„ÅÆ„ÅøÁ®ºÂÉç„Åó„Åæ„Åô„ÄÇ&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;h2 id="controller„ÅÆÂΩπÂâ≤">Controller„ÅÆÂΩπÂâ≤&lt;/h2>
&lt;p>Controller Broker„ÅØË§áÊï∞„ÅÆË§áÊï∞„ÇíÊãÖ„ÅÑ„Åæ„Åô„ÄÇTopic„ÅÆ‰ΩúÊàê/ÂâäÈô§„ÄÅPartition„ÅÆËøΩÂä† („Å®Leader„ÅÆÁâπÂÆö)„ÄÅBroker„ÅåCluster„ÇíÈõ¢ËÑ±„Åó„ÅüÈöõ„ÅÆË´∏„ÄÖ„ÅÆÂà∂Âæ°Á≠âÊßò„ÄÖ„ÅÇ„Çä„Åæ„Åô„Åå„ÄÅÂü∫Êú¨ÁöÑ„Å´„ÅØ„ÇØ„É©„Çπ„Çø„Å´„Åä„Åë„ÇãÁÆ°ÁêÜËÄÖ„Å®„Åó„Å¶ÊåØ„ÇãËàû„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="broker„Éé„Éº„Éâ„ÅÆÈõ¢ËÑ±">Broker„Éé„Éº„Éâ„ÅÆÈõ¢ËÑ±&lt;/h3>
&lt;p>„Ç®„É©„Éº„ÇÑË®àÁîªÁöÑ„Å™ÂÅúÊ≠¢„Å´„Çà„Å£„Å¶Broker„Éé„Éº„Éâ„Åå„ÇØ„É©„Çπ„Çø„Åã„ÇâÈõ¢ËÑ±„Åó„ÅüÈöõ„ÄÅ„Åù„ÅÆBroker„Éé„Éº„Éâ„Å´Leader„ÅÆ„ÅÇ„Å£„ÅüPartition„Å´„ÅØ„Ç¢„ÇØ„Çª„ÇπÂá∫Êù•„Å™„Åè„Å™„Çä„Åæ„Åô„ÄÇ („ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅØWrite/Read„ÅÆ„ÅÑ„Åö„Çå„Åß„ÅÇ„Å£„Å¶„ÇÇÂ∏∏„Å´Partition Leader„Å´„ÅÆ„Åø„Ç¢„ÇØ„Çª„Çπ„Åó„Åæ„Åô„ÄÇ&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>) „Åì„ÅÆÁÇ∫BrokerÈõ¢ËÑ±ÊôÇ„ÅÆ„ÉÄ„Ç¶„É≥„Çø„Ç§„É†„ÇíÁü≠Á∏Æ„Åô„Çã„Å´„ÅØ„ÄÅ„ÅÑ„Åã„Å´ËøÖÈÄü„Å´Êñ∞„Åü„Å™Leader„ÇíÈÅ∏Âá∫„Åô„Çã„Åã„ÅåÈáçË¶Å„Å´„Å™„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>Controller Broker„ÅØ‰ªñ„ÅÆBroker„Éé„Éº„Éâ„ÅåÈõ¢ËÑ±„Åó„ÅüÈöõ„Å´ÂØæÂá¶„Åó„Åæ„Åô„ÄÇZookeeper„Å´„ÅØ&lt;a href="https://zookeeper.apache.org/doc/r3.4.8/zookeeperProgrammers.html#ch_zkWatches" target="_blank" rel="noopener">Zookeeper Watch&lt;/a>„Å®Âëº„Å∞„Çå„ÇãÁâπÂÆö„Éá„Éº„Çø„ÅÆÂ§âÊõ¥ÊôÇ„Å´ÁôªÈå≤ËÄÖ„Å´ÂØæ„Åó„Å¶ÈÄöÁü•„Çí„Åô„ÇãÊ©üËÉΩ„Åß„ÄÅController„ÅØ„Åì„ÅÆZookeeper Watch„ÇíÂà©Áî®„Åó„Å¶Broker„ÅÆÈõ¢ËÑ±„ÇíÊ§úÁü•„Åó„Åæ„Åô„ÄÇZookeeper Watch„ÅØBrokerÈõ¢ËÑ±ÊôÇ„ÅÆ„Éà„É™„Ç¨„Éº„Å®„Åó„Å¶ÂÉç„ÅèKafka„Å´„Å®„Å£„Å¶ÈùûÂ∏∏„Å´ÈáçË¶Å„Å™Ê©üËÉΩ„Åß„Åô„ÄÇ&lt;/p>
&lt;p>„Åì„Åì„Å´„Åä„Åë„Çã„ÄåÁâπÂÆö„Éá„Éº„Çø„Äç„Å®„ÅØBroker„Éá„Éº„Çø„ÅÆÈõÜÂêà„Åß„Åô„ÄÇ&lt;/p>
&lt;p>‰∏ã„Å´„ÅÇ„Çã„ÅÆ„ÅØBroker 2„ÅÆ&lt;a href="https://zookeeper.apache.org/doc/r3.4.8/zookeeperProgrammers.html#ch_zkSessions" target="_blank" rel="noopener">Zookeeper Session&lt;/a>„ÅåÁÑ°ÂäπÂåñ„Åï„Çå„Çã‰∫ã„Å´„Çà„ÇäBroker 2„ÅÆID„Åå„É™„Çπ„Éà„Åã„ÇâÂâäÈô§„Åï„Çå„ÅüÂ†¥Âêà„ÅÆÂõ≥Ëß£„Åß„Åô„ÄÇ(Kafka Broker„ÅØZookeeper„Å∏„ÅÆ„Éè„Éº„Éà„Éì„Éº„Éà„ÇíÈÄÅ„ÇäÁ∂ö„Åë„Çã„Åå„ÄÅÈÅÖ„Çå„Å™„Åè„Å™„Çã„Å®„Çª„ÉÉ„Ç∑„Éß„É≥„ÅåÁÑ°ÂäπÂåñ„Åô„Çã)&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="Zookeeper Watch and Controller" srcset="
/community/media/blogs/kafka-controller-broker-explained/zookeeper-watch_hu999b6f38219025080af213f7c0820560_78754_933d8c0d0ca12b3944bf46cc705eee83.webp 400w,
/community/media/blogs/kafka-controller-broker-explained/zookeeper-watch_hu999b6f38219025080af213f7c0820560_78754_55f25aaf2122bf1cb5ca633f5a0880a6.webp 760w,
/community/media/blogs/kafka-controller-broker-explained/zookeeper-watch_hu999b6f38219025080af213f7c0820560_78754_1200x1200_fit_q75_h2_lanczos_2.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-controller-broker-explained/zookeeper-watch_hu999b6f38219025080af213f7c0820560_78754_933d8c0d0ca12b3944bf46cc705eee83.webp"
width="760"
height="637"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;p>Controller„ÅØ„Åì„ÅÆBrokerÈõ¢ËÑ±„ÅÆÈÄöÁü•„ÇíÂèó„ÅëÂèñ„Çä‰ΩúÊ•≠„Å´Âèñ„ÇäÊéõ„Åã„Çä„Åæ„Åô„Åå„ÄÅ„Åæ„Åö„ÅØBroker„ÅÆÈõ¢ËÑ±„Å´„Çà„Å£„Å¶ÂΩ±Èüø„ÇíÂèó„Åë„ÅüPartition„ÅÆÊñ∞„Åü„Å™Leader„ÇíÊ±∫ÂÆö„Åó„Åæ„Åô„ÄÇ„Åì„ÅÆÂæå„ÄÅ„ÇØ„É©„Çπ„ÇøÂÜÖ„ÅÆÂÖ®„Å¶„ÅÆBroker„Å´ÂØæ„Åó„Å¶ÈÄöÁü•„Åó„ÄÅ„Åì„ÅÆ„É™„ÇØ„Ç®„Çπ„Éà„ÇíÂèó„ÅëÂèñ„Å£„ÅüÂêÑPartitionÊØé„Å´Leader„Å´„Å™„Å£„Åü„ÇäFollower„Å®„Åó„Å¶Leader„Å´&lt;a href="https://kafka.apache.org/protocol#The_Messages_LeaderAndIsr" target="_blank" rel="noopener">LeaderAndIsr&lt;/a>„É™„ÇØ„Ç®„Çπ„Éà„ÇíÈÄÅ‰ªò„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="broker„Éé„Éº„Éâ„ÅÆ„ÇØ„É©„Çπ„ÇøÂæ©Â∏∞">Broker„Éé„Éº„Éâ„ÅÆ„ÇØ„É©„Çπ„ÇøÂæ©Â∏∞&lt;/h3>
&lt;p>ÈÅ©Âàá„Å™Partition Leader„ÅÆÈÖçÁΩÆ„ÅØKafka„ÇØ„É©„Çπ„Çø„ÅÆË≤†Ëç∑ÂàÜÊï£„ÅÆ‰∏ä„ÅßÈáçË¶Å„Å™Ë¶ÅÁ¥†„Åß„Åô„ÄÇ‰∏äË®ò„ÅßË™¨Êòé„Åó„Åü„Å®„Åä„Çä„ÄÅBroker„Éé„Éº„Éâ„Åå„ÇØ„É©„Çπ„Çø„ÇíÈõ¢ËÑ±„Åó„ÅüÈöõ„Å´„ÅØ‰ªñ„ÅÆBroker„Åå‰ª£„Çè„Å£„Å¶ÂØæÂøú„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Åì„ÅÆÂ†¥ÂêàBroker„ÅØÂΩìÂàù„ÅÆÊÉ≥ÂÆö‰ª•‰∏ä„ÅÆPartition„ÇíÂêÑ„ÄÖ„ÅåÊãÖ„ÅÜ„Åì„Å®„Å´„Å™„Çä„ÄÅ„ÇØ„É©„Çπ„ÇøÂÖ®‰Ωì„ÅÆÂÅ•ÂÖ®ÊÄß„ÇÑ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„Å´Â∞ë„Å™„Åã„Çâ„ÅöÂΩ±Èüø„ÇíÂèä„Åº„Åó„Åæ„Åô„ÄÇÂΩìÁÑ∂„Å™„Çã„Åπ„ÅèÊó©„Åè„Éê„É©„É≥„Çπ„ÇíÂèñ„ÇäÊàª„ÅôÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>Kafka„ÅØÂÖÉ„ÄÖ„ÅÆPartition„Ç¢„Çµ„Ç§„É≥„É°„É≥„Éà„Åå„ÄÅ„ÅÇ„ÇãÁ®ãÂ∫¶„ÄåÈÅ©Âàá„Äç„Åß„ÅÇ„Çã„Å®„ÅÑ„ÅÜÊÉ≥ÂÆö„ÇíÊåÅ„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åì„ÅÆ„Ç¢„Çµ„Ç§„É≥„É°„É≥„Éà„Å´„Åä„Åë„ÇãPartition Leader„ÅØ„ÅÑ„Çè„ÇÜ„Çã &lt;em>Preferreed Leader(ÂÑ™ÂÖà„É™„Éº„ÉÄ„Éº)&lt;/em> „Å®„Åó„Å¶Ë™çË≠ò„Åï„Çå„ÄÅÊúÄÂàù„Å´„Åù„ÅÆPartition„ÅåËøΩÂä†„Åï„Çå„ÅüÊôÇ„ÅÆPartition Leader„ÇíÊåá„Åó„Åæ„Åô„ÄÇÂêà„Çè„Åõ„Å¶Kafka„ÅØ&lt;a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-36&amp;#43;Rack&amp;#43;aware&amp;#43;replica&amp;#43;assignment" target="_blank" rel="noopener">„Ç§„É≥„Éï„É©ÊßãÊàê„Å®„Åó„Å¶„ÅÆ„É©„ÉÉ„ÇØ„ÇÑAvailability Zone„ÇíÊÑèË≠ò„Åó„ÅüPartitionÈÖçÁΩÆ„ÅÆÊ©üËÉΩ&lt;/a> („É©„ÉÉ„ÇØ/AZÈöúÂÆ≥ËÄêÊÄß„ÇíÁ¢∫‰øù„Åô„ÇãÁÇ∫„Å´Leader„Å®Follower„ÇíÂà•„ÅÆ„É©„ÉÉ„ÇØ/AZ„Å´ÈÖçÁΩÆ„Åô„Çã) „ÇÇ„Çµ„Éù„Éº„Éà„Åó„Å¶„Åä„Çä„ÄÅPartition Leader„ÅÆÈÖçÁΩÆ„ÅØ„ÇØ„É©„Çπ„Çø„ÅÆ‰ø°È†ºÊÄß„Å´Â§ß„Åç„ÅèÂØÑ‰∏é„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Éá„Éï„Ç©„É´„Éà„Åß„ÅØ&lt;code>auto.leader.rebalance.enabled=true&lt;/code>„Å®„Å™„Å£„Å¶„Åä„Çä„ÄÅKafka„ÅØPreferred Leader„ÅåÂ≠òÂú®„Åó„ÄÅ„Åã„Å§ÂÆüÈöõ„ÅÆPartition Leader„Åß„ÅØ„Å™„ÅÑÂ†¥Âêà„Å´„ÅØPreferred Leader„ÇíÂÜçÈÅ∏Âá∫„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>Broker„Éé„Éº„Éâ„ÅÆ„ÇØ„É©„Çπ„Çø„Åã„Çâ„ÅÆÈõ¢ËÑ±„ÇÇ„ÄÅÂ§ö„Åè„ÅÆÂ†¥Âêà‰∏ÄÊôÇÁöÑ„Åß„ÅÇ„Çä„ÄÅ„ÅÇ„Çã‰∏ÄÂÆöÊôÇÈñìÁµåÈÅéÂæå„Å´Èõ¢ËÑ±„Åó„ÅüBroker„Éé„Éº„Éâ„ÅØÂÜçÂ∫¶„ÇØ„É©„Çπ„Çø„É°„É≥„Éê„Éº„Å®„Åó„Å¶Âæ©Â∏∞„Åó„Åæ„Åô„ÄÇ„Åì„ÅÆÁÇ∫Broker„Éé„Éº„Éâ„ÅåÈõ¢ËÑ±„Åó„ÅüÈöõ„Å´„ÇÇÈñ¢ÈÄ£„Åô„Çã„É°„Çø„Éá„Éº„Çø„ÅØÂç≥Â∫ß„Å´ÂâäÈô§„Åï„Çå„Åö„ÄÅFollower Partition„ÇÇÊñ∞„Åü„Å´„Ç¢„Çµ„Ç§„É≥„Åï„Çå„Åæ„Åõ„Çì„ÄÇ&lt;/p>
&lt;p>Ê≥®ÊÑèÁÇπ„Å®„Åó„Å¶„ÄÅÂÜçÂèÇÂä†„Åó„ÅüBroker„Éé„Éº„Éâ„ÇÇÁõ¥„Åê„Å´Partition Leader„Å®„Åó„Å¶ÂÜçÈÅ∏Âá∫„Åï„Çå„ÇãË®≥„Åß„ÅØ„Å™„Åè„ÄÅ„Åù„ÅÆÂÄôË£ú„Å®„Å™„ÇãÁÇ∫„Å´„ÅØÂà•„ÅÆÊù°‰ª∂„ÇÇÂøÖË¶Å„Å®„Å™„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="in-sync-replicas">In-Sync Replicas&lt;/h3>
&lt;p>In-Sync Replica (ISR) „ÅØÁä∂ÊÖã„ÅåPartition Leader„Å®Âêå„Åò Follower„ÇíÊåá„Åó„Åæ„Åô„ÄÇË®Ä„ÅÑÊñπ„ÇíÂ§â„Åà„Çã„Å®„ÄÅISR„ÅØ„Åù„ÅÆLeader„ÅÆ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅåËøΩ„ÅÑ„Å§„ÅÑ„Å¶„ÅÑ„ÇãÁä∂ÊÖã„Å´„ÅÇ„Çä„Åæ„Åô„ÄÇPartion Leader„ÅØ„Å©„ÅÆFollower„ÅåISR„Åß„Å©„ÅÆFollower„Åå„Åù„ÅÜ„Åß„ÅØ„Å™„ÅÑ„Åã„Çí„Éà„É©„ÉÉ„ÇØ„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„ÄÅ„Åù„ÅÆÁä∂ÊÖã„ÅØZookeeper„Å´Ê∞∏Á∂öÂåñ„Åï„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>Kafka„ÅÆÈöúÂÆ≥ËÄêÊÄß„Å®ÂèØÁî®ÊÄß„ÅÆ‰øùË®º„ÅØ„Éá„Éº„Çø„ÅÆ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Å´Âü∫„Å•„ÅÑ„Å¶„Åä„Çä„ÄÅkafka„ÅåÊ©üËÉΩ„Åô„Çã„Å´„ÅØÂ∏∏„Å´ÂçÅÂàÜ„Å™ISR„ÅåÁ¢∫‰øù„Åï„Çå„Å¶„ÅÑ„Çã„Åã„ÅåÊ•µ„ÇÅ„Å¶ÈáçË¶Å„Åß„Åô„ÄÇ&lt;/p>
&lt;p>Follower„ÅåLeader„Å´ÊòáÊ†º„Åô„Çã„Å´„ÅØ„Åæ„ÅöISR„Åß„ÅÇ„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÂÖ®„Å¶„ÅÆPartition„Å´„ÅØISR„ÅÆ„É™„Çπ„Éà„Åå„ÅÇ„Çä„ÄÅPartition Leader„Å®Controller„Å´„Çà„Å£„Å¶ÁÆ°ÁêÜ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇISR„Åã„ÇâÊñ∞„Åü„Å™Partition Leader„ÇíÈÅ∏Âá∫„Åô„ÇãÂá¶ÁêÜ„ÅØ &lt;em>Clean Leader Election&lt;/em> „Å®Âëº„Å∞„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ‰∏ÄÊñπ„É¶„Éº„Ç∂„Éº„Å´„ÅØ„Åì„Çå„Å®„ÅØÁï∞„Å™„ÇãÊñπÊ≥ï„ÅßLeader„ÇíÊòáÊ†º„Åï„Åõ„Çã‰∫ã„ÇÇÂèØËÉΩ„Åß„ÄÅPartion Leader„Åå„ÇØ„É©„Çπ„Çø„ÇíÈõ¢ËÑ±„Åó„ÅüÈöõ„Å´„ÅØISR„Åß„ÅØ„Å™„ÅÑFollower„ÇíÊòáÊ†º„Åï„Åõ„Çã‰∫ã„ÇÇÂèØËÉΩ„Åß„Åô„ÄÇ„Åì„Çå„ÅØLeader„ÇÇISR„ÇÇÂ≠òÂú®„Åó„Å™„ÅÑ„Å®„ÅÑ„ÅÜÁä∂Ê≥Å„Å´„Åä„ÅÑ„Å¶„ÄÅ„Éá„Éº„ÇøÊï¥ÂêàÊÄß„Çà„ÇäÂèØÁî®ÊÄß„ÇíÂÑ™ÂÖà„Åï„Åõ„ÇãÂøÖË¶Å„Åå„ÅÇ„ÇãÁ®Ä„Å™„Ç±„Éº„Çπ„Åß„Åô„ÄÇ&lt;/p>
&lt;p>„Åì„Åì„ÅßÂÜçÂ∫¶„ÅÆÁ¢∫Ë™ç„Å´„Å™„Çä„Åæ„Åô„Åå„ÄÅ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅØPartition Leader„Åã„Çâ„Åó„ÅãConsume„Åß„Åç„Åæ„Åõ„Çì„ÄÇ‰ªÆ„Å´ISR„Åß„ÅØ„Å™„ÅÑFollower„ÇíLeader„Å´ÊòáÊ†º„Åó„ÅüÂ†¥Âêà„Å´„ÅØ„ÄÅÂΩìÁÑ∂„Åæ„Å†Leader„Åã„ÇâÂèñÂæó„Åï„Çå„Å¶„ÅÑ„Å™„Åã„Å£„Åü„É°„ÉÉ„Çª„Éº„Ç∏„ÅØÂ§±„ÅÜ„Åì„Å®„Å´„Å™„Çä„Åæ„Åô„ÄÇ„Åì„Çå„ÅØ„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂ§±„ÅÜ„Å†„Åë„Åß„Å™„Åè„ÄÅConsumer„Åã„ÇâË¶ã„Åü„Ç§„Éô„É≥„Éà„ÅÆ„Çπ„Éà„É™„Éº„É†‰∏ä„ÅÆ‰ΩçÁΩÆ („Ç™„Éï„Çª„ÉÉ„Éà) „ÇÇ‰∏äÊõ∏„Åã„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>ÊÆãÂøµ„Å™„Åå„ÇâClearn Leader Election„ÅÆÂ†¥Âêà„Å´„ÇÇÂêåÊßò„ÅÆ„Éá„Éº„ÇøÈöúÂÆ≥„ÅåÁô∫Áîü„Åô„ÇãÂèØËÉΩÊÄß„ÅØ„ÅÇ„Çä„Åæ„Åô„ÄÇISR„ÇÇÊßò„ÄÖ„Å™Ë¶ÅÂõ†„Å´„Çà„Å£„Å¶Leader„Å®ÂÆåÂÖ®„Å´ÂêåÊúü„ÅåÂèñ„Çå„Å¶„ÅÑ„Å™„ÅÑ„Ç±„Éº„Çπ„Åß„Åô - ÂÖ∑‰ΩìÁöÑ„Å´„ÅØ„ÄÅLeader„ÅÆ„Ç™„Éï„Çª„ÉÉ„Éà„Åå100„Å®„Åó„ÅüÊôÇ„Å´„ÄÅFollower„ÅÆ„Ç™„Éï„Çª„ÉÉ„Éà„Åå95„ÄÅ99„ÄÅ80„Å®„Å™„Å£„Å¶„ÅÑ„Çã„Çà„ÅÜ„Å™Áä∂Ê≥Å„Åß„Åô„ÄÇ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅØÈùûÂêåÊúü„Å´ÂÆüÊñΩ„Åï„Çå„ÇãÁÇ∫„ÄÅÊúÄÂæå„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„Åæ„ÅßÂÆåÂÖ®„Å´FollowerÂÅ¥„Å´Ê∏°„Å£„Åü„Å®‰øùË®º„Åô„Çã‰∫ã„ÅØÂõ∞Èõ£„Åß„Åô„ÄÇ&lt;/p>
&lt;p>Follower„ÅåLeader„Å´ÂØæ„Åó„Å¶in-sync„Åß„ÅÇ„Çã„Å®Âà§Êñ≠„Åô„ÇãÊù°‰ª∂„ÅØ‰ª•‰∏ã„Åß„ÅôÔºö&lt;/p>
&lt;ul>
&lt;li>Partition Leader„Åã„ÇâÊúÄÊñ∞„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„Çí &lt;em>X&lt;/em> „Éü„É™ÁßíÂâç„Å´ÂèñÂæó„Åó„Å¶„ÅÑ„Çã„ÄÇ (X„ÅØ &lt;code>replica.lag.time.max.ms&lt;/code>„Å´„Å¶Ë®≠ÂÆöÂèØËÉΩ)&lt;/li>
&lt;li>Zookeeper„Å´ÂØæ„Åó„Å¶ &lt;em>Y&lt;/em> „Éü„É™ÁßíÂâç„Å´„Éè„Éº„Éà„Éì„Éº„Éà„ÇíÈÄÅ„Å£„Å¶„ÅÑ„Çã„ÄÇ (Y„ÅØ&lt;code>zookeeper.session.timeout.ms&lt;/code>„Å´„Å¶Ë®≠ÂÆöÂèØËÉΩ)&lt;/li>
&lt;/ul>
&lt;h3 id="„Éá„Éº„ÇøÊï¥ÂêàÊÄß„Å®ËÄê‰πÖÊÄß">„Éá„Éº„ÇøÊï¥ÂêàÊÄß„Å®ËÄê‰πÖÊÄß&lt;/h3>
&lt;p>Leader„ÅåÊ©üËÉΩ‰∏çÂÖ®„Å´Èô•„Å£„ÅüÂ†¥Âêà„ÄÅÁä∂Ê≥Å„Å´„Çà„Å£„Å¶„ÅØISR„ÅåÊñ∞„Åó„ÅÑLeader„Å´ÊòáÊ†º„Åó„ÅüÂ†¥Âêà„Å´„ÇÇÂÉÖ„Åã„Å´„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂ§±„ÅÜÂèØËÉΩÊÄß„Åå„ÅÇ„ÇãÁÇπ„Å´„Å§„ÅÑ„Å¶Ë®ÄÂèä„Åó„Åæ„Åó„Åü„ÄÇÂÖ∑‰ΩìÁöÑ„Å´„ÅØLeader„ÅåFollower„Åã„Çâ„ÅÆ„Éï„Çß„ÉÉ„ÉÅ„É™„ÇØ„Ç®„Çπ„Éà„ÇíÂá¶ÁêÜ„ÅóÁµÇ„Çè„Å£„ÅüÁõ¥Âæå„Å´Êñ∞„Åü„Å´„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂèó„ÅëÂèñ„Å£„Åü„Ç±„Éº„Çπ„Åß„ÄÅ„Åì„ÅÆÂ†¥ÂêàÊñ∞„Åü„Å™„É°„ÉÉ„Çª„Éº„Ç∏„ÅØ„Åæ„Å†Follower„Åå„É°„ÉÉ„Çª„Éº„Ç∏„ÅÆÂà∞ÁùÄ„ÇíÊääÊè°„Åô„Çã„Åæ„Åß„ÅÆÁ©∫ÁôΩÊúüÈñì„ÅåÂ≠òÂú®„ÅóÂæó„Åæ„Åô„ÄÇ„Åì„ÅÆ„Çø„Ç§„Éü„É≥„Ç∞„ÅßLeader„ÅåÊ©üËÉΩ‰∏çÂÖ®„Å´Èô•„Å£„ÅüÂ†¥Âêà„ÄÅ„É°„ÉÉ„Çª„Éº„Ç∏„ÅØLeader„Å´„Åó„ÅãÂ≠òÂú®„Åó„Å™„ÅÑ„Å™„Åå„Çâ„ÇÇFollower„ÅÆ‰∏ÄÈÉ®„ÅØISR„Å®„Åó„Å¶ÊàêÁ´ã„Åó„Åæ„Åô„ÄÇ„Åù„Åó„Å¶ISR„Åå„Åù„ÅÆ„Åæ„ÅæLeader„Å´ÊòáÊ†º„Åô„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="ISR which is really not in-sync sequence" srcset="
/community/media/blogs/kafka-controller-broker-explained/not-in-sync-isr_hu7f8f7a0d1dc18ad510097bfa7ae71f61_47308_adb7d173994b97446bf22bea411ccfcb.webp 400w,
/community/media/blogs/kafka-controller-broker-explained/not-in-sync-isr_hu7f8f7a0d1dc18ad510097bfa7ae71f61_47308_df314272b8d2415dfd6f7a900a96e469.webp 760w,
/community/media/blogs/kafka-controller-broker-explained/not-in-sync-isr_hu7f8f7a0d1dc18ad510097bfa7ae71f61_47308_1200x1200_fit_q75_h2_lanczos_2.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-controller-broker-explained/not-in-sync-isr_hu7f8f7a0d1dc18ad510097bfa7ae71f61_47308_adb7d173994b97446bf22bea411ccfcb.webp"
width="760"
height="617"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;h3 id="produerÂÅ¥„ÅÆacks„ÅÆË®≠ÂÆö">ProduerÂÅ¥„ÅÆAcks„ÅÆË®≠ÂÆö&lt;/h3>
&lt;p>‰∏äË®ò„ÅÆ‰æã„Åß„ÅØLeader„ÅØËá™Ë∫´„Å∏„ÅÆÊõ∏„ÅçËæº„Åø„ÅåÂÆå‰∫Ü„Åó„ÅüÊôÇÁÇπ„ÅßAcks„ÇíËøî„ÅôË®≠ÂÆö (&lt;code>acks=1&lt;/code>) „ÇíÊÉ≥ÂÆö„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇBroker 1„ÅåÊúÄÂæå„ÅÆAcks„ÇíËøî„Åó„ÅüÁõ¥Âæå„Å´Ê©üËÉΩ‰∏çÂÖ®„Å®„Å™„Å£„ÅüÁÇ∫„ÄÅBroker 2„ÅØISR„Åß„ÅØ„ÅÇ„Çã„ÇÇ„ÅÆ„ÅÆ&lt;code>offset:100&lt;/code>„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„ÅØÂèó„ÅëÂèñ„Å£„Å¶„ÅÑ„Å™„ÅÑÁä∂ÊÖã„ÅßLeader„Å´ÊòáÊ†º„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Åì„ÅÆ‰∫ãË±°„ÅØ&lt;code>acks=all&lt;/code>„Å®Ë®≠ÂÆö„Åô„Çã„Åì„Å®„Å´„Çà„ÇäÂõûÈÅø„Åô„Çã‰∫ã„ÅØÂèØËÉΩ„Åß„ÄÅ„Å§„Åæ„ÇäLeader„ÅØÂÖ®„Å¶„ÅÆISR„Å∏„ÅÆÊõ∏„ÅçËæº„Åø„ÅåÊ≠£Â∏∏ÁµÇ‰∫Ü„Åó„ÅüÊôÇÁÇπ„ÅßÂàù„ÇÅ„Å¶acks„ÇíËøî„Åó„Åæ„Åô„ÄÇÊÆãÂøµ„Å™„Åå„Çâ„Åì„ÅÆË®≠ÂÆö„ÅÆÂ†¥Âêà„ÇØ„É©„Çπ„ÇøÂÖ®‰Ωì„ÅÆ„Çπ„É´„Éº„Éó„ÉÉ„Éà„Å´„ÅØÂΩ±Èüø„Åó„Åæ„Åô„ÄÇKafka„ÅÆ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅØpull„É¢„Éá„É´„Åß„ÅÇ„ÇãÁÇ∫„ÄÅLeader„ÅØÂÖ®„Å¶„ÅÆISR„ÅÆ„Éï„Çß„ÉÉ„ÉÅ„É™„ÇØ„Ç®„Çπ„Éà„ÅåÂ±ä„Åç„ÄÅ„Åæ„Åü„Åù„Çå„ÅåÂÆå‰∫Ü„Åô„Çã„Åæ„ÅßÂæÖ„Åü„Å™„Åë„Çå„Å∞„ÅÑ„Åë„Åæ„Åõ„Çì„ÄÇ&lt;/p>
&lt;p>„ÅÑ„Åè„Å§„Åã„ÅÆ„É¶„Éº„Çπ„Ç±„Éº„Çπ„Åß„ÅØ„ÄÅ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„ÇíÂÑ™ÂÖà„Åó„Å¶&lt;code>acks=1&lt;/code>„Å®„Åô„ÇãÂ†¥Âêà„ÇÇ„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>&lt;code>acks=all&lt;/code>„Å®Ë®≠ÂÆö„Åó„ÅüÂ†¥Âêà„Å´„É°„ÉÉ„Çª„Éº„Ç∏„ÅÆÊ¨†Êêç„ÅØÂõûÈÅøÂá∫Êù•„Åæ„Åô„ÄÇÊñ∞„Åü„Å´Leader„Å®„Å™„Å£„ÅüISR„Å´„ÅØÁÑ°„ÅÑ„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÊó¢„Å´ÂèñÂæó„Åó„ÅüConsumer„ÅåÂá∫„ÇãÂèØËÉΩÊÄß„ÇÇ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇProducer„Åã„Çâ„ÅÆacks„ÇíÂÖÉ„Å´„Éá„Éº„Çø„ÅÆÊï¥ÂêàÊÄß„ÅØ‰øù„Åü„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="high-watermark-offset">High Watermark Offset&lt;/h3>
&lt;p>Leader„ÅØÂÖ®„Å¶„ÅÆISR„Å∏„ÅÆ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅåÂÆå‰∫Ü„Åó„Å™„ÅÑÈôê„Çäacks„ÇíËøî„Åï„Å™„ÅÑ„Å®„Åó„Åæ„Åô„ÄÇ„Åì„ÅÆÈöõBroker„ÅØ &lt;em>high watermark offset&lt;/em> „Å®Âëº„Å∞„Çå„Çã„ÄåÂÖ®„Å¶„ÅÆISR„ÅåÂèñÂæóÊ∏à„Åø„ÅÆÊúÄÂ§ß„ÅÆ„Ç™„Éï„Çª„ÉÉ„Éà„Äç„ÇíÁÆ°ÁêÜ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇLeader„ÅØÂêà„Çè„Åõ„Å¶Consumer„Åã„Çâ„ÅÆ„É™„ÇØ„Ç®„Çπ„Éà„Å´ÂØæ„Åó„Å¶„Åì„ÅÆhigh watermark offset„ÇíË∂Ö„Åà„Å™„ÅÑ„É°„ÉÉ„Çª„Éº„Ç∏„ÅÆ„ÅøÊèê‰æõ„Åô„Çã‰∫ã„Å´„Çà„Çä„ÄÅDB„ÅßË®Ä„ÅÜ„Å®„Åì„Çç„ÅÆNon-Repeatabl Read„ÇíÂõûÈÅø„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="High Watermark Offset" srcset="
/community/media/blogs/kafka-controller-broker-explained/high-watermark-offset_hu7ee940ddd7907971145f7d4d7b70115c_34334_7e9284c01e9197a8bb67bcfaa76768b5.webp 400w,
/community/media/blogs/kafka-controller-broker-explained/high-watermark-offset_hu7ee940ddd7907971145f7d4d7b70115c_34334_b5767dba72b37534de661ef436cf0a84.webp 760w,
/community/media/blogs/kafka-controller-broker-explained/high-watermark-offset_hu7ee940ddd7907971145f7d4d7b70115c_34334_1200x1200_fit_q75_h2_lanczos_2.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-controller-broker-explained/high-watermark-offset_hu7ee940ddd7907971145f7d4d7b70115c_34334_7e9284c01e9197a8bb67bcfaa76768b5.webp"
width="760"
height="204"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;h3 id="split-brain">Split Brain&lt;/h3>
&lt;p>Controller Broker„Åå„ÉÄ„Ç¶„É≥„Åó„ÅüÂ†¥Âêà„ÄÅ„É°„Çø„Éá„Éº„Çø„ÅÆÊ¨†Êêç„ÇíÂõûÈÅø„Åô„ÇãÁÇ∫„Å´Kafka„ÅØÊÄ•ÈÅΩ‰ª£ÁêÜ„ÅÆController„ÇíÁ´ã„Å¶„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Åì„Åì„Åß„ÅÆÂïèÈ°å„ÅØ„ÄÅÊàë„ÄÖ„Å´„ÅØController Broker„ÅÆÂøúÁ≠î‰∏çËÉΩ„ÅåÂÆåÂÖ®„Å™Ê©üËÉΩ‰∏çÂÖ®„Å´„Çà„Çã„ÇÇ„ÅÆ„Å™„ÅÆ„Åã„ÄÅ„Åù„Çå„Å®„ÇÇ‰∏ÄÊôÇÁöÑ„Å™ÈöúÂÆ≥ „Å´„Çà„Çã„ÇÇ„ÅÆ„Åã„ÅÆÂà§Êñ≠„ÅåÂá∫Êù•„Å™„ÅÑ‰∫ã„Åß„Åô„ÄÇ„Åù„Çå„Åß„ÇÇÊñ∞„Åü„Å™Controller„ÇíÈÅ∏Âá∫„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„Åå„ÄÅÂ†¥Âêà„Å´„Çà„Å£„Å¶„ÅØZombie Controller„ÇíÁîü„ÅøÂá∫„ÅôÂç±Èô∫ÊÄß„ÇÇ„ÅÇ„Çä„Åæ„Åô„ÄÇ„Å§„Åæ„Çä„ÄÅ„ÇØ„É©„Çπ„Çø„Åã„Çâ„ÅØÊó¢„Å´Á®ºÂÉç„ÇíÂÅúÊ≠¢„ÅóController„Åß„ÅØ„Å™„ÅÑ„Å®Ë™çË≠ò„Åï„Çå„Å¶„ÅÑ„Çã„Å´„ÇÇÈñ¢„Çè„Çâ„Åö„ÄÅÂÜç„Å≥„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å®„Å™„ÇäController„Å®„Åó„Å¶ÊåØ„ÇãËàû„ÅÜBroker„Åß„Åô„ÄÇ&lt;/p>
&lt;p>„Åì„ÅÆ‰∫ãË±°„ÅØÂÆπÊòì„Å´Ëµ∑„Åì„ÇäÂæó„Åæ„Åô„ÄÇ‰æã„Åà„Å∞‰∏ÄÊôÇÁöÑ„Å™&lt;a href="https://aphyr.com/posts/288-the-network-is-reliable" target="_blank" rel="noopener">„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„ÅÆÂàÜÊñ≠&lt;/a>„ÅåÁô∫Áîü„Åó„ÅüÂ†¥Âêà„ÇÑ„ÄÅÈùûÂ∏∏„Å´Èï∑„ÅÑGC Pause(Stop-the-World - ÂÖ®„Å¶„ÅÆÂá¶ÁêÜ„ÅåGC„ÅÆÂÆüË°åÂÆå‰∫Ü„Åæ„ÅßÂÅúÊ≠¢„Åï„Çå„Çã‰∫ãË±°)„ÅåÁô∫Áîü„Åó„ÅüÂ†¥Âêà„Å´„ÅØ„ÄÅCluster„ÅØ„Åù„ÅÆController Broker„ÅåÊó¢„Å´ÂÅúÊ≠¢„Åó„Åü„Å®Âà§Êñ≠„ÅóÂæó„Åæ„Åô„ÄÇÁâπ„Å´GC Pause„ÅÆÂ†¥Âêà„ÄÅController Broker„ÅÆË¶≥ÁÇπ„Åß„ÅØ‰Ωï‰∏Ä„Å§Â§â„Çè„Å£„Å¶„ÅÑ„Å™„ÅÑ„ÅÆ„Å´ÊôÇÈñì„ÅåÁµåÈÅé„Åó„Å¶„ÅÑ„ÇãÁä∂Ê≥Å„Å®„Å™„Çä„Åæ„Åô„ÄÇ„Åì„ÅÆÁÇ∫„ÄÅController„ÅåÊó¢„Å´ÈÅ∏Âá∫„Åï„Çå„ÅüÂæå„Å´‰ª•Ââç„ÅÆController„ÅåÂæ©Â∏∞„Åô„Çã„ÄÅÂàÜÊï£„Ç∑„Çπ„ÉÜ„É†„Å´„Åä„Åë„Çã&lt;a href="https://techthoughts.typepad.com/managing_computers/2007/10/split-brain-quo.html" target="_blank" rel="noopener">Split Brain&lt;/a>„ÅåÁô∫Áîü„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>‰æã„Å´Ê∫ñ„Åà„Å¶Ëß£Ë™¨„Åó„Åæ„Åô„ÄÇÁ®ºÂÉç‰∏≠„ÅÆController„ÅåÈï∑„ÅÑGC Pause„Å´Èô•„Å£„Åü„Å®„Åó„Åæ„Åô„ÄÇController„ÅÆZookeeper Session„ÅåÁÑ°ÂäπÂåñ„Åï„Çå„ÄÅ&lt;code>/controller&lt;/code>znode„ÅØÂâäÈô§„Åï„Çå„Åæ„Åô„ÄÇ„ÇØ„É©„Çπ„ÇøÂÜÖ„ÅÆ‰ªñ„ÅÆBroker„ÅØÈÄöÁü•„ÇíÂèó„Åë„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="Zombie Controller 1" srcset="
/community/media/blogs/kafka-controller-broker-explained/zombie-controller-1_hu23f36871d72aa03f5abf14da0a4f651a_28874_8234f76cd2ef1f4693fc46419d252975.webp 400w,
/community/media/blogs/kafka-controller-broker-explained/zombie-controller-1_hu23f36871d72aa03f5abf14da0a4f651a_28874_ccb5a50a39671ca10d8ef574dba2e1de.webp 760w,
/community/media/blogs/kafka-controller-broker-explained/zombie-controller-1_hu23f36871d72aa03f5abf14da0a4f651a_28874_1200x1200_fit_q75_h2_lanczos_2.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-controller-broker-explained/zombie-controller-1_hu23f36871d72aa03f5abf14da0a4f651a_28874_8234f76cd2ef1f4693fc46419d252975.webp"
width="760"
height="270"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;p>Controller„ÅÆ‰∏çÂú®Áä∂Ê≥Å„ÇíÂõûÈÅø„Åô„ÇãÁÇ∫„ÄÅÂÖ®„Å¶„ÅÆBroker„ÅåController„Å´„Å™„Çç„ÅÜ„Å®„Åó„Åæ„Åô„ÄÇ„Åì„ÅÆÂ†¥ÂêàBroker 2„ÅåÈÅ∏Âá∫„Åï„ÇåÊñ∞„Åü„Å™Controller„Å®„Åó„Å¶&lt;code>/controller&lt;/code>znode„Å´Ëá™Ë∫´„ÅåËøΩÂä†„Åï„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>ÂÖ®„Å¶„ÅÆBroker„ÅØ„Åì„ÅÆÊñ∞„Åü„Å™znode„Åå‰ΩúÊàê„Åï„Çå„ÄÅBroker 2„ÅåController„Åß„ÅÇ„ÇãÈÄöÁü•„ÇíÂèó„Åë„Åæ„Åô„ÄÇ„Åì„ÅÆÈöõ„Å´„ÇÇÂîØ‰∏ÄGC Pause‰∏≠„ÅÆBroker 3„Å†„Åë„ÅØ„Åì„ÅÆÈÄöÁü•„ÇíÂèó„Åë„Åæ„Åõ„Çì„ÄÇ„Å°„Å™„Åø„Å´„Åì„ÅÆÈÄöÁü•„ÅåBroker„Å´Âà∞ÈÅî„Åó„Å™„ÅÑÂèØËÉΩÊÄß„ÅØ‰ªñ„Å´„ÇÇ„ÅÇ„Çä„Åæ„Åô„ÄÇ„ÅÑ„Åö„Çå„Å´„Åõ„ÇàÊúÄÁµÇÁöÑ„Å´Broker 3„Å´„ÅØÊñ∞„Åü„Å™ControllerÈÅ∏Âá∫„ÅÆÈÄöÁü•„ÅåÂ±ä„Åç„Åæ„Åõ„Çì„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="Zombie Controller 2" srcset="
/community/media/blogs/kafka-controller-broker-explained/zombie-controller-2_hu1daff395d8979a57f29a46032a5f58e9_28108_355fbebd342800306f40cf9c793c54b6.webp 400w,
/community/media/blogs/kafka-controller-broker-explained/zombie-controller-2_hu1daff395d8979a57f29a46032a5f58e9_28108_303b8045fe641bf13886fe6278809932.webp 760w,
/community/media/blogs/kafka-controller-broker-explained/zombie-controller-2_hu1daff395d8979a57f29a46032a5f58e9_28108_1200x1200_fit_q75_h2_lanczos_2.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-controller-broker-explained/zombie-controller-2_hu1daff395d8979a57f29a46032a5f58e9_28108_355fbebd342800306f40cf9c793c54b6.webp"
width="760"
height="262"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;p>Broker 3„Åß„ÅÆGCÂá¶ÁêÜ„ÅåÂÆå‰∫Ü„ÅóÂæ©Â∏∞„Åó„ÅüÈöõ„ÄÅÊú™„Å†„Å´Ëá™Ë∫´„ÅåController„Å†„Å®Ë™çË≠ò„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="Zombie Controller 3" srcset="
/community/media/blogs/kafka-controller-broker-explained/zombie-controller-3_hu69d3de9c1c781c11547d8d4c73b1ae58_22958_9315415f925ce97da7a83dfc91d27d5d.webp 400w,
/community/media/blogs/kafka-controller-broker-explained/zombie-controller-3_hu69d3de9c1c781c11547d8d4c73b1ae58_22958_8650d61272f471ed9e32358aaa70c1d0.webp 760w,
/community/media/blogs/kafka-controller-broker-explained/zombie-controller-3_hu69d3de9c1c781c11547d8d4c73b1ae58_22958_1200x1200_fit_q75_h2_lanczos_2.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-controller-broker-explained/zombie-controller-3_hu69d3de9c1c781c11547d8d4c73b1ae58_22958_9315415f925ce97da7a83dfc91d27d5d.webp"
width="760"
height="129"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;p>ÁµêÊûú„Å®„Åó„Å¶2„Å§„ÅÆController„ÅåÁ®ºÂÉçÁä∂ÊÖã„Å®„Å™„Çä„ÄÅÁï∞„Å™„ÇãÊåáÁ§∫„Çí‰∏¶Ë°å„Åó„Å¶ÈÄÅ„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Åì„ÅÆÁä∂ÊÖã„ÅØ„ÇØ„É©„Çπ„Çø„ÅÆÁä∂ÊÖã„Å®„Åó„Å¶Ê•µ„ÇÅ„Å¶ÊÇ™„Åè„ÄÅÈÅ©Âàá„Å´ÂØæÂøú„Åó„Å™„Åë„Çå„Å∞ÈáçÂ§ß„Å™„Éá„Éº„Çø‰∏çÊï¥Âêà„ÇíËµ∑„Åì„ÅóÂæó„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„ÇÇ„ÅóBroker 2(Êñ∞„Åü„Å´ÈÅ∏Âá∫„Åï„Çå„ÅüController)„ÅåBroker 3„Åã„ÇâÊåáÁ§∫„ÇíÂèó„Åë„ÅüÂ†¥Âêà„ÄÅ„Åì„ÅÆBroker 3„ÅåÊñ∞„Åü„Å™Controller„Åß„ÅÇ„Çã„Å®„ÅÑ„ÅÜ‰øùË®º„ÅØÂèñ„Çå„Çã„ÅÆ„Åß„Åó„Çá„ÅÜ„ÅãÔºü„ÇÇ„Å°„Çç„ÇìBroker 2„ÇÇÂêåÊßò„Å´GC Pause„Å´Èô•„Å£„ÅüÂèØËÉΩÊÄß„ÇÇ„ÅÇ„Çä„ÄÅËá™ÂàÜËá™Ë∫´„ÇÇÊúÄÊñ∞„ÅÆController„Åß„ÅØ„Å™„ÅÑÂèØËÉΩÊÄß„ÇÇÂê¶ÂÆöÂá∫Êù•„Åæ„Åõ„Çì„ÄÇ&lt;/p>
&lt;p>‰Ωï„Åã„Åó„Çâ„ÅÆÊñπÊ≥ï„Åß„ÄÅ„Å©„ÅÆController„ÅåÊúÄÊñ∞„Åß„ÅÇ„ÇäÁèæÂú®Á®ºÂÉç„Åô„Åπ„ÅçController„Åß„ÅÇ„Çã„ÅÆ„Åã„ÇíÂÖ®Âì°„ÅåÂà§Êñ≠Âá∫Êù•„ÇãÊñπÊ≥ï„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ&lt;/p>
&lt;p>„Åù„ÅÆÊñπÊ≥ï„ÅØÊ•µ„ÇÅ„Å¶ÂçòÁ¥î„Å´„ÄÅepoch number&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>„ÅÆÂà©Áî®„Å´„Çà„ÇäËß£Ê±∫„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇepoch number„ÅØÂçòÁ¥î„Å´1„Åö„Å§Â¢óÂä†„Åô„ÇãËá™ÁÑ∂Êï∞„Åß„ÅÇ„Çä„ÄÅÂè§„ÅÑController„ÅÆepoch number„Åå1„ÅÆÂ†¥Âêà„ÄÅÊñ∞„Åü„Å´ÈÅ∏Âá∫„Åï„Çå„ÅüController„ÅÆepoch number„ÅØ2„Å´„Å™„Çä„Åæ„Åô„ÄÇBroker„ÅØÂçòÁ¥î„Å´„ÄÅÊúÄ„ÇÇÂ§ß„Åç„Å™epoch number„ÇíÊåÅ„Å§Controller„Åã„Çâ„ÅÆÊåáÁ§∫„Çí‰ø°„Åò„Çã‰∫ã„Å´„Çà„Çäsplit brain„ÇíÂõûÈÅøÂá∫Êù•„Åæ„Åô„ÄÇ„Åì„ÅÆepoch number„ÅØZookeeper„Å´‰øùÂÖ®„Åï„Çå„Åæ„Åô„ÄÇ(Zookeeper„ÅÆ&lt;a href="https://zookeeper.apache.org/doc/current/zookeeperInternals.html#sc_consistency" target="_blank" rel="noopener">Consistency Guarantee&lt;/a>„ÅÆÊ©üËÉΩ„ÇíÂà©Áî®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ)&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="Epoch Number" srcset="
/community/media/blogs/kafka-controller-broker-explained/epoch-number_hu0d56464ab7710eb0c72339108d848be9_45220_60f7d0456161f3cf7749b27aae0caeea.webp 400w,
/community/media/blogs/kafka-controller-broker-explained/epoch-number_hu0d56464ab7710eb0c72339108d848be9_45220_0f8ab2d515879d560894819d31dc3add.webp 760w,
/community/media/blogs/kafka-controller-broker-explained/epoch-number_hu0d56464ab7710eb0c72339108d848be9_45220_1200x1200_fit_q75_h2_lanczos_2.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-controller-broker-explained/epoch-number_hu0d56464ab7710eb0c72339108d848be9_45220_60f7d0456161f3cf7749b27aae0caeea.webp"
width="760"
height="288"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;p>Broker 1„ÅåÊúÄ„ÇÇÂ§ß„Åç„ÅÑ&lt;code>controllerEpoch&lt;/code>„ÇíZookeeper„Å´‰øùÂÖ®„Åô„Çã‰∫ã„Å´„Å™„Çä„ÄÅ„Åù„ÅÆ‰ªñÂÖ®„Å¶„ÅÆ„Çà„ÇäÂ∞è„Åï„Å™epoch number„ÇíÊåÅ„Å§Controller„Åã„Çâ„ÅÆÊåáÁ§∫„ÅØÁÑ°Ë¶ñ„Åï„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="„Åù„ÅÆ‰ªñ„ÅÆÂΩπÂâ≤">„Åù„ÅÆ‰ªñ„ÅÆÂΩπÂâ≤&lt;/h3>
&lt;p>Controller„Å´„ÅØ‰ªñ„Å´„ÇÇ„ÇÑ„ÇÑÂú∞Âë≥„Å™ÂΩπÂâ≤„ÇíÊãÖ„ÅÑ„Åæ„ÅôÔºö&lt;/p>
&lt;ul>
&lt;li>Êñ∞„Åó„ÅÑTopic„ÅÆ‰ΩúÊàê&lt;/li>
&lt;li>Êñ∞„Åó„ÅÑPartition„ÅÆ‰ΩúÊàê&lt;/li>
&lt;li>Topic„ÅÆÂâäÈô§&lt;/li>
&lt;/ul>
&lt;p>„Åì„Çå„ÇâÂá¶ÁêÜ„ÅØ„ÄÅ‰ª•Ââç„Å´„ÅØ„ÇÑ„ÇÑ‰π±Êö¥„Å™ÊñπÊ≥ï„Åß&lt;sup id="fnref:4">&lt;a href="#fn:4" class="footnote-ref" role="doc-noteref">4&lt;/a>&lt;/sup>Âá¶ÁêÜ„Åï„Çå„Å¶„ÅÑ„Åæ„Åó„Åü„Åå„ÄÅversion 0.11„Å®1.0„Åã„Çâ„ÅØController„Å∏„ÅÆ„É™„ÇØ„Ç®„Çπ„Éà„Å´„Å¶Âá¶ÁêÜ„Åô„ÇãÊñπÊ≥ï„Å´„Å®Â§âÊõ¥„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åì„ÅÆÊñπÊ≥ï„ÅØ&lt;a href="https://kafka.apache.org/documentation/#adminapi" target="_blank" rel="noopener">Admin Client API&lt;/a>„Å®„Åó„Å¶Êèê‰æõ„Åï„Çå„ÄÅKafka„ÇØ„É©„Çπ„Çø„Å∏„Ç¢„ÇØ„Çª„Çπ„Åô„Çã„Ç¢„Éó„É™„ÇÑÁÆ°ÁêÜËÄÖ„Å´„ÇÇÂÆπÊòì„Å´„Ç¢„ÇØ„Çª„Çπ„Åô„Çã„Åì„Å®„ÅåÂá∫Êù•„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="2 Minutes Streaming" srcset="
/community/media/blogs/kafka-acks-explained/two-minites-streaming_hue3ec6dcfa348a79b62ae3c8b92373579_136684_69bf0270813a154536ca6866d0eebe28.webp 400w,
/community/media/blogs/kafka-acks-explained/two-minites-streaming_hue3ec6dcfa348a79b62ae3c8b92373579_136684_9b81ef5fad55639d712bb44153e40131.webp 760w,
/community/media/blogs/kafka-acks-explained/two-minites-streaming_hue3ec6dcfa348a79b62ae3c8b92373579_136684_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/two-minites-streaming_hue3ec6dcfa348a79b62ae3c8b92373579_136684_69bf0270813a154536ca6866d0eebe28.webp"
width="760"
height="399"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
„Åì„ÅÆ„Ç®„É≥„Éà„É™„ÅÆËëóËÄÖ„Åß„ÅÇ„Çã&lt;a href="../../authors/stanislav/">Stanislav Kozlovski&lt;/a> „ÅØ&lt;a href="https://2minutestreaming.com/" target="_blank" rel="noopener">2 Minute Streaming&lt;/a>„Å®„ÅÑ„ÅÜKafka„Å´Èñ¢„Åô„ÇãÈöîÈÄ±„Éã„É•„Éº„Çπ„É¨„Çø„Éº„ÇíÁô∫Ë°å„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇÊòØÈùûË≥ºË™≠„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>(Ë®≥ËÄÖÊ≥®)„Åì„Çå„ÅØZookeeper„Çí„ÇØ„É©„Çπ„Çø„ÅÆ„É°„Çø„Éá„Éº„ÇøÁÆ°ÁêÜ„Å´Âà©Áî®„Åô„ÇãÂ†¥Âêà„ÅÆË©±„Åß„ÄÅ&lt;a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-595%3A&amp;#43;A&amp;#43;Raft&amp;#43;Protocol&amp;#43;for&amp;#43;the&amp;#43;Metadata&amp;#43;Quorum" target="_blank" rel="noopener">KRaft&lt;/a>„Å®Âëº„Å∞„Çå„ÇãRaft„Éô„Éº„Çπ„ÅÆ„Ç≥„É≥„Çª„É≥„Çµ„Çπ„É¢„Éá„É´„Åß„ÅØ3‰ª•‰∏ä„ÅÆController„ÅåÂ≠òÂú®„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>(Ë®≥ËÄÖÊ≥®)Kafka2.4„Çà„Çä„ÄÅÊúÄÂØÑ„Çä„ÅÆ„É¨„Éó„É™„Ç´„Åã„ÇâRead„Åô„Çã(&lt;a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-392%3A&amp;#43;Allow&amp;#43;consumers&amp;#43;to&amp;#43;fetch&amp;#43;from&amp;#43;closest&amp;#43;replica" target="_blank" rel="noopener">KIP-392&lt;/a>)Ê©üËÉΩ„ÅåÊèê‰æõ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>‚ÄùFencing Token&amp;quot;„Å®„ÇÇÂëº„Å∞„Çå„Åæ„Åô„ÄÇ&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:4">
&lt;p>Bash„Çπ„ÇØ„É™„Éó„Éà„Å´„Çà„Å£„Å¶Áõ¥Êé•Zookeeper„ÇíÊõ¥Êñ∞„ÅÆ‰∏ä„ÄÅController„ÇÑ„Åù„ÅÆ‰ªñBroker„Åå„Åù„ÅÆÂ§âÊõ¥„ÇíÂèó„ÅëÂèñ„Çã„ÅÆ„ÇíÂæÖ„Å§„ÄÅ„Å®„ÅÑ„ÅÜÂÆüË£Ö„Åß„Åó„Åü„ÄÇ&amp;#160;&lt;a href="#fnref:4" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Kafka AcksÂÜçÂÖ•ÈñÄ</title><link>https://confluent-jp.github.io/community/blog/kafka-acks-explained/</link><pubDate>Tue, 01 Aug 2023 00:00:00 +0000</pubDate><guid>https://confluent-jp.github.io/community/blog/kafka-acks-explained/</guid><description>&lt;blockquote>
&lt;p>„Åì„ÅÆ„Éñ„É≠„Ç∞„Ç®„É≥„Éà„É™„ÅØKafka„Ç≥„Éü„ÉÉ„Çø„Åß„ÅÇ„Çã Stanislav Kozlovski(&lt;a href="https://https://twitter.com/BdKozlovski" target="_blank" rel="noopener">ùïè&lt;/a>|&lt;a href="https://www.linkedin.com/in/stanislavkozlovski/" target="_blank" rel="noopener">Ln&lt;/a>) „ÅÆ„Çµ„Ç§„Éà„Åß2022/11/06„Å´ÂÖ¨Èñã„Åï„Çå„Åü&lt;a href="https://www.linkedin.com/pulse/kafka-acks-explained-stanislav-kozlovski/" target="_blank" rel="noopener">Kafka Acks Explained&lt;/a>„ÅÆÊó•Êú¨Ë™ûË®≥„Åß„Åô„ÄÇStanislavÊú¨‰∫∫„ÅÆ‰∫ÜÊâø„ÇíÂæó„Å¶ÁøªË®≥/ÂÖ¨Èñã„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;p>Kafka„Å´Èñ¢„Åô„Çã‰ªï‰∫ã„ÇíÂßã„ÇÅ„Å¶4Âπ¥„Å´„Å™„Çä„Åæ„Åô„Åå„ÄÅÁµåÈ®ì‰∏äÊú™„Å†„Å´2„Å§„ÅÆË®≠ÂÆö„Å´„Å§„ÅÑ„Å¶Â∫É„ÅèË™§Ëß£„Åï„Çå„Å¶„ÅÑ„Çã„Å®ÊÑü„Åò„Çã‰∫ã„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Åù„Çå„ÅØ&lt;code>acks&lt;/code>„Å®&lt;code>min.insync.replicas&lt;/code>„Åß„ÅÇ„Çä„ÄÅ„Åï„Çâ„Å´„ÅØ„Åì„ÅÆ2„Å§„ÅÆË®≠ÂÆö„Åå„Å©„ÅÜÂΩ±Èüø„ÅóÂêà„ÅÜ„Åã„Å´„Å§„ÅÑ„Å¶„Åß„Åô„ÄÇ„Åì„ÅÆ„Ç®„É≥„Éà„É™„ÅØ„Åì„ÅÆÈùûÂ∏∏„Å´ÈáçË¶Å„Å™2„Å§„ÅÆË™§Ëß£„ÇíËß£„Åç„ÄÅÈÅ©Âàá„Å´ÁêÜËß£„Åó„Å¶„ÇÇ„Çâ„ÅÜ‰∫ã„ÇíÁõÆÁöÑ„Å®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;h2 id="replication">Replication&lt;/h2>
&lt;p>„Åì„ÅÆ2„Å§„ÅÆË®≠ÂÆö„ÇíÁêÜËß£„Åô„Çã„Åü„ÇÅ„Å´„ÅØ„Åæ„ÅöKafka Replication„Éó„É≠„Éà„Ç≥„É´„Å´„Å§„ÅÑ„Å¶Â∞ë„Åó„Åä„Åï„Çâ„ÅÑ„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Åì„ÅÆ„Éñ„É≠„Ç∞„ÅÆË™≠ËÄÖ„ÅÆÁöÜ„Åï„Çì„ÅØ„ÅÇ„ÇãÁ®ãÂ∫¶Kafka„Å´„Å§„ÅÑ„Å¶„ÅîÂ≠òÁü•„Å†„Å®ÊÉ≥ÂÆö„Åó„Å¶„ÅÑ„Åæ„Åô - „ÇÇ„ÅóËá™‰ø°„Åå„Å™„ÅÑÂ†¥Âêà„ÅØ„Åú„Å≤&lt;a href="https://medium.com/hackernoon/thorough-introduction-to-apache-kafka-6fbf2989bbc1" target="_blank" rel="noopener">Thorough Introduction to Apache Kafka&lt;/a>„ÇÇ„ÅîÂèÇÁÖß„Åè„Å†„Åï„ÅÑ„ÄÇ&lt;/p>
&lt;p>ÂêÑPartition„Å´„ÅØ1„Å§„ÅÆLeader Broker(1)„Å®Ë§áÊï∞„ÅÆFollower Broker(N)„Åå„Ç¢„Çµ„Ç§„É≥„Åï„Çå„Åæ„Åô„ÄÇ„Åì„ÅÆË§áË£Ω„ÅÆÊï∞„ÅØ&lt;code>replication.factor&lt;/code>„ÅßË®≠ÂÆö„Åô„Çã‰∫ã„Åå„Åß„Åç(1+N)„Å§„Åæ„ÇäÁ∑èÊï∞„ÇíË°®„Åó„Åæ„Åô„ÄÇ„Å§„Åæ„Çä„Åì„ÅÆË®≠ÂÆö„Åß„ÅØ„ÄåÂØæË±°„Å®„Å™„ÇãPartition„Å´ÂØæ„Åó„Å¶„ÇØ„É©„Çπ„Çø‰∏ä„Åß‰ΩïÂÄã„ÅÆË§áË£Ω„ÅåÂá∫Êù•„Çã„Åã„Äç„ÇíÊåáÂÆö„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Éá„Éï„Ç©„É´„Éà„Åß„ÅÇ„ÇäÈÄöÂ∏∏Êé®Â•®„Åô„ÇãË®≠ÂÆöÂÄ§„ÅØ&lt;code>3&lt;/code>„Åß„Åô„ÄÇ
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="Replication Factor" srcset="
/community/media/blogs/kafka-acks-explained/replication-factor_hu30e3aabf839789c5bf75a3316f94b6c4_21497_0d1ca0052156cf2b9740e68dcdd4c65a.webp 400w,
/community/media/blogs/kafka-acks-explained/replication-factor_hu30e3aabf839789c5bf75a3316f94b6c4_21497_f54bf205681a70abfa295c3277922d09.webp 760w,
/community/media/blogs/kafka-acks-explained/replication-factor_hu30e3aabf839789c5bf75a3316f94b6c4_21497_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/replication-factor_hu30e3aabf839789c5bf75a3316f94b6c4_21497_0d1ca0052156cf2b9740e68dcdd4c65a.webp"
width="760"
height="203"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
Producer„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅØLeader Broker„Å´„ÅÆ„ÅøÊõ∏„ÅçËæº„Åø„Å´Ë°å„Åç„Åæ„Åô - „Å§„Åæ„ÇäFollower Broker„Å∏„ÅÆ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅØÈùûÂêåÊúü„Å´Ë°å„Çè„Çå„Åæ„Åô„ÄÇ„Åì„Åì„ÅßÂàÜÊï£„Ç∑„Çπ„ÉÜ„É†„Å®„Åó„Å¶ËÄÉÊÖÆ„Åó„Å™„ÅÑ„Å®„ÅÑ„Åë„Å™„ÅÑ„ÅÆ„ÅØ„ÄÅ‰Ωï„Åã„Åó„Çâ„ÅÆÊñπÊ≥ï„Åß„Äå„Åì„Çå„Çâ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Åï„Çå„ÇãÂá¶ÁêÜ„Åå„Å©„ÅÆ„Çà„ÅÜ„Å´Leader„Å´ËøΩÂæì„Åô„Åπ„Åç„Åã„Äç„ÇíÊåáÂÆö„Åô„ÇãÊñπÊ≥ï„Åß„Åô„ÄÇÂÖ∑‰ΩìÁöÑ„Å´„ÅØ„ÄåLeader„Å´Êõ∏„ÅçËæº„Åæ„Çå„ÅüÊõ¥Êñ∞„ÅåFollower„Å´„ÇÇÂèçÊò†„Åï„Çå„Å¶„ÅÑ„Çã„ÅãÂê¶„Åã„Äç„Åß„Åô„ÄÇ&lt;/p>
&lt;h2 id="in-sync-replicas">In-Sync Replicas&lt;/h2>
&lt;p>in-sync replica(ISR)„ÅØÂØæË±°Partition„ÅÆÊúÄÊñ∞Áä∂ÊÖã„Å®ÂêåÊúü„ÅåÂèñ„Çå„Å¶„ÅÑ„ÇãBroker„ÇíÊåá„Åó„Åæ„Åô„ÄÇÂΩìÁÑ∂Leader„ÅØÂ∏∏„Å´ISR„Å®„Å™„Çä„ÄÅFollower„ÅÆÂ†¥Âêà„ÅØLeader„ÅÆÊõ¥Êñ∞„Å´ËøΩ„ÅÑ‰ªò„ÅçÂêåÊúü„ÅåÂèñ„Çå„ÅüÁä∂ÊÖã„ÅÆ„ÇÇ„ÅÆ„ÅÆ„ÅøISR„Å®„Å™„Çä„Åæ„Åô„ÄÇ‰ªÆ„Å´Follower„ÅåLeader„Å´ËøΩÂæì„Åß„Åç„Å™„Åè„Å™„Å£„ÅüÂ†¥Âêà„ÄÅ„Åù„ÅÆFollower„ÅØISR„Åß„ÅØ„Å™„Åè„Å™„Çä„Åæ„Åô„ÄÇ
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="In-Sync Replicas" srcset="
/community/media/blogs/kafka-acks-explained/in-sync-replicas_hu976122a385339436764fa5a7b293f0d1_30553_fce72e1100ff5fc9564552f1283799b8.webp 400w,
/community/media/blogs/kafka-acks-explained/in-sync-replicas_hu976122a385339436764fa5a7b293f0d1_30553_53b76570ba3a381743ccf6f03feacf22.webp 760w,
/community/media/blogs/kafka-acks-explained/in-sync-replicas_hu976122a385339436764fa5a7b293f0d1_30553_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/in-sync-replicas_hu976122a385339436764fa5a7b293f0d1_30553_fce72e1100ff5fc9564552f1283799b8.webp"
width="760"
height="247"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
‰∏ä„ÅÆÂõ≥„Åß„ÅØBroker 3„ÅØÂêåÊúü„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑ„ÅÆ„ÅßISR„Åß„ÅØ„Å™„ÅÑ„ÄÅ„Å§„Åæ„Çäout-of-sync„Å®„Å™„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Å°„Å™„Åø„Å´„ÄÅÂé≥ÂØÜ„Å´„ÅØISR„ÅãÂê¶„Åã„Å®„ÅÑ„ÅÜÂà§Êñ≠„ÅØ„ÇÇ„ÅÜÂ∞ë„ÅóË§áÈõë„Åß„ÄÅ„Åì„Åì„ÅßË™¨Êòé„Åï„Çå„Å¶„ÅÑ„Çã„Çà„ÅÜ„Å´„Åô„Çì„Å™„Çä„Äå„Åì„ÅÆFollower„ÅØÊúÄÊñ∞„ÅÆÁä∂ÊÖã„Åã„Äç„Å®Âà§Êñ≠Âá∫Êù•„ÇãË®≥„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„Åü„Å†Âé≥ÂØÜ„Å™Ë©±„Çí„ÅóÂßã„ÇÅ„Çã„Å®„Åì„ÅÆ„Ç®„É≥„Éà„É™„ÅÆ‰∏ªÊó®„Åã„ÇâÂ§ñ„Çå„Çã„ÅÆ„Åß„ÄÅ„Åì„Åì„Åß„ÅØ‰∏ä„ÅÆÂõ≥„Å´„ÅÇ„ÇãËµ§„ÅÑBroker„ÅØÂêåÊúü„ÅåÂèñ„Çå„Å¶„ÅÑ„Å™„ÅÑ„Å®„ÄÅË¶ã„Åü„Åæ„ÅæÊçâ„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ&lt;/p>
&lt;h2 id="acks">Acks&lt;/h2>
&lt;p>Acks„ÅØ„ÇØ„É©„Ç§„Ç¢„É≥„Éà (Producer) ÂÅ¥„ÅÆË®≠ÂÆö„Åß„ÄÅ„Äå„Å©„Åì„Åæ„ÅßFollow„ÇíÂê´„ÇÅ„Å¶Êõ∏„ÅçËæº„Åø„ÅÆÁ¢∫Ë™ç„ÅåÂèñ„Çå„Å¶„Åã„Çâ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Å´ËøîÁ≠î„Åô„Çã„Åã„Äç„ÇíÊåáÂÆö„Åô„Çã„ÇÇ„ÅÆ„Åß„Åô„ÄÇÊúâÂäπ„Å™ÂÄ§„ÅØ&lt;code>0&lt;/code>„ÄÅ&lt;code>1&lt;/code>„ÄÅ„Åù„Åó„Å¶&lt;code>all&lt;/code>„ÅÆ3„Å§„Åß„Åô„ÄÇ&lt;/p>
&lt;h3 id="acks0">acks=0&lt;/h3>
&lt;p>&lt;code>0&lt;/code>„ÅåË®≠ÂÆö„Åï„Çå„ÅüÂ†¥Âêà„ÄÅ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅØBroker„Åæ„ÅßÂà∞ÈÅî„Åó„Åü„Åã„ÅÆÁ¢∫Ë™ç„Åï„ÅàË°å„ÅÑ„Åæ„Åõ„Çì - „É°„ÉÉ„Çª„Éº„Ç∏„ÅåKafka Broker„Å´ÂØæ„Åó„Å¶ÈÄÅ„Çâ„Çå„Åü„Çø„Ç§„Éü„É≥„Ç∞„Åßack„ÇíËøî„Åó„Åæ„Åô„ÄÇ
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="acks=0" srcset="
/community/media/blogs/kafka-acks-explained/ack-0_hu0550e2dc4172b509b74ba25178351429_24893_3c44fb1f740910333022481170b7baae.webp 400w,
/community/media/blogs/kafka-acks-explained/ack-0_hu0550e2dc4172b509b74ba25178351429_24893_882b78cb72dd80307fdacbd72dcd1221.webp 760w,
/community/media/blogs/kafka-acks-explained/ack-0_hu0550e2dc4172b509b74ba25178351429_24893_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/ack-0_hu0550e2dc4172b509b74ba25178351429_24893_3c44fb1f740910333022481170b7baae.webp"
width="760"
height="201"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
ack„Å®Âëº„Å≥„Åæ„Åô„ÅåBroker„Åã„Çâ„ÅÆËøîÁ≠î„Åï„ÅàÂæÖ„Å°„Åæ„Åõ„Çì„ÄÇÈÄÅ„Çå„Åü„ÇâOK„Åß„Åô„ÄÇ&lt;/p>
&lt;h3 id="acks1">acks=1&lt;/h3>
&lt;p>&lt;code>1&lt;/code>„ÅåË®≠ÂÆö„Åï„Çå„ÅüÂ†¥Âêà„ÄÅ„ÇØ„É©„Ç§„Ç¢„É≥„Éà (Producer) „ÅØLeader„Å´„Åæ„Åß„É°„ÉÉ„Çª„Éº„Ç∏„ÅåÂà∞ÈÅî„Åó„ÅüÊôÇÁÇπ„ÅßÊõ∏„ÅçËæº„Åø„ÅÆÂÆå‰∫Ü„Å®Âà§Êñ≠„Åó„Åæ„Åô„ÄÇLeader Broker„ÅØ„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂèó„ÅëÂèñ„Å£„ÅüÊôÇÁÇπ„Åß„É¨„Çπ„Éù„É≥„Çπ„ÇíËøî„Åó„Åæ„Åô„ÄÇ
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="acks=0" srcset="
/community/media/blogs/kafka-acks-explained/ack-1_hufbb81d13ec3e2d13fe50ef9ee9b16565_25528_3111a28552f0a098342a58fa79fec9da.webp 400w,
/community/media/blogs/kafka-acks-explained/ack-1_hufbb81d13ec3e2d13fe50ef9ee9b16565_25528_e9144a72afa66fafd760c8736f931a9e.webp 760w,
/community/media/blogs/kafka-acks-explained/ack-1_hufbb81d13ec3e2d13fe50ef9ee9b16565_25528_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/ack-1_hufbb81d13ec3e2d13fe50ef9ee9b16565_25528_3111a28552f0a098342a58fa79fec9da.webp"
width="760"
height="201"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅØ„É¨„Çπ„Éù„É≥„Çπ„ÅåËøî„Å£„Å¶„Åè„Çã„ÅÆ„ÇíÂæÖ„Å°„Åæ„Åô„ÄÇLeader„Åã„Çâ„ÅÆËøîÁ≠î„ÅåÂà∞ÁùÄ„Åó„ÅüÊôÇÁÇπ„ÅßÂÆå‰∫Ü„Å®Âà§Êñ≠„Åóack„Å®„Åó„Åæ„Åô„ÄÇLeader„ÅØÂèó„ÅëÂèñ„ÇäÊ¨°Á¨¨„É¨„Çπ„Éù„É≥„Çπ„ÇíËøî„Åô„ÅÆ„Åß„ÄÅFollower„Å∏„ÅÆ„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅØ„É¨„Çπ„Éù„É≥„Çπ„Å®„ÅØÈùûÂêåÊúü„Å´Âá¶ÁêÜ„Åï„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="acksall">acks=all&lt;/h3>
&lt;p>&lt;code>all&lt;/code>„Å®Ë®≠ÂÆö„Åï„Çå„ÅüÂ†¥Âêà„ÄÅ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅØÂÖ®„Å¶„ÅÆISR„Å´„É°„ÉÉ„Çª„Éº„Ç∏„ÅåÂà∞ÈÅî„Åó„ÅüÊôÇÁÇπ„ÅßÊõ∏„ÅçËæº„Åø„ÅÆÂÆå‰∫Ü„Å®Âà§Êñ≠„Åó„Åæ„Åô„ÄÇ„Åì„ÅÆÈöõLeader Broker„ÅåKafkaÂÅ¥„ÅÆÊõ∏„ÅçËæº„ÅøÂà§ÂÆö„ÇíË°å„Å™„Å£„Å¶„Åä„Çä„ÄÅÂÖ®„Å¶„ÅÆISR„Å∏„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏Âà∞ÈÅî„ÅÆ‰∏ä„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Å´„É¨„Çπ„Éù„É≥„Çπ„ÇíËøî„Åó„Åæ„Åô„ÄÇ
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="acks=all incomplete" srcset="
/community/media/blogs/kafka-acks-explained/ack-all_hubb3072fc779981dffa72d32676766abf_24119_c0ae40d167ec22fd1a697d124a14ea8d.webp 400w,
/community/media/blogs/kafka-acks-explained/ack-all_hubb3072fc779981dffa72d32676766abf_24119_d7dcaf69c8cd6d40de1b4c5fa07bce88.webp 760w,
/community/media/blogs/kafka-acks-explained/ack-all_hubb3072fc779981dffa72d32676766abf_24119_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/ack-all_hubb3072fc779981dffa72d32676766abf_24119_c0ae40d167ec22fd1a697d124a14ea8d.webp"
width="760"
height="201"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
‰∏ä„ÅÆÂõ≥„ÅÆÁä∂ÊÖã„Åß„ÅØBroker 3„ÅØ„Åæ„Å†„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂèó„ÅëÂèñ„Å£„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ„Åì„ÅÆÁÇ∫Leader„ÅØ„É¨„Çπ„Éù„É≥„Çπ„ÇíËøî„Åó„Åæ„Åõ„Çì„ÄÇ
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="acks=all completed" srcset="
/community/media/blogs/kafka-acks-explained/acs-all-completed_hu40e2b48bcec98f93fca3863ace2b1192_26398_516f5fcece0585c45a349a2c530fc785.webp 400w,
/community/media/blogs/kafka-acks-explained/acs-all-completed_hu40e2b48bcec98f93fca3863ace2b1192_26398_95c6e832fba07495adfbb75a5b8d0104.webp 760w,
/community/media/blogs/kafka-acks-explained/acs-all-completed_hu40e2b48bcec98f93fca3863ace2b1192_26398_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/acs-all-completed_hu40e2b48bcec98f93fca3863ace2b1192_26398_516f5fcece0585c45a349a2c530fc785.webp"
width="760"
height="201"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
ÂÖ®„Å¶„ÅÆISR„Å´Ê∏°„Å£„Å¶Âàù„ÇÅ„Å¶„É¨„Çπ„Éù„É≥„Çπ„ÅåËøî„Åï„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="acks„ÅÆÊ©üËÉΩÊÄß">acks„ÅÆÊ©üËÉΩÊÄß&lt;/h3>
&lt;p>„Åì„ÅÆÈÄö„Çäacks„ÅØ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„Å®„Éá„Éº„ÇøÊ¨†ÊêçËÄêÊÄß„ÅÆ„Éê„É©„É≥„Çπ„ÇíÊ±∫„ÇÅ„ÇãÈùûÂ∏∏„Å´ÊúâÁõä„Å™Ë®≠ÂÆö„Åß„Åô„ÄÇ„Éá„Éº„Çø‰øùÂÖ®„ÇíÂÑ™ÂÖà„Åô„Çã„ÅÆ„Åß„ÅÇ„Çå„Å∞&lt;code>acks=all&lt;/code>„ÅÆË®≠ÂÆö„ÅåÈÅ©Âàá„Åß„Åô„ÄÇ&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup> ‰∏ÄÊñπ„É¨„Ç§„ÉÜ„É≥„Ç∑„ÇÑ„Çπ„É´„Éº„Éó„ÉÉ„Éà„Å´Èñ¢„Åô„ÇãË¶Å‰ª∂„ÅåÊ•µ„ÇÅ„Å¶È´ò„ÅÑÂ†¥Âêà„Å´„ÅØ&lt;code>0&lt;/code>„Å´Ë®≠ÂÆö„Åô„Çå„Å∞ÊúÄ„ÇÇÂäπÁéá„ÅåËâØ„Åè„Å™„Çä„Åæ„Åô„Åå„ÄÅÂêåÊôÇ„Å´„É°„ÉÉ„Çª„Éº„Ç∏„É≠„Çπ„ÅÆÂèØËÉΩÊÄß„ÅØÈ´ò„Åæ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;h2 id="minimum-in-sync-replicas">Minimum In-Sync Replicas&lt;/h2>
&lt;p>&lt;code>acks=all&lt;/code>„ÅÆË®≠ÂÆö„Å´Èñ¢„Åó„Å¶„ÄÅ„ÇÇ„ÅÜ‰∏Ä„Å§ÈáçË¶Å„Å™Ë¶ÅÁ¥†„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>‰æã„Åà„Å∞Leader„ÅåÂÖ®„Å¶„ÅÆISR„Å∏„ÅÆÊõ∏„ÅçËæº„ÅøÂÆå‰∫Ü„Åó„Åü‰∏ä„Åß„É¨„Çπ„Éù„É≥„Çπ„ÇíËøî„Åô„Å®„Åó„Å¶„ÄÅLeader„ÅÆ„Åø„ÅåISR„Å†„Å£„ÅüÂ†¥Âêà„ÄÅÁµêÊûú„Å®„Åó„Å¶&lt;code>acks=1&lt;/code>„Å®ÊåØ„ÇãËàû„ÅÑ„ÅØÂêå„Åò„Å®„Å™„Çã„ÅÆ„Åß„Åó„Çá„ÅÜ„ÅãÔºü&lt;/p>
&lt;p>„Åì„Åì„Åß&lt;code>min.insync.replicas&lt;/code>„ÅÆË®≠ÂÆö„ÅåÈáçË¶Å„Å´„Å™„Çä„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>&lt;code>min.insync.replicas&lt;/code>„Å®„ÅÑ„ÅÜBrokerÂÅ¥„ÅÆË®≠ÂÆö„ÅØ„ÄÅ&lt;code>acks=all&lt;/code>„ÅÆÈöõ„Å´„ÄåÊúÄ‰Ωé„ÅÑ„Åè„Å§„ÅÆISR„Å®„Å™„Å£„Å¶„ÅÑ„Çã„Åã (Leader„ÇíÂê´„ÇÅ„Å¶Âπæ„Å§„ÅÆ„É¨„Éó„É™„Ç´„ÅåÊúÄÊñ∞Áä∂ÊÖã„Åã) „ÇíÊåáÂÆö„Åô„Çã„ÇÇ„ÅÆ„Åß„Åô„ÄÇ„Å§„Åæ„ÇäLeader„ÅØ„ÄÅ&lt;code>acks=all&lt;/code>„ÅÆ„É™„ÇØ„Ç®„Çπ„Éà„Å´ÂØæ„Åó„Å¶ÊåáÂÆö„Åï„Çå„ÅüISR„Å´Ê∫Ä„Åü„Å™„ÅÑ„Åæ„Åß„ÅØËøîÁ≠î„Åõ„Åö„ÄÅ„Åæ„Åü„Åù„Çå„Åå‰Ωï„Åã„Åó„Çâ„ÅÆÁêÜÁî±„ÅßÈÅîÊàê„Åß„Åç„Å™„ÅÑÂ†¥Âêà„Å´„ÅØ„Ç®„É©„Éº„ÇíËøî„Åó„Åæ„Åô„ÄÇ„Éá„Éº„Çø‰øùÂÖ®Ë¶≥ÁÇπ„Åß„ÅÆ„Ç≤„Éº„Éà„Ç≠„Éº„Éê„Éº„ÅÆÊßò„Å™ÂΩπÂâ≤„ÇíÊûú„Åü„Åó„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="acks=all and ISR=2" srcset="
/community/media/blogs/kafka-acks-explained/acks-all-isr-2_hub8eff15aeeef74355ae44643b51e51f5_28460_c68b5a3947a2b0f20bf8ea75ce7a2101.webp 400w,
/community/media/blogs/kafka-acks-explained/acks-all-isr-2_hub8eff15aeeef74355ae44643b51e51f5_28460_249c85c3d6a5b99c5af7bf892f6e56ab.webp 760w,
/community/media/blogs/kafka-acks-explained/acks-all-isr-2_hub8eff15aeeef74355ae44643b51e51f5_28460_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/acks-all-isr-2_hub8eff15aeeef74355ae44643b51e51f5_28460_c68b5a3947a2b0f20bf8ea75ce7a2101.webp"
width="760"
height="201"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
‰∏äË®ò„ÅÆÁä∂ÊÖã„Å†„Å®Broker 3„ÅØÂêåÊúü„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑÁä∂ÊÖã„Åß„Åô„ÄÇ„Åó„Åã„Åó„Å™„Åå„Çâ&lt;code>min.insync.replicas=2&lt;/code>„Å®„Å™„Å£„Å¶„ÅÑ„ÇãÂ†¥Âêà„Å´„ÅØÊù°‰ª∂„ÇíÊ∫Ä„Åü„ÅôÁÇ∫„Åì„ÅÆÊôÇÁÇπ„Åß„É¨„Çπ„Éù„É≥„Çπ„ÅåËøî„Åï„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="acks=all and ISR below min.insync.replicas" srcset="
/community/media/blogs/kafka-acks-explained/ack-all-error_hu2fd9c2a4aa3141a871510012387c44d9_34884_49566929a4d489d75f27fe22a6bcec7c.webp 400w,
/community/media/blogs/kafka-acks-explained/ack-all-error_hu2fd9c2a4aa3141a871510012387c44d9_34884_924c01716b6e3c2021b34f2f98f42045.webp 760w,
/community/media/blogs/kafka-acks-explained/ack-all-error_hu2fd9c2a4aa3141a871510012387c44d9_34884_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/ack-all-error_hu2fd9c2a4aa3141a871510012387c44d9_34884_49566929a4d489d75f27fe22a6bcec7c.webp"
width="760"
height="192"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
Broker 2„Å®3„ÅåÂêåÊúü„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑÁä∂ÊÖã„Åß„Åô„ÄÇ„Åì„ÅÆÂ†¥ÂêàÊåáÂÆö„Åï„Çå„Åü&lt;code>min.insync.replicas&lt;/code>„Çí‰∏ãÂõû„Çã„Åü„ÇÅLeader„Åã„Çâ„ÅØ„Ç®„É©„Éº„É¨„Çπ„Éù„É≥„Çπ„ÅåËøî„Çã„ÄÅ„Å§„Åæ„ÇäÊõ∏„ÅçËæº„Åø„ÅØÂ§±Êïó„Åó„Åæ„Åô„ÄÇ‰∏ÄÊñπÂêå„ÅòÁä∂Ê≥Å„Åß„ÅÇ„Å£„Å¶„ÇÇ&lt;code>acks&lt;/code>„ÅÆË®≠ÂÆö„Åå&lt;code>0&lt;/code>„ÇÇ„Åó„Åè„ÅØ&lt;code>1&lt;/code>„ÅÆÂ†¥Âêà„Å´„ÅØÊ≠£Â∏∏„Å™„É¨„Çπ„Éù„É≥„Çπ„ÅåËøî„Åï„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;h3 id="Ê≥®ÊÑèÁÇπ">Ê≥®ÊÑèÁÇπ&lt;/h3>
&lt;p>‰∏ÄËà¨ÁöÑ„Å´&lt;code>min.insync.replicas&lt;/code>„ÅØ„ÄåLeader„Åå„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Å´ËøîÁ≠î„Åô„ÇãÈöõ„Å´„ÄÅ„Å©„Çå„Å†„Åë„É¨„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅåÂÆå‰∫Ü„Åó„Å¶„ÅÑ„Çã„Åã„ÇíÊåáÂÆö„Åô„Çã„Äç„Å®Ëß£Èáà„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„Åå„ÄÅ„Åì„Çå„ÅØË™§„Çä„Åß„Åô„ÄÇÊ≠£Á¢∫„Å´„ÅØ„Äå„É™„ÇØ„Ç®„Çπ„Éà„ÇíÂá¶ÁêÜ„Åô„ÇãÁÇ∫„Å´ÊúÄ‰Ωé„ÅÑ„Åè„Å§„ÅÆ„É¨„Éó„É™„Ç´„ÅåÂ≠òÂú®„Åô„Çã„Åã„Äç„ÇíÊåáÂÆö„Åô„ÇãË®≠ÂÆö„Åß„Åô„ÄÇ
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="acks=all incomplete" srcset="
/community/media/blogs/kafka-acks-explained/ack-all_hubb3072fc779981dffa72d32676766abf_24119_c0ae40d167ec22fd1a697d124a14ea8d.webp 400w,
/community/media/blogs/kafka-acks-explained/ack-all_hubb3072fc779981dffa72d32676766abf_24119_d7dcaf69c8cd6d40de1b4c5fa07bce88.webp 760w,
/community/media/blogs/kafka-acks-explained/ack-all_hubb3072fc779981dffa72d32676766abf_24119_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/ack-all_hubb3072fc779981dffa72d32676766abf_24119_c0ae40d167ec22fd1a697d124a14ea8d.webp"
width="760"
height="201"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
‰∏äË®ò„ÅÆÂ†¥Âêà„ÄÅBroker 1„Åã„Çâ3„Åæ„Åß„ÅåÂÖ®„Å¶ÂêåÊúüÁä∂ÊÖã„Åß„Åô„ÄÇ„Åì„ÅÆÊôÇ„Å´Êñ∞„Åü„Å™„É™„ÇØ„Ç®„Çπ„Éà („Åì„Åì„Åß„ÅØ„É°„ÉÉ„Çª„Éº„Ç∏&lt;code>6&lt;/code>) „ÇíÂèó„ÅëÂèñ„Å£„ÅüÂ†¥Âêà„ÄÅBroker 2„Å∏„ÅÆÂêåÊúü„ÅåÂÆå‰∫Ü„Åó„Å¶„ÇÇ„É¨„Çπ„Éù„É≥„Çπ„ÅØËøî„Åó„Åæ„Åõ„Çì„ÄÇ„Åì„ÅÆÂ†¥Âêà„ÄÅÂá¶ÁêÜÊôÇ„Å´ISR„Å®„Å™„Å£„Å¶„ÅÑ„ÇãBroker 3„Å∏„ÅÆÂêåÊúü„ÅåÂÆå‰∫Ü„Åó„Å¶Âàù„ÇÅ„Å¶„É¨„Çπ„Éù„É≥„Çπ„ÅåËøî„Åï„Çå„Åæ„Åô„ÄÇ&lt;/p>
&lt;h2 id="„Åæ„Å®„ÇÅ">„Åæ„Å®„ÇÅ&lt;/h2>
&lt;p>Âõ≥„ÅßË™¨Êòé„Åó„Åü„Åì„Å®„Å´„Çà„Å£„Å¶ÁêÜËß£„ÅåÊ∑±„Åæ„Å£„Åü„ÅÆ„Åß„ÅØ„Å™„ÅÑ„Åã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ&lt;/p>
&lt;p>„Åä„Åï„Çâ„ÅÑ„Åô„Çã„Å®„ÄÅ&lt;code>acks&lt;/code>„Å®&lt;code>min.insync.replicas&lt;/code>„ÅØKafka„Å∏„ÅÆÊõ∏„ÅçËæº„Åø„Å´„Åä„Åë„ÇãÊ¨†Êêç‰ΩìÂà∂„ÇíÊåáÂÆö„Åô„Çã‰∫ã„Åå„Åß„Åç„Åæ„Åô„ÄÇ&lt;/p>
&lt;ul>
&lt;li>&lt;code>acks=0&lt;/code> - Êõ∏„ÅçËæº„Åø„ÅØ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅåLeader„Å´„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÈÄÅ„Å£„ÅüÊôÇÁÇπ„ÅßÊàêÂäü„Å®„Åø„Å™„Åó„Åæ„Åô„ÄÇLeader„Åã„Çâ„ÅÆ„É¨„Çπ„Éù„É≥„Çπ„ÇíÂæÖ„Å§„Åì„Å®„ÅØ„Åó„Åæ„Åõ„Çì„ÄÇ&lt;/li>
&lt;li>&lt;code>acks=1&lt;/code> - Êõ∏„ÅçËæº„Åø„ÅØLeader„Å∏„ÅÆÊõ∏„ÅçËæº„Åø„ÅåÂÆå‰∫Ü„Åó„ÅüÊôÇÁÇπ„ÅßÊàêÂäü„Å®„Åø„Å™„Åó„Åæ„Åô„ÄÇ&lt;/li>
&lt;li>&lt;code>acks=all&lt;/code> - Êõ∏„ÅçËæº„Åø„ÅØISRÂÖ®„Å¶„Å∏„ÅÆÊõ∏„ÅçËæº„Åø„ÅåÂÆå‰∫Ü„Åó„ÅüÊôÇÁÇπ„ÅßÊàêÂäü„Å®„Åø„Å™„Åó„Åæ„Åô„ÄÇISR„Åå&lt;code>min.insync.replicas&lt;/code>„Çí‰∏ãÂõû„ÇãÂ†¥Âêà„Å´„ÅØÂá¶ÁêÜ„Åï„Çå„Åæ„Åõ„Çì„ÄÇ&lt;/li>
&lt;/ul>
&lt;h3 id="„Åù„ÅÆ‰ªñÊÉÖÂ†±">„Åù„ÅÆ‰ªñÊÉÖÂ†±&lt;/h3>
&lt;p>Kafka„ÅØË§áÈõë„Å™ÂàÜÊï£„Ç∑„Çπ„ÉÜ„É†„Åß„ÅÇ„Çä„ÄÅÂ≠¶„Å∞„Å™„Åë„Çå„Å∞„ÅÑ„Åë„Å™„ÅÑ‰∫ã„ÅåÂ§ö„ÅÑ„ÅÆ„ÇÇ‰∫ãÂÆü„Åß„Åô„ÄÇKafka„ÅÆ‰ªñ„ÅÆÈáçË¶Å„Å™Ë¶ÅÁ¥†„Å´„Å§„ÅÑ„Å¶„ÅØ‰ª•‰∏ã„ÇÇÂèÇËÄÉ„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.confluent.io/blog/apache-kafka-data-access-semantics-consumers-and-membership/" target="_blank" rel="noopener">Kafka consumer data-access semantics&lt;/a> - „ÇØ„É©„Ç§„Ç¢„É≥„Éà (Consumer) „Å´„Åä„Åë„ÇãÊ¨†ÊêçËÄêÊÄß„ÄÅÂèØÁî®ÊÄß„ÄÅ„Éá„Éº„ÇøÊï¥ÂêàÊÄß„ÅÆÁ¢∫‰øù„Å´Èñ¢„Çè„ÇãË©≥Á¥∞„ÄÇ&lt;/li>
&lt;li>&lt;a href="https://medium.com/@stanislavkozlovski/apache-kafkas-distributed-system-firefighter-the-controller-broker-1afca1eae302" target="_blank" rel="noopener">Kafka controller&lt;/a> - BrokerÈñì„ÅÆÈÄ£Êê∫„Åå„Å©„ÅÆÊßò„Å´„Å™„Åï„Çå„Çã„ÅÆ„Åã„ÅÆË©≥Á¥∞„ÄÇÁâπ„Å´„É¨„Éó„É™„Ç´„ÅåÈùûÂêåÊúü (Out-of-Sync) „Å®„Å™„Çã„ÅÆ„ÅØ„Å©„ÅÜ„ÅÑ„ÅÜÊù°‰ª∂‰∏ã„Åã„Å´„Å§„ÅÑ„Å¶Ë™¨Êòé„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ&lt;/li>
&lt;li>&lt;a href="https://www.confluent.io/blog/configure-kafka-to-minimize-latency/" target="_blank" rel="noopener">‚Äú99th Percentile Latency at Scale with Apache Kafka&lt;/a> - Kafka„ÅÆ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„Å´Èñ¢„Åô„ÇãConfluent Blog„Ç®„É≥„Éà„É™„ÄÇ&lt;/li>
&lt;li>&lt;a href="https://www.confluent.io/resources/kafka-summit-san-francisco-2019/" target="_blank" rel="noopener">Kafka Summit SF 2019 videos&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.confluent.io/blog/" target="_blank" rel="noopener">Confluent blog&lt;/a> - Kafka„Å´Èñ¢„Åô„ÇãÊßò„ÄÖ„Å™„Éà„Éî„ÉÉ„ÇØ„ÇíÁ∂≤ÁæÖ„ÄÇ&lt;/li>
&lt;li>&lt;a href="https://kafka.apache.org/documentation/" target="_blank" rel="noopener">Kafka documentation&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Kafka„ÅØÁ∂ôÁ∂öÁöÑ„Åã„Å§„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å´ÈñãÁô∫„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„Åå„ÄÅÊ©üËÉΩËøΩÂä†„ÇÑÊîπÂñÑ„ÅØÊ¥ªÁô∫„Å™„Ç≥„Éü„É•„Éã„ÉÜ„Ç£„Å´„Çà„ÇäÊîØ„Åà„Çâ„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇÈñãÁô∫„ÅÆÊúÄÂâçÁ∑ö„Åß‰Ωï„ÅåËµ∑„Åì„Å£„Å¶„ÅÑ„Çã„ÅãËààÂë≥„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅØ„Åú„Å≤&lt;a href="https://kafka.apache.org/contact" target="_blank" rel="noopener">„É°„Éº„É™„É≥„Ç∞„É™„Çπ„Éà&lt;/a> „Å´ÂèÇÂä†„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ&lt;/p>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img alt="2 Minutes Streaming" srcset="
/community/media/blogs/kafka-acks-explained/two-minites-streaming_hue3ec6dcfa348a79b62ae3c8b92373579_136684_69bf0270813a154536ca6866d0eebe28.webp 400w,
/community/media/blogs/kafka-acks-explained/two-minites-streaming_hue3ec6dcfa348a79b62ae3c8b92373579_136684_9b81ef5fad55639d712bb44153e40131.webp 760w,
/community/media/blogs/kafka-acks-explained/two-minites-streaming_hue3ec6dcfa348a79b62ae3c8b92373579_136684_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
src="https://confluent-jp.github.io/community/community/media/blogs/kafka-acks-explained/two-minites-streaming_hue3ec6dcfa348a79b62ae3c8b92373579_136684_69bf0270813a154536ca6866d0eebe28.webp"
width="760"
height="399"
loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
„Åì„ÅÆ„Ç®„É≥„Éà„É™„ÅÆËëóËÄÖ„Åß„ÅÇ„Çã&lt;a href="../../authors/stanislav/">Stanislav Kozlovski&lt;/a> „ÅØ&lt;a href="https://2minutestreaming.com/" target="_blank" rel="noopener">2 Minute Streaming&lt;/a>„Å®„ÅÑ„ÅÜKafka„Å´Èñ¢„Åô„ÇãÈöîÈÄ±„Éã„É•„Éº„Çπ„É¨„Çø„Éº„ÇíÁô∫Ë°å„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇÊòØÈùûË≥ºË™≠„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>(Ë®≥ËÄÖÊ≥®)„Åª„Å®„Çì„Å©„ÅÆ„É¶„Éº„Çπ„Ç±„Éº„Çπ„Åß„ÅØ&lt;code>acks=all&lt;/code>„ÅåÈÅ©Âàá„Åß„ÅÇ„Çä„ÄÅKafka„ÅÆ„Éá„Éï„Ç©„É´„Éà„Åß„ÇÇ„ÅÇ„Çä„Åæ„Åô„ÄÇ&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item></channel></rss>